import{j as wt,r as Et,R as ii,b as Kr,c as Ft,g as Ba}from"./app-BzQvzgsZ.js";import{T as Da,C as qa}from"./TranslatableInput-BRAEd58I.js";import{B as ja}from"./button-Bu0-mNtV.js";import{T as za}from"./TextInput-DePB2b5l.js";import{S as Za}from"./SecondaryButton-BeasTKPq.js";import{c as Fa}from"./utils-DKOzRpXH.js";import{I as mr}from"./InputLabel-Bwpnf6QJ.js";import{C as _r}from"./Checkbox-DbEZkzUx.js";const Yd=({images:P,setImages:I})=>{const h=k=>{if(!k.target.files)return;const E=Array.from(k.target.files).map(b=>({id:URL.createObjectURL(b),file:b,name:{en:"",hr:""}}));I([...P,...E])},f=k=>{I(P.filter((x,E)=>E!==k))},p=(k,x)=>{I(P.map((E,b)=>b===k?{...E,name:x}:E))};return wt.jsxs("div",{children:[wt.jsx("p",{children:"Slike"}),wt.jsx(za,{type:"file",multiple:!0,accept:"image/*",onChange:h}),wt.jsx("div",{children:P.map((k,x)=>wt.jsxs("div",{className:"flex flex-row items-end gap-x-6 my-4",children:[wt.jsx("img",{src:k.id,alt:k.name.hr,style:{width:"100px",height:"100px",objectFit:"cover"}}),wt.jsx("div",{className:"w-36",children:wt.jsx(Da,{label:"Alt Text",value:k,setData:(E,b)=>p(x,b)})}),wt.jsx(ja,{onClick:()=>f(x),children:"Ukloni"})]},k.id))})]})};function Gr(P,I){const h=Et.useRef(I);Et.useEffect(function(){I!==h.current&&P.attributionControl!=null&&(h.current!=null&&P.attributionControl.removeAttribution(h.current),I!=null&&P.attributionControl.addAttribution(I)),h.current=I},[P,I])}function Ha(P,I,h){I.center!==h.center&&P.setLatLng(I.center),I.radius!=null&&I.radius!==h.radius&&P.setRadius(I.radius)}const Ua=1;function $a(P){return Object.freeze({__version:Ua,map:P})}function Vr(P,I){return Object.freeze({...P,...I})}const Yr=Et.createContext(null),Xr=Yr.Provider;function ci(){const P=Et.useContext(Yr);if(P==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return P}function Jr(P){function I(h,f){const{instance:p,context:k}=P(h).current;return Et.useImperativeHandle(f,()=>p),h.children==null?null:ii.createElement(Xr,{value:k},h.children)}return Et.forwardRef(I)}function Wa(P){function I(h,f){const[p,k]=Et.useState(!1),{instance:x}=P(h,k).current;Et.useImperativeHandle(f,()=>x),Et.useEffect(function(){p&&x.update()},[x,p,h.children]);const E=x._contentNode;return E?Kr.createPortal(h.children,E):null}return Et.forwardRef(I)}function Ka(P){function I(h,f){const{instance:p}=P(h).current;return Et.useImperativeHandle(f,()=>p),null}return Et.forwardRef(I)}function hi(P,I){const h=Et.useRef();Et.useEffect(function(){return I!=null&&P.instance.on(I),h.current=I,function(){h.current!=null&&P.instance.off(h.current),h.current=null}},[P,I])}function vn(P,I){const h=P.pane??I.pane;return h?{...P,pane:h}:P}function Ga(P,I){return function(f,p){const k=ci(),x=P(vn(f,k),k);return Gr(k.map,f.attribution),hi(x.current,f.eventHandlers),I(x.current,k,f,p),x}}var ri={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(P,I){(function(h,f){f(I)})(Ft,function(h){var f="1.9.4";function p(t){var e,n,i,v;for(n=1,i=arguments.length;n<i;n++){v=arguments[n];for(e in v)t[e]=v[e]}return t}var k=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function x(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var E=0;function b(t){return"_leaflet_id"in t||(t._leaflet_id=++E),t._leaflet_id}function O(t,e,n){var i,v,S,U;return U=function(){i=!1,v&&(S.apply(n,v),v=!1)},S=function(){i?v=arguments:(t.apply(n,arguments),setTimeout(U,e),i=!0)},S}function y(t,e,n){var i=e[1],v=e[0],S=i-v;return t===i&&n?t:((t-v)%S+S)%S+v}function l(){return!1}function r(t,e){if(e===!1)return t;var n=Math.pow(10,e===void 0?6:e);return Math.round(t*n)/n}function o(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function m(t){return o(t).split(/\s+/)}function c(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?k(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function d(t,e,n){var i=[];for(var v in t)i.push(encodeURIComponent(n?v.toUpperCase():v)+"="+encodeURIComponent(t[v]));return(!e||e.indexOf("?")===-1?"?":"&")+i.join("&")}var u=/\{ *([\w_ -]+) *\}/g;function s(t,e){return t.replace(u,function(n,i){var v=e[i];if(v===void 0)throw new Error("No value provided for variable "+n);return typeof v=="function"&&(v=v(e)),v})}var _=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function a(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var g="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var N=0;function C(t){var e=+new Date,n=Math.max(0,16-(e-N));return N=e+n,window.setTimeout(t,n)}var q=window.requestAnimationFrame||B("RequestAnimationFrame")||C,A=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function w(t,e,n){if(n&&q===C)t.call(e);else return q.call(window,x(t,e))}function T(t){t&&A.call(window,t)}var R={__proto__:null,extend:p,create:k,bind:x,get lastId(){return E},stamp:b,throttle:O,wrapNum:y,falseFn:l,formatNum:r,trim:o,splitWords:m,setOptions:c,getParamString:d,template:s,isArray:_,indexOf:a,emptyImageUrl:g,requestFn:q,cancelFn:A,requestAnimFrame:w,cancelAnimFrame:T};function j(){}j.extend=function(t){var e=function(){c(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=k(n);i.constructor=e,e.prototype=i;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(e[v]=this[v]);return t.statics&&p(e,t.statics),t.includes&&(H(t.includes),p.apply(null,[i].concat(t.includes))),p(i,t),delete i.statics,delete i.includes,i.options&&(i.options=n.options?k(n.options):{},p(i.options,t.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,U=i._initHooks.length;S<U;S++)i._initHooks[S].call(this)}},e},j.include=function(t){var e=this.prototype.options;return p(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},j.mergeOptions=function(t){return p(this.prototype.options,t),this},j.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function H(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(t,e,n){if(typeof t=="object")for(var i in t)this._on(i,t[i],e);else{t=m(t);for(var v=0,S=t.length;v<S;v++)this._on(t[v],e,n)}return this},off:function(t,e,n){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var i in t)this._off(i,t[i],e);else{t=m(t);for(var v=arguments.length===1,S=0,U=t.length;S<U;S++)v?this._off(t[S]):this._off(t[S],e,n)}return this},_on:function(t,e,n,i){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,n)===!1){n===this&&(n=void 0);var v={fn:e,ctx:n};i&&(v.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(v)}},_off:function(t,e,n){var i,v,S;if(this._events&&(i=this._events[t],!!i)){if(arguments.length===1){if(this._firingCount)for(v=0,S=i.length;v<S;v++)i[v].fn=l;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var U=this._listens(t,e,n);if(U!==!1){var X=i[U];this._firingCount&&(X.fn=l,this._events[t]=i=i.slice()),i.splice(U,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=p({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var v=this._events[t];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,U=v.length;S<U;S++){var X=v[S],tt=X.fn;X.once&&this.off(t,tt,X.ctx),tt.call(X.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e,n,i){typeof t!="string"&&console.warn('"string" type argument expected');var v=e;typeof e!="function"&&(i=!!e,v=void 0,n=void 0);var S=this._events&&this._events[t];if(S&&S.length&&this._listens(t,v,n)!==!1)return!0;if(i){for(var U in this._eventParents)if(this._eventParents[U].listens(t,e,n,i))return!0}return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var v=0,S=i.length;v<S;v++)if(i[v].fn===e&&i[v].ctx===n)return v;return!1},once:function(t,e,n){if(typeof t=="object")for(var i in t)this._on(i,t[i],e,!0);else{t=m(t);for(var v=0,S=t.length;v<S;v++)this._on(t[v],e,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[b(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[b(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,p({layer:t.target,propagatedFrom:t.target},t),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var Y=j.extend(V);function et(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var G=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};et.prototype={clone:function(){return new et(this.x,this.y)},add:function(t){return this.clone()._add(z(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(z(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new et(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new et(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(t){t=z(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=z(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=z(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r(this.x)+", "+r(this.y)+")"}};function z(t,e,n){return t instanceof et?t:_(t)?new et(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new et(t.x,t.y):new et(t,e,n)}function M(t,e){if(t)for(var n=e?[t,e]:t,i=0,v=n.length;i<v;i++)this.extend(n[i])}M.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof et||typeof t[0]=="number"||"x"in t)e=n=z(t);else if(t=Z(t),e=t.min,n=t.max,!e||!n)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=n.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(t){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return typeof t[0]=="number"||t instanceof et?t=z(t):t=Z(t),t instanceof M?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=Z(t);var e=this.min,n=this.max,i=t.min,v=t.max,S=v.x>=e.x&&i.x<=n.x,U=v.y>=e.y&&i.y<=n.y;return S&&U},overlaps:function(t){t=Z(t);var e=this.min,n=this.max,i=t.min,v=t.max,S=v.x>e.x&&i.x<n.x,U=v.y>e.y&&i.y<n.y;return S&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,v=Math.abs(e.y-n.y)*t;return Z(z(e.x-i,e.y-v),z(n.x+i,n.y+v))},equals:function(t){return t?(t=Z(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Z(t,e){return!t||t instanceof M?t:new M(t,e)}function F(t,e){if(t)for(var n=e?[t,e]:t,i=0,v=n.length;i<v;i++)this.extend(n[i])}F.prototype={extend:function(t){var e=this._southWest,n=this._northEast,i,v;if(t instanceof W)i=t,v=t;else if(t instanceof F){if(i=t._southWest,v=t._northEast,!i||!v)return this}else return t?this.extend(D(t)||K(t)):this;return!e&&!n?(this._southWest=new W(i.lat,i.lng),this._northEast=new W(v.lat,v.lng)):(e.lat=Math.min(i.lat,e.lat),e.lng=Math.min(i.lng,e.lng),n.lat=Math.max(v.lat,n.lat),n.lng=Math.max(v.lng,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,v=Math.abs(e.lng-n.lng)*t;return new F(new W(e.lat-i,e.lng-v),new W(n.lat+i,n.lng+v))},getCenter:function(){return new W((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new W(this.getNorth(),this.getWest())},getSouthEast:function(){return new W(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof W||"lat"in t?t=D(t):t=K(t);var e=this._southWest,n=this._northEast,i,v;return t instanceof F?(i=t.getSouthWest(),v=t.getNorthEast()):i=v=t,i.lat>=e.lat&&v.lat<=n.lat&&i.lng>=e.lng&&v.lng<=n.lng},intersects:function(t){t=K(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),v=t.getNorthEast(),S=v.lat>=e.lat&&i.lat<=n.lat,U=v.lng>=e.lng&&i.lng<=n.lng;return S&&U},overlaps:function(t){t=K(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),v=t.getNorthEast(),S=v.lat>e.lat&&i.lat<n.lat,U=v.lng>e.lng&&i.lng<n.lng;return S&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=K(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(t,e){return t instanceof F?t:new F(t,e)}function W(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==void 0&&(this.alt=+n)}W.prototype={equals:function(t,e){if(!t)return!1;t=D(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+r(this.lat,t)+", "+r(this.lng,t)+")"},distanceTo:function(t){return J.distance(this,D(t))},wrap:function(){return J.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return K([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new W(this.lat,this.lng,this.alt)}};function D(t,e,n){return t instanceof W?t:_(t)&&typeof t[0]!="object"?t.length===3?new W(t[0],t[1],t[2]):t.length===2?new W(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new W(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new W(t,e,n)}var $={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),v=this.transformation.transform(e.max,n);return new M(i,v)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?y(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?y(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new W(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,v=e.lng-n.lng;if(i===0&&v===0)return t;var S=t.getSouthWest(),U=t.getNorthEast(),X=new W(S.lat-i,S.lng-v),tt=new W(U.lat-i,U.lng-v);return new F(X,tt)}},J=p({},$,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,v=e.lat*n,S=Math.sin((e.lat-t.lat)*n/2),U=Math.sin((e.lng-t.lng)*n/2),X=S*S+Math.cos(i)*Math.cos(v)*U*U,tt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*tt}}),Q=6378137,rt={R:Q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),v=Math.sin(i*e);return new et(this.R*t.lng*e,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(t){var e=180/Math.PI;return new W((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Q*Math.PI;return new M([-t,-t],[t,t])}()};function ft(t,e,n,i){if(_(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=n,this._d=i}ft.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new et((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function ht(t,e,n,i){return new ft(t,e,n,i)}var pt=p({},J,{code:"EPSG:3857",projection:rt,transformation:function(){var t=.5/(Math.PI*rt.R);return ht(t,.5,-t,.5)}()}),Ot=p({},pt,{code:"EPSG:900913"});function Tt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Dt(t,e){var n="",i,v,S,U,X,tt;for(i=0,S=t.length;i<S;i++){for(X=t[i],v=0,U=X.length;v<U;v++)tt=X[v],n+=(v?"L":"M")+tt.x+" "+tt.y;n+=e?ct.svg?"z":"x":""}return n||"M0 0"}var St=document.documentElement.style,nt="ActiveXObject"in window,it=nt&&!document.addEventListener,st="msLaunchUri"in navigator&&!("documentMode"in document),lt=Yt("webkit"),at=Yt("android"),mt=Yt("android 2")||Yt("android 3"),_t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),gt=at&&Yt("Google")&&_t<537&&!("AudioNode"in window),jt=!!window.opera,Ht=!st&&Yt("chrome"),Lt=Yt("gecko")&&!lt&&!jt&&!nt,Tn=!Ht&&Yt("safari"),Nt=Yt("phantom"),Kt="OTransition"in St,_o=navigator.platform.indexOf("Win")===0,mi=nt&&"transition"in St,Pn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mt,_i="MozPerspective"in St,yo=!window.L_DISABLE_3D&&(mi||Pn||_i)&&!Kt&&!Nt,ke=typeof orientation<"u"||Yt("mobile"),go=ke&&lt,bo=ke&&Pn,yi=!window.PointerEvent&&window.MSPointerEvent,gi=!!(window.PointerEvent||yi),bi="ontouchstart"in window||!!window.TouchEvent,wo=!window.L_NO_TOUCH&&(bi||gi),Oo=ke&&jt,xo=ke&&Lt,Eo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,To=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch{}return t}(),Po=function(){return!!document.createElement("canvas").getContext}(),Ln=!!(document.createElementNS&&Tt("svg").createSVGRect),Lo=!!Ln&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ao=!Ln&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),ko=navigator.platform.indexOf("Mac")===0,So=navigator.platform.indexOf("Linux")===0;function Yt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ct={ie:nt,ielt9:it,edge:st,webkit:lt,android:at,android23:mt,androidStock:gt,opera:jt,chrome:Ht,gecko:Lt,safari:Tn,phantom:Nt,opera12:Kt,win:_o,ie3d:mi,webkit3d:Pn,gecko3d:_i,any3d:yo,mobile:ke,mobileWebkit:go,mobileWebkit3d:bo,msPointer:yi,pointer:gi,touch:wo,touchNative:bi,mobileOpera:Oo,mobileGecko:xo,retina:Eo,passiveEvents:To,canvas:Po,svg:Ln,vml:Ao,inlineSvg:Lo,mac:ko,linux:So},wi=ct.msPointer?"MSPointerDown":"pointerdown",Oi=ct.msPointer?"MSPointerMove":"pointermove",xi=ct.msPointer?"MSPointerUp":"pointerup",Ei=ct.msPointer?"MSPointerCancel":"pointercancel",An={touchstart:wi,touchmove:Oi,touchend:xi,touchcancel:Ei},Ti={touchstart:Bo,touchmove:$e,touchend:$e,touchcancel:$e},pe={},Pi=!1;function No(t,e,n){return e==="touchstart"&&Ro(),Ti[e]?(n=Ti[e].bind(this,n),t.addEventListener(An[e],n,!1),n):(console.warn("wrong event specified:",e),l)}function Mo(t,e,n){if(!An[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(An[e],n,!1)}function Co(t){pe[t.pointerId]=t}function Io(t){pe[t.pointerId]&&(pe[t.pointerId]=t)}function Li(t){delete pe[t.pointerId]}function Ro(){Pi||(document.addEventListener(wi,Co,!0),document.addEventListener(Oi,Io,!0),document.addEventListener(xi,Li,!0),document.addEventListener(Ei,Li,!0),Pi=!0)}function $e(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var n in pe)e.touches.push(pe[n]);e.changedTouches=[e],t(e)}}function Bo(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&qt(e),$e(t,e)}function Do(t){var e={},n,i;for(i in t)n=t[i],e[i]=n&&n.bind?n.bind(t):n;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var qo=200;function jo(t,e){t.addEventListener("dblclick",e);var n=0,i;function v(S){if(S.detail!==1){i=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var U=Mi(S);if(!(U.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!U.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var X=Date.now();X-n<=qo?(i++,i===2&&e(Do(S))):i=1,n=X}}}return t.addEventListener("click",v),{dblclick:e,simDblclick:v}}function zo(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var kn=Ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Se=Ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ai=Se==="webkitTransition"||Se==="OTransition"?Se+"End":"transitionend";function ki(t){return typeof t=="string"?document.getElementById(t):t}function Ne(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return n==="auto"?null:n}function Pt(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function Mt(t){var e=t.parentNode;e&&e.removeChild(t)}function We(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ve(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function me(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Sn(t,e){if(t.classList!==void 0)return t.classList.contains(e);var n=Ke(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function yt(t,e){if(t.classList!==void 0)for(var n=m(e),i=0,v=n.length;i<v;i++)t.classList.add(n[i]);else if(!Sn(t,e)){var S=Ke(t);Nn(t,(S?S+" ":"")+e)}}function Ct(t,e){t.classList!==void 0?t.classList.remove(e):Nn(t,o((" "+Ke(t)+" ").replace(" "+e+" "," ")))}function Nn(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function Ke(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ut(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Zo(t,e)}function Zo(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch{if(e===1)return}e=Math.round(e*100),n?(n.Enabled=e!==100,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Ge(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function le(t,e,n){var i=e||new et(0,0);t.style[kn]=(ct.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function It(t,e){t._leaflet_pos=e,ct.any3d?le(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ue(t){return t._leaflet_pos||new et(0,0)}var Me,Ce,Mn;if("onselectstart"in document)Me=function(){vt(window,"selectstart",qt)},Ce=function(){At(window,"selectstart",qt)};else{var Ie=Ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Me=function(){if(Ie){var t=document.documentElement.style;Mn=t[Ie],t[Ie]="none"}},Ce=function(){Ie&&(document.documentElement.style[Ie]=Mn,Mn=void 0)}}function Cn(){vt(window,"dragstart",qt)}function In(){At(window,"dragstart",qt)}var Ve,Rn;function Bn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ye(),Ve=t,Rn=t.style.outlineStyle,t.style.outlineStyle="none",vt(window,"keydown",Ye))}function Ye(){Ve&&(Ve.style.outlineStyle=Rn,Ve=void 0,Rn=void 0,At(window,"keydown",Ye))}function Si(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Dn(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Fo={__proto__:null,TRANSFORM:kn,TRANSITION:Se,TRANSITION_END:Ai,get:ki,getStyle:Ne,create:Pt,remove:Mt,empty:We,toFront:ve,toBack:me,hasClass:Sn,addClass:yt,removeClass:Ct,setClass:Nn,getClass:Ke,setOpacity:Ut,testProp:Ge,setTransform:le,setPosition:It,getPosition:ue,get disableTextSelection(){return Me},get enableTextSelection(){return Ce},disableImageDrag:Cn,enableImageDrag:In,preventOutline:Bn,restoreOutline:Ye,getSizedParentNode:Si,getScale:Dn};function vt(t,e,n,i){if(e&&typeof e=="object")for(var v in e)jn(t,v,e[v],n);else{e=m(e);for(var S=0,U=e.length;S<U;S++)jn(t,e[S],n,i)}return this}var Xt="_leaflet_events";function At(t,e,n,i){if(arguments.length===1)Ni(t),delete t[Xt];else if(e&&typeof e=="object")for(var v in e)zn(t,v,e[v],n);else if(e=m(e),arguments.length===2)Ni(t,function(X){return a(e,X)!==-1});else for(var S=0,U=e.length;S<U;S++)zn(t,e[S],n,i);return this}function Ni(t,e){for(var n in t[Xt]){var i=n.split(/\d/)[0];(!e||e(i))&&zn(t,i,null,null,n)}}var qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jn(t,e,n,i){var v=e+b(n)+(i?"_"+b(i):"");if(t[Xt]&&t[Xt][v])return this;var S=function(X){return n.call(i||t,X||window.event)},U=S;!ct.touchNative&&ct.pointer&&e.indexOf("touch")===0?S=No(t,e,S):ct.touch&&e==="dblclick"?S=jo(t,S):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(qn[e]||e,S,ct.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(S=function(X){X=X||window.event,Fn(t,X)&&U(X)},t.addEventListener(qn[e],S,!1)):t.addEventListener(e,U,!1):t.attachEvent("on"+e,S),t[Xt]=t[Xt]||{},t[Xt][v]=S}function zn(t,e,n,i,v){v=v||e+b(n)+(i?"_"+b(i):"");var S=t[Xt]&&t[Xt][v];if(!S)return this;!ct.touchNative&&ct.pointer&&e.indexOf("touch")===0?Mo(t,e,S):ct.touch&&e==="dblclick"?zo(t,S):"removeEventListener"in t?t.removeEventListener(qn[e]||e,S,!1):t.detachEvent("on"+e,S),t[Xt][v]=null}function fe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Zn(t){return jn(t,"wheel",fe),this}function Re(t){return vt(t,"mousedown touchstart dblclick contextmenu",fe),t._leaflet_disable_click=!0,this}function qt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ce(t){return qt(t),fe(t),this}function Mi(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Ci(t,e){if(!e)return new et(t.clientX,t.clientY);var n=Dn(e),i=n.boundingClientRect;return new et((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ho=ct.linux&&ct.chrome?window.devicePixelRatio:ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ii(t){return ct.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ho:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Fn(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch{return!1}return n!==t}var Uo={__proto__:null,on:vt,off:At,stopPropagation:fe,disableScrollPropagation:Zn,disableClickPropagation:Re,preventDefault:qt,stop:ce,getPropagationPath:Mi,getMousePosition:Ci,getWheelDelta:Ii,isExternalTarget:Fn,addListener:vt,removeListener:At},Ri=Y.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ue(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=w(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),It(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),xt=Y.extend({options:{crs:pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=x(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(D(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Se&&ct.any3d&&!ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),vt(this._proxy,Ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(D(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=p({animate:n.animate},n.zoom),n.pan=p({animate:n.animate,duration:n.duration},n.pan));var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(i)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),v=this.getSize().divideBy(2),S=t instanceof et?t:this.latLngToContainerPoint(t),U=S.subtract(v).multiplyBy(1-1/i),X=this.containerPointToLatLng(v.add(U));return this.setView(X,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():K(t);var n=z(e.paddingTopLeft||e.padding||[0,0]),i=z(e.paddingBottomRight||e.padding||[0,0]),v=this.getBoundsZoom(t,!1,n.add(i));if(v=typeof e.maxZoom=="number"?Math.min(e.maxZoom,v):v,v===1/0)return{center:t.getCenter(),zoom:v};var S=i.subtract(n).divideBy(2),U=this.project(t.getSouthWest(),v),X=this.project(t.getNorthEast(),v),tt=this.unproject(U.add(X).divideBy(2).add(S),v);return{center:tt,zoom:v}},fitBounds:function(t,e){if(t=K(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=z(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ri,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},n.animate===!1||!ct.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),v=this.project(t),S=this.getSize(),U=this._zoom;t=D(t),e=e===void 0?U:e;var X=Math.max(S.x,S.y),tt=X*this.getZoomScale(U,e),ot=v.distanceTo(i)||1,ut=1.42,dt=ut*ut;function bt(Rt){var un=Rt?-1:1,Ma=Rt?tt:X,Ca=tt*tt-X*X+un*dt*dt*ot*ot,Ia=2*Ma*dt*ot,Qn=Ca/Ia,vr=Math.sqrt(Qn*Qn+1)-Qn,Ra=vr<1e-9?-18:Math.log(vr);return Ra}function zt(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function Bt(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function Wt(Rt){return zt(Rt)/Bt(Rt)}var Zt=bt(0);function Oe(Rt){return X*(Bt(Zt)/Bt(Zt+ut*Rt))}function Aa(Rt){return X*(Bt(Zt)*Wt(Zt+ut*Rt)-zt(Zt))/dt}function ka(Rt){return 1-Math.pow(1-Rt,1.5)}var Sa=Date.now(),dr=(bt(1)-Zt)/ut,Na=n.duration?1e3*n.duration:1e3*dr*.8;function pr(){var Rt=(Date.now()-Sa)/Na,un=ka(Rt)*dr;Rt<=1?(this._flyToFrame=w(pr,this),this._move(this.unproject(i.add(v.subtract(i).multiplyBy(Aa(un)/ot)),U),this.getScaleZoom(X/Oe(un),U),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),pr.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=K(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,K(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=z(e.paddingTopLeft||e.padding||[0,0]),i=z(e.paddingBottomRight||e.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(t),U=this.getPixelBounds(),X=Z([U.min.add(n),U.max.subtract(i)]),tt=X.getSize();if(!X.contains(S)){this._enforcingBounds=!0;var ot=S.subtract(X.getCenter()),ut=X.extend(S).getSize().subtract(tt);v.x+=ot.x<0?-ut.x:ut.x,v.y+=ot.y<0?-ut.y:ut.y,this.panTo(this.unproject(v),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=p({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),v=n.divideBy(2).round(),S=i.subtract(v);return!S.x&&!S.y?this:(t.animate&&t.pan?this.panBy(S):(t.pan&&this._rawPanBy(S),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(x(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=p({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=x(this._handleGeolocationResponse,this),n=x(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,n=t.coords.longitude,i=new W(e,n),v=i.toBounds(t.coords.accuracy*2),S=this._locateOptions;if(S.setView){var U=this.getBoundsZoom(v);this.setView(i,S.maxZoom?Math.min(U,S.maxZoom):U)}var X={latlng:i,bounds:v,timestamp:t.timestamp};for(var tt in t.coords)typeof t.coords[tt]=="number"&&(X[tt]=t.coords[tt]);this.fire("locationfound",X)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Mt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=Pt("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new F(e,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=K(t),n=z(n||[0,0]);var i=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),U=t.getNorthWest(),X=t.getSouthEast(),tt=this.getSize().subtract(n),ot=Z(this.project(X,i),this.project(U,i)).getSize(),ut=ct.any3d?this.options.zoomSnap:1,dt=tt.x/ot.x,bt=tt.y/ot.y,zt=e?Math.max(dt,bt):Math.min(dt,bt);return i=this.getScaleZoom(zt,i),ut&&(i=Math.round(i/(ut/100))*(ut/100),i=e?Math.ceil(i/ut)*ut:Math.floor(i/ut)*ut),Math.max(v,Math.min(S,i))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===void 0?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===void 0?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(D(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(z(t),e)},layerPointToLatLng:function(t){var e=z(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(D(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(D(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(K(t))},distance:function(t,e){return this.options.crs.distance(D(t),D(e))},containerPointToLayerPoint:function(t){return z(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return z(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(z(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(t)))},mouseEventToContainerPoint:function(t){return Ci(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ki(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");vt(e,"scroll",this._onScroll,this),this._containerId=b(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ct.any3d,yt(t,"leaflet-container"+(ct.touch?" leaflet-touch":"")+(ct.retina?" leaflet-retina":"")+(ct.ielt9?" leaflet-oldie":"")+(ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Ne(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(t.markerPane,"leaflet-zoom-hide"),yt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){It(this._mapPane,new et(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var v=this._zoom!==e;this._moveStart(v,n)._move(t,e)._moveEnd(v),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){e===void 0&&(e=this._zoom);var v=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((v||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){It(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[b(this._container)]=this;var e=t?At:vt;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),ct.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=w(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n=[],i,v=e==="mouseout"||e==="mouseover",S=t.target||t.srcElement,U=!1;S;){if(i=this._targets[b(S)],i&&(e==="click"||e==="preclick")&&this._draggableMoved(i)){U=!0;break}if(i&&i.listens(e,!0)&&(v&&!Fn(S,t)||(n.push(i),v))||S===this._container)break;S=S.parentNode}return!n.length&&!U&&!v&&this.listens(e,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var n=t.type;n==="mousedown"&&Bn(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var i=p({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}var v=this._findEventTargets(t,e);if(n){for(var S=[],U=0;U<n.length;U++)n[U].listens(e,!0)&&S.push(n[U]);v=S.concat(v)}if(v.length){e==="contextmenu"&&qt(t);var X=v[0],tt={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ot=X.getLatLng&&(!X._radius||X._radius<=10);tt.containerPoint=ot?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(t),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=ot?X.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(U=0;U<v.length;U++)if(v[U].fire(e,tt,!0),tt.originalEvent._stopped||v[U].options.bubblingMouseEvents===!1&&a(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ue(this._mapPane)||new et(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return Z([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),v=this.getSize().divideBy(2),S=new M(i.subtract(v),i.add(v)),U=this._getBoundsOffset(S,n,e);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?t:this.unproject(i.add(U),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new M(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=Z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),v=i.min.subtract(t.min),S=i.max.subtract(t.max),U=this._rebound(v.x,-S.x),X=this._rebound(v.y,-S.y);return new et(U,X)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=ct.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=kn,i=this._proxy.style[n];le(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();le(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),v=this._getCenterOffset(t)._divideBy(1-1/i);return n.animate!==!0&&!this.getSize().contains(v)?!1:(w(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(x(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $o(t,e){return new xt(t,e)}var Gt=j.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return yt(e,"leaflet-control"),n.indexOf("bottom")!==-1?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Be=function(t){return new Gt(t)};xt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=Pt("div",e+"control-container",this._container);function i(v,S){var U=e+v+" "+e+S;t[v+S]=Pt("div",U,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Mt(this._controlCorners[t]);Mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bi=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Gt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(b(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=Pt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Re(e),Zn(e);var i=this._section=Pt("section",t+"-list");n&&(this._map.on("click",this.collapse,this),vt(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Pt("a",t+"-toggle",e);v.href="#",v.title="Layers",v.setAttribute("role","button"),vt(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){qt(S),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=Pt("div",t+"-base",i),this._separator=Pt("div",t+"-separator",i),this._overlaysList=Pt("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&b(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(x(function(i,v){return this.options.sortFunction(i.layer,v.layer,i.name,v.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,v=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,v+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&v>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(b(t.target)),n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),i;t.overlay?(i=document.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=n):i=this._createRadioElement("leaflet-base-layers_"+b(this),n),this._layerControlInputs.push(i),i.layerId=b(t.layer),vt(i,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+t.name;var S=document.createElement("span");e.appendChild(S),S.appendChild(i),S.appendChild(v);var U=t.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,n,i=[],v=[];this._handlingClick=!0;for(var S=t.length-1;S>=0;S--)e=t[S],n=this._getLayer(e.layerId).layer,e.checked?i.push(n):e.checked||v.push(n);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<i.length;S++)this._map.hasLayer(i[S])||this._map.addLayer(i[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,n,i=this._map.getZoom(),v=t.length-1;v>=0;v--)e=t[v],n=this._getLayer(e.layerId).layer,e.disabled=n.options.minZoom!==void 0&&i<n.options.minZoom||n.options.maxZoom!==void 0&&i>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,vt(t,"click",qt),this.expand();var e=this;setTimeout(function(){At(t,"click",qt),e._preventClick=!1})}}),Wo=function(t,e,n){return new Bi(t,e,n)},Hn=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=Pt("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,v){var S=Pt("a",n,i);return S.innerHTML=t,S.href="#",S.title=e,S.setAttribute("role","button"),S.setAttribute("aria-label",e),Re(S),vt(S,"click",ce),vt(S,"click",v,this),vt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ct(this._zoomInButton,e),Ct(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(yt(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(yt(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hn,this.addControl(this.zoomControl))});var Ko=function(t){return new Hn(t)},Di=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=Pt("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=Pt("div",e,n)),t.imperial&&(this._iScale=Pt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,i,v;e>5280?(n=e/5280,i=this._getRoundNum(n),this._updateScale(this._iScale,i+" mi",i/n)):(v=this._getRoundNum(e),this._updateScale(this._iScale,v+" ft",v/e))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),Go=function(t){return new Di(t)},Vo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Un=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ct.inlineSvg?Vo+" ":"")+"Leaflet</a>"},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),Re(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Un().addTo(this)});var Yo=function(t){return new Un(t)};Gt.Layers=Bi,Gt.Zoom=Hn,Gt.Scale=Di,Gt.Attribution=Un,Be.layers=Wo,Be.zoom=Ko,Be.scale=Go,Be.attribution=Yo;var Jt=j.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jt.addTo=function(t,e){return t.addHandler(e,this),this};var Xo={Events:V},qi=ct.touch?"touchstart mousedown":"mousedown",ae=Y.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){c(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(vt(this._dragStartTarget,qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ae._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Sn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ae._dragging===this&&this.finishDrag();return}if(!(ae._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ae._dragging=this,this._preventOutline&&Bn(this._element),Cn(),Me(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Si(this._element);this._startPoint=new et(e.clientX,e.clientY),this._startPos=ue(this._element),this._parentScale=Dn(n);var i=t.type==="mousedown";vt(document,i?"mousemove":"touchmove",this._onMove,this),vt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new et(e.clientX,e.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,qt(t),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),It(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ct(document.body,"leaflet-dragging"),this._lastTarget&&(Ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),In(),Ce();var e=this._moved&&this._moving;this._moving=!1,ae._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ji(t,e,n){var i,v=[1,4,2,8],S,U,X,tt,ot,ut,dt,bt;for(S=0,ut=t.length;S<ut;S++)t[S]._code=he(t[S],e);for(X=0;X<4;X++){for(dt=v[X],i=[],S=0,ut=t.length,U=ut-1;S<ut;U=S++)tt=t[S],ot=t[U],tt._code&dt?ot._code&dt||(bt=Xe(ot,tt,dt,e,n),bt._code=he(bt,e),i.push(bt)):(ot._code&dt&&(bt=Xe(ot,tt,dt,e,n),bt._code=he(bt,e),i.push(bt)),i.push(tt));t=i}return t}function zi(t,e){var n,i,v,S,U,X,tt,ot,ut;if(!t||t.length===0)throw new Error("latlngs not passed");$t(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var dt=D([0,0]),bt=K(t),zt=bt.getNorthWest().distanceTo(bt.getSouthWest())*bt.getNorthEast().distanceTo(bt.getNorthWest());zt<1700&&(dt=$n(t));var Bt=t.length,Wt=[];for(n=0;n<Bt;n++){var Zt=D(t[n]);Wt.push(e.project(D([Zt.lat-dt.lat,Zt.lng-dt.lng])))}for(X=tt=ot=0,n=0,i=Bt-1;n<Bt;i=n++)v=Wt[n],S=Wt[i],U=v.y*S.x-S.y*v.x,tt+=(v.x+S.x)*U,ot+=(v.y+S.y)*U,X+=U*3;X===0?ut=Wt[0]:ut=[tt/X,ot/X];var Oe=e.unproject(z(ut));return D([Oe.lat+dt.lat,Oe.lng+dt.lng])}function $n(t){for(var e=0,n=0,i=0,v=0;v<t.length;v++){var S=D(t[v]);e+=S.lat,n+=S.lng,i++}return D([e/i,n/i])}var Jo={__proto__:null,clipPolygon:ji,polygonCenter:zi,centroid:$n};function Zi(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=ea(t,n),t=ta(t,n),t}function Fi(t,e,n){return Math.sqrt(De(t,e,n,!0))}function Qo(t,e,n){return De(t,e,n)}function ta(t,e){var n=t.length,i=typeof Uint8Array<"u"?Uint8Array:Array,v=new i(n);v[0]=v[n-1]=1,Wn(t,v,e,0,n-1);var S,U=[];for(S=0;S<n;S++)v[S]&&U.push(t[S]);return U}function Wn(t,e,n,i,v){var S=0,U,X,tt;for(X=i+1;X<=v-1;X++)tt=De(t[X],t[i],t[v],!0),tt>S&&(U=X,S=tt);S>n&&(e[U]=1,Wn(t,e,n,i,U),Wn(t,e,n,U,v))}function ea(t,e){for(var n=[t[0]],i=1,v=0,S=t.length;i<S;i++)na(t[i],t[v])>e&&(n.push(t[i]),v=i);return v<S-1&&n.push(t[S-1]),n}var Hi;function Ui(t,e,n,i,v){var S=i?Hi:he(t,n),U=he(e,n),X,tt,ot;for(Hi=U;;){if(!(S|U))return[t,e];if(S&U)return!1;X=S||U,tt=Xe(t,e,X,n,v),ot=he(tt,n),X===S?(t=tt,S=ot):(e=tt,U=ot)}}function Xe(t,e,n,i,v){var S=e.x-t.x,U=e.y-t.y,X=i.min,tt=i.max,ot,ut;return n&8?(ot=t.x+S*(tt.y-t.y)/U,ut=tt.y):n&4?(ot=t.x+S*(X.y-t.y)/U,ut=X.y):n&2?(ot=tt.x,ut=t.y+U*(tt.x-t.x)/S):n&1&&(ot=X.x,ut=t.y+U*(X.x-t.x)/S),new et(ot,ut,v)}function he(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function na(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function De(t,e,n,i){var v=e.x,S=e.y,U=n.x-v,X=n.y-S,tt=U*U+X*X,ot;return tt>0&&(ot=((t.x-v)*U+(t.y-S)*X)/tt,ot>1?(v=n.x,S=n.y):ot>0&&(v+=U*ot,S+=X*ot)),U=t.x-v,X=t.y-S,i?U*U+X*X:new et(v,S)}function $t(t){return!_(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function $i(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$t(t)}function Wi(t,e){var n,i,v,S,U,X,tt,ot;if(!t||t.length===0)throw new Error("latlngs not passed");$t(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ut=D([0,0]),dt=K(t),bt=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());bt<1700&&(ut=$n(t));var zt=t.length,Bt=[];for(n=0;n<zt;n++){var Wt=D(t[n]);Bt.push(e.project(D([Wt.lat-ut.lat,Wt.lng-ut.lng])))}for(n=0,i=0;n<zt-1;n++)i+=Bt[n].distanceTo(Bt[n+1])/2;if(i===0)ot=Bt[0];else for(n=0,S=0;n<zt-1;n++)if(U=Bt[n],X=Bt[n+1],v=U.distanceTo(X),S+=v,S>i){tt=(S-i)/v,ot=[X.x-tt*(X.x-U.x),X.y-tt*(X.y-U.y)];break}var Zt=e.unproject(z(ot));return D([Zt.lat+ut.lat,Zt.lng+ut.lng])}var ia={__proto__:null,simplify:Zi,pointToSegmentDistance:Fi,closestPointOnSegment:Qo,clipSegment:Ui,_getEdgeIntersection:Xe,_getBitCode:he,_sqClosestPointOnSegment:De,isFlat:$t,_flat:$i,polylineCenter:Wi},Kn={project:function(t){return new et(t.lng,t.lat)},unproject:function(t){return new W(t.y,t.x)},bounds:new M([-180,-90],[180,90])},Gn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,v=this.R_MINOR/n,S=Math.sqrt(1-v*v),U=S*Math.sin(i),X=Math.tan(Math.PI/4-i/2)/Math.pow((1-U)/(1+U),S/2);return i=-n*Math.log(Math.max(X,1e-10)),new et(t.lng*e*n,i)},unproject:function(t){for(var e=180/Math.PI,n=this.R,i=this.R_MINOR/n,v=Math.sqrt(1-i*i),S=Math.exp(-t.y/n),U=Math.PI/2-2*Math.atan(S),X=0,tt=.1,ot;X<15&&Math.abs(tt)>1e-7;X++)ot=v*Math.sin(U),ot=Math.pow((1-ot)/(1+ot),v/2),tt=Math.PI/2-2*Math.atan(S*ot)-U,U+=tt;return new W(U*e,t.x*e/n)}},ra={__proto__:null,LonLat:Kn,Mercator:Gn,SphericalMercator:rt},oa=p({},J,{code:"EPSG:3395",projection:Gn,transformation:function(){var t=.5/(Math.PI*Gn.R);return ht(t,.5,-t,.5)}()}),Ki=p({},J,{code:"EPSG:4326",projection:Kn,transformation:ht(1/180,1,-1/180,.5)}),aa=p({},$,{projection:Kn,transformation:ht(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});$.Earth=J,$.EPSG3395=oa,$.EPSG3857=pt,$.EPSG900913=Ot,$.EPSG4326=Ki,$.Simple=aa;var Vt=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[b(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[b(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=b(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=b(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return b(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?_(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[b(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=b(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var v=this._zoomBoundLayers[i].options;t=v.minZoom===void 0?t:Math.min(t,v.minZoom),e=v.maxZoom===void 0?e:Math.max(e,v.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _e=Vt.extend({initialize:function(t,e){c(this,e),this._layers={};var n,i;if(t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,i;for(n in this._layers)i=this._layers[n],i[t]&&i[t].apply(i,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return b(t)}}),sa=function(t,e){return new _e(t,e)},ee=_e.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),_e.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),_e.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new F;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),la=function(t,e){return new ee(t,e)},ye=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];typeof i=="number"&&(i=[i,i]);var v=z(i),S=z(e==="shadow"&&n.shadowAnchor||n.iconAnchor||v&&v.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),S&&(t.style.marginLeft=-S.x+"px",t.style.marginTop=-S.y+"px"),v&&(t.style.width=v.x+"px",t.style.height=v.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return ct.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ua(t){return new ye(t)}var qe=ye.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof qe.imagePath!="string"&&(qe.imagePath=this._detectIconPath()),(this.options.imagePath||qe.imagePath)+ye.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(n,i,v){var S=i.exec(n);return S&&S[v]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Pt("div","leaflet-default-icon-path",document.body),e=Ne(t,"background-image")||Ne(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),Gi=Jt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ae(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=ue(e._icon),U=n.getPixelBounds(),X=n.getPixelOrigin(),tt=Z(U.min._subtract(X).add(v),U.max._subtract(X).subtract(v));if(!tt.contains(S)){var ot=z((Math.max(tt.max.x,S.x)-tt.max.x)/(U.max.x-tt.max.x)-(Math.min(tt.min.x,S.x)-tt.min.x)/(U.min.x-tt.min.x),(Math.max(tt.max.y,S.y)-tt.max.y)/(U.max.y-tt.max.y)-(Math.min(tt.min.y,S.y)-tt.min.y)/(U.min.y-tt.min.y)).multiplyBy(i);n.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),It(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=w(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=w(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ue(e._icon),v=e._map.layerPointToLatLng(i);n&&It(n,i),e._latlng=v,t.latlng=v,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Je=Vt.extend({options:{icon:new qe,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){c(this,e),this._latlng=D(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),n.tagName==="IMG"&&(n.alt=t.alt||"")),yt(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(n,"focus",this._panOnFocus,this);var v=t.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(yt(v,e),v.alt=""),this._shadow=v,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),Mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&It(this._icon,t),this._shadow&&It(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ut(this._icon,t),this._shadow&&Ut(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?z(e.iconSize):z(0,0),i=e.iconAnchor?z(e.iconAnchor):z(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fa(t,e){return new Je(t,e)}var se=Vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qe=se.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=D(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return se.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new M(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ca(t,e){return new Qe(t,e)}var Vn=Qe.extend({initialize:function(t,e,n){if(typeof e=="number"&&(e=p({},n,{radius:e})),c(this,e),this._latlng=D(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:se.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===J.distance){var v=Math.PI/180,S=this._mRadius/J.R/v,U=n.project([e+S,t]),X=n.project([e-S,t]),tt=U.add(X).divideBy(2),ot=n.unproject(tt).lat,ut=Math.acos((Math.cos(S*v)-Math.sin(e*v)*Math.sin(ot*v))/(Math.cos(e*v)*Math.cos(ot*v)))/v;(isNaN(ut)||ut===0)&&(ut=S/Math.cos(Math.PI/180*e)),this._point=tt.subtract(n.getPixelOrigin()),this._radius=isNaN(ut)?0:tt.x-n.project([ot,t-ut]).x,this._radiusY=tt.y-U.y}else{var dt=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(dt).x}this._updateBounds()}});function ha(t,e,n){return new Vn(t,e,n)}var ne=se.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,n=null,i=De,v,S,U=0,X=this._parts.length;U<X;U++)for(var tt=this._parts[U],ot=1,ut=tt.length;ot<ut;ot++){v=tt[ot-1],S=tt[ot];var dt=i(t,v,S,!0);dt<e&&(e=dt,n=i(t,v,S))}return n&&(n.distance=Math.sqrt(e)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=D(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new F,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return $t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=$t(t),i=0,v=t.length;i<v;i++)n?(e[i]=D(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new et(t,t);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i=t[0]instanceof W,v=t.length,S,U;if(i){for(U=[],S=0;S<v;S++)U[S]=this._map.latLngToLayerPoint(t[S]),n.extend(U[S]);e.push(U)}else for(S=0;S<v;S++)this._projectLatlngs(t[S],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,i,v,S,U,X,tt;for(n=0,v=0,S=this._rings.length;n<S;n++)for(tt=this._rings[n],i=0,U=tt.length;i<U-1;i++)X=Ui(tt[i],tt[i+1],t,i,!0),X&&(e[v]=e[v]||[],e[v].push(X[0]),(X[1]!==tt[i+1]||i===U-2)&&(e[v].push(X[1]),v++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Zi(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,v,S,U,X,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,S=this._parts.length;n<S;n++)for(X=this._parts[n],i=0,U=X.length,v=U-1;i<U;v=i++)if(!(!e&&i===0)&&Fi(t,X[v],X[i])<=tt)return!0;return!1}});function da(t,e){return new ne(t,e)}ne._flat=$i;var ge=ne.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ne.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof W&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ne.prototype._setLatLngs.call(this,t),$t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new et(e,e);if(t=new M(t.min.subtract(n),t.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var i=0,v=this._rings.length,S;i<v;i++)S=ji(this._rings[i],t,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,n,i,v,S,U,X,tt,ot;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(S=0,tt=this._parts.length;S<tt;S++)for(n=this._parts[S],U=0,ot=n.length,X=ot-1;U<ot;X=U++)i=n[U],v=n[X],i.y>t.y!=v.y>t.y&&t.x<(v.x-i.x)*(t.y-i.y)/(v.y-i.y)+i.x&&(e=!e);return e||ne.prototype._containsPoint.call(this,t,!0)}});function pa(t,e){return new ge(t,e)}var ie=ee.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=_(t)?t:t.features,n,i,v;if(e){for(n=0,i=e.length;n<i;n++)v=e[n],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(t))return this;var U=tn(t,S);return U?(U.feature=rn(t),U.defaultOptions=U.options,this.resetStyle(U),S.onEachFeature&&S.onEachFeature(t,U),this.addLayer(U)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=p({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function tn(t,e){var n=t.type==="Feature"?t.geometry:t,i=n?n.coordinates:null,v=[],S=e&&e.pointToLayer,U=e&&e.coordsToLatLng||Yn,X,tt,ot,ut;if(!i&&!n)return null;switch(n.type){case"Point":return X=U(i),Vi(S,t,X,e);case"MultiPoint":for(ot=0,ut=i.length;ot<ut;ot++)X=U(i[ot]),v.push(Vi(S,t,X,e));return new ee(v);case"LineString":case"MultiLineString":return tt=en(i,n.type==="LineString"?0:1,U),new ne(tt,e);case"Polygon":case"MultiPolygon":return tt=en(i,n.type==="Polygon"?1:2,U),new ge(tt,e);case"GeometryCollection":for(ot=0,ut=n.geometries.length;ot<ut;ot++){var dt=tn({geometry:n.geometries[ot],type:"Feature",properties:t.properties},e);dt&&v.push(dt)}return new ee(v);case"FeatureCollection":for(ot=0,ut=n.features.length;ot<ut;ot++){var bt=tn(n.features[ot],e);bt&&v.push(bt)}return new ee(v);default:throw new Error("Invalid GeoJSON object.")}}function Vi(t,e,n,i){return t?t(e,n):new Je(n,i&&i.markersInheritOptions&&i)}function Yn(t){return new W(t[1],t[0],t[2])}function en(t,e,n){for(var i=[],v=0,S=t.length,U;v<S;v++)U=e?en(t[v],e-1,n):(n||Yn)(t[v]),i.push(U);return i}function Xn(t,e){return t=D(t),t.alt!==void 0?[r(t.lng,e),r(t.lat,e),r(t.alt,e)]:[r(t.lng,e),r(t.lat,e)]}function nn(t,e,n,i){for(var v=[],S=0,U=t.length;S<U;S++)v.push(e?nn(t[S],$t(t[S])?0:e-1,n,i):Xn(t[S],i));return!e&&n&&v.length>0&&v.push(v[0].slice()),v}function be(t,e){return t.feature?p({},t.feature,{geometry:e}):rn(e)}function rn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Jn={toGeoJSON:function(t){return be(this,{type:"Point",coordinates:Xn(this.getLatLng(),t)})}};Je.include(Jn),Vn.include(Jn),Qe.include(Jn),ne.include({toGeoJSON:function(t){var e=!$t(this._latlngs),n=nn(this._latlngs,e?1:0,!1,t);return be(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),ge.include({toGeoJSON:function(t){var e=!$t(this._latlngs),n=e&&!$t(this._latlngs[0]),i=nn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),be(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),_e.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),be(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var n=e==="GeometryCollection",i=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(t);if(n)i.push(S.geometry);else{var U=rn(S);U.type==="FeatureCollection"?i.push.apply(i,U.features):i.push(U)}}}),n?be(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});function Yi(t,e){return new ie(t,e)}var va=Yi,on=Vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=K(e),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ve(this._image),this},bringToBack:function(){return this._map&&me(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=K(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:Pt("img");if(yt(e,"leaflet-image-layer"),this._zoomAnimated&&yt(e,"leaflet-zoom-animated"),this.options.className&&yt(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=x(this.fire,this,"load"),e.onerror=x(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;le(this._image,n,e)},_reset:function(){var t=this._image,e=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();It(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ma=function(t,e,n){return new on(t,e,n)},Xi=on.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:Pt("video");if(yt(e,"leaflet-image-layer"),this._zoomAnimated&&yt(e,"leaflet-zoom-animated"),this.options.className&&yt(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=x(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],v=0;v<n.length;v++)i.push(n[v].src);this._url=n.length>0?i:[e.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var U=Pt("source");U.src=this._url[S],e.appendChild(U)}}});function _a(t,e,n){return new Xi(t,e,n)}var Ji=on.extend({_initImage:function(){var t=this._image=this._url;yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});function ya(t,e,n){return new Ji(t,e,n)}var Qt=Vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof W||_(t))?(this._latlng=D(t),c(this,e)):(c(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(x(Mt,void 0,this._container),200)):Mt(this._container),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=D(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ve(this._container),this},bringToBack:function(){return this._map&&me(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ee){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=z(this.options.offset),n=this._getAnchor();this._zoomAnimated?It(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(t,e,n,i){var v=e;return v instanceof t||(v=new t(i).setContent(e)),n&&v.setLatLng(n),v}}),Vt.include({_initOverlay:function(t,e,n,i){var v=n;return v instanceof t?(c(v,i),v._source=this):(v=e&&!i?e:new t(i,this),v.setContent(n)),v}});var an=Qt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Qt.prototype.openOn.call(this,t)},onAdd:function(t){Qt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof se||this._source.on("preclick",fe))},onRemove:function(t){Qt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof se||this._source.off("preclick",fe))},getEvents:function(){var t=Qt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=Pt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=Pt("div",t+"-content-wrapper",e);if(this._contentNode=Pt("div",t+"-content",n),Re(e),Zn(this._contentNode),vt(e,"contextmenu",fe),this._tipContainer=Pt("div",t+"-tip-container",e),this._tip=Pt("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=Pt("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',vt(i,"click",function(v){qt(v),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&i>v?(e.height=v+"px",yt(t,S)):Ct(t,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();It(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Ne(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,v=new et(this._containerLeft,-n-this._containerBottom);v._add(ue(this._container));var S=t.layerPointToContainerPoint(v),U=z(this.options.autoPanPadding),X=z(this.options.autoPanPaddingTopLeft||U),tt=z(this.options.autoPanPaddingBottomRight||U),ot=t.getSize(),ut=0,dt=0;S.x+i+tt.x>ot.x&&(ut=S.x+i-ot.x+tt.x),S.x-ut-X.x<0&&(ut=S.x-X.x),S.y+n+tt.y>ot.y&&(dt=S.y+n-ot.y+tt.y),S.y-dt-X.y<0&&(dt=S.y-X.y),(ut||dt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ut,dt]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ga=function(t,e){return new an(t,e)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(t,e,n){return this._initOverlay(an,t,e,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Vt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(an,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ee||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ce(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof se)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var sn=Qt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Qt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Qt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Qt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,v=this._container,S=i.latLngToContainerPoint(i.getCenter()),U=i.layerPointToContainerPoint(t),X=this.options.direction,tt=v.offsetWidth,ot=v.offsetHeight,ut=z(this.options.offset),dt=this._getAnchor();X==="top"?(e=tt/2,n=ot):X==="bottom"?(e=tt/2,n=0):X==="center"?(e=tt/2,n=ot/2):X==="right"?(e=0,n=ot/2):X==="left"?(e=tt,n=ot/2):U.x<S.x?(X="right",e=0,n=ot/2):(X="left",e=tt+(ut.x+dt.x)*2,n=ot/2),t=t.subtract(z(e,n,!0)).add(ut).add(dt),Ct(v,"leaflet-tooltip-right"),Ct(v,"leaflet-tooltip-left"),Ct(v,"leaflet-tooltip-top"),Ct(v,"leaflet-tooltip-bottom"),yt(v,"leaflet-tooltip-"+X),It(v,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ut(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ba=function(t,e){return new sn(t,e)};xt.include({openTooltip:function(t,e,n){return this._initOverlay(sn,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Vt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sn,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ee||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(vt(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),vt(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,n,i;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(n),e=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(e)}});var Qi=ye.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(We(e),e.appendChild(n.html)):e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var i=z(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function wa(t){return new Qi(t)}ye.Default=qe;var je=Vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Mt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=O(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof et?t:new et(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,n=-t(-1/0,1/0),i=0,v=e.length,S;i<v;i++)S=e[i].style.zIndex,e[i]!==this._container&&S&&(n=t(n,+S));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ct.ielt9){Ut(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var v=this._tiles[i];if(!(!v.current||!v.loaded)){var S=Math.min(1,(t-v.loaded)/200);Ut(v.el,S),S<1?e=!0:(v.active?n=!0:this._onOpaqueTile(v),v.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=w(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(Mt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],v=this._map;return i||(i=this._levels[t]={},i.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=v.project(v.unproject(v.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,v.getCenter(),v.getZoom()),l(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Mt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var v=Math.floor(t/2),S=Math.floor(e/2),U=n-1,X=new et(+v,+S);X.z=+U;var tt=this._tileCoordsToKey(X),ot=this._tiles[tt];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),U>i?this._retainParent(v,S,U,i):!1)},_retainChildren:function(t,e,n,i){for(var v=2*t;v<2*t+2;v++)for(var S=2*e;S<2*e+2;S++){var U=new et(v,S);U.z=n+1;var X=this._tileCoordsToKey(U),tt=this._tiles[X];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);n+1<i&&this._retainChildren(v,S,n+1,i)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var v=Math.round(e);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!i||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),v=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();ct.any3d?le(t.el,v,i):It(t.el,v)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),v=e.project(t,this._tileZoom).floor(),S=e.getSize().divideBy(i*2);return new M(v.subtract(S),v.add(S))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var i=this._getTiledPixelBounds(t),v=this._pxBoundsToTileRange(i),S=v.getCenter(),U=[],X=this.options.keepBuffer,tt=new M(v.getBottomLeft().subtract([X,-X]),v.getTopRight().add([X,-X]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var ut=this._tiles[ot].coords;(ut.z!==this._tileZoom||!tt.contains(new et(ut.x,ut.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var dt=v.min.y;dt<=v.max.y;dt++)for(var bt=v.min.x;bt<=v.max.x;bt++){var zt=new et(bt,dt);if(zt.z=this._tileZoom,!!this._isValidTile(zt)){var Bt=this._tiles[this._tileCoordsToKey(zt)];Bt?Bt.current=!0:U.push(zt)}}if(U.sort(function(Zt,Oe){return Zt.distanceTo(S)-Oe.distanceTo(S)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(bt=0;bt<U.length;bt++)this._addTile(U[bt],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return K(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),v=i.add(n),S=e.unproject(i,t.z),U=e.unproject(v,t.z);return[S,U]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new F(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new et(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(Mt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){yt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,ct.ielt9&&this.options.opacity<1&&Ut(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),v=this.createTile(this._wrapCoords(t),x(this._tileReady,this,t));this._initTile(v),this.createTile.length<2&&w(x(this._tileReady,this,t,null,v)),It(v,n),this._tiles[i]={el:v,coords:t,current:!0},e.appendChild(v),this.fire("tileloadstart",{tile:v,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(Ut(n.el,0),T(this._fadeFrame),this._fadeFrame=w(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(yt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ct.ielt9||!this._map._fadeAnimated?w(this._pruneTiles,this):setTimeout(x(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new et(this._wrapX?y(t.x,this._wrapX):t.x,this._wrapY?y(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new M(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Oa(t){return new je(t)}var we=je.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=c(this,e),e.detectRetina&&ct.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return vt(n,"load",x(this._tileOnLoad,this,e,n)),vt(n,"error",x(this._tileOnError,this,e,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:ct.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return s(this._url,p(e,this.options))},_tileOnLoad:function(t,e){ct.ielt9?setTimeout(x(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=l,e.onerror=l,!e.complete)){e.src=g;var n=this._tiles[t].coords;Mt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",g),je.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!(!this._map||n&&n.getAttribute("src")===g))return je.prototype._tileReady.call(this,t,e,n)}});function tr(t,e){return new we(t,e)}var er=we.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=p({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=c(this,e);var v=e.detectRetina&&ct.retina?2:1,S=this.getTileSize();n.width=S.x*v,n.height=S.y*v,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,we.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=Z(n.project(e[0]),n.project(e[1])),v=i.min,S=i.max,U=(this._wmsVersion>=1.3&&this._crs===Ki?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),X=we.prototype.getTileUrl.call(this,t);return X+d(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(t,e){return p(this.wmsParams,t),e||this.redraw(),this}});function xa(t,e){return new er(t,e)}we.WMS=er,tr.wms=xa;var re=Vt.extend({options:{padding:.1},initialize:function(t){c(this,t),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,e),S=i.multiplyBy(-n).add(v).subtract(this._map._getNewPixelOrigin(t,e));ct.any3d?le(this._container,S,n):It(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new M(n,n.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nr=re.extend({options:{tolerance:0},getEvents:function(){var t=re.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){re.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");vt(t,"mousemove",this._onMouseMove,this),vt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),vt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,Mt(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){re.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=ct.retina?2:1;It(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){re.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[b(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[b(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],i,v;for(v=0;v<e.length;v++){if(i=Number(e[v]),isNaN(i))return;n.push(i)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||w(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,v,S,U=t._parts,X=U.length,tt=this._ctx;if(X){for(tt.beginPath(),n=0;n<X;n++){for(i=0,v=U[n].length;i<v;i++)S=U[n][i],tt[i?"lineTo":"moveTo"](S.x,S.y);e&&tt.closePath()}this._fillStroke(tt,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),v=(Math.max(Math.round(t._radiusY),1)||i)/i;v!==1&&(n.save(),n.scale(1,v)),n.beginPath(),n.arc(e.x,e.y/v,i,0,Math.PI*2,!1),v!==1&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),n,i,v=this._drawFirst;v;v=v.next)n=v.layer,n.options.interactive&&n._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(n))&&(i=n);this._fireEvent(i?[i]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,v=this._drawFirst;v;v=v.next)n=v.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(yt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(x(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;if(n)n.prev=i;else return;i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;if(i)i.next=n;else return;n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function ir(t){return ct.canvas?new nr(t):null}var ze=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ea={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(re.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ze("shape");yt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ze("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[b(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Mt(e),t.removeInteractiveTarget(e),delete this._layers[b(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,v=t._container;v.stroked=!!i.stroke,v.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ze("stroke")),v.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=_(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(v.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ze("fill")),v.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(v.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ve(t._container)},_bringToBack:function(t){me(t._container)}},ln=ct.vml?ze:Tt,Ze=re.extend({_initContainer:function(){this._container=ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mt(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){re.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),It(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ln("path");t.options.className&&yt(e,t.options.className),t.options.interactive&&yt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[b(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Mt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[b(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Dt(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,v="a"+n+","+i+" 0 1,0 ",S=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+v+n*2+",0 "+v+-n*2+",0 ";this._setPath(t,S)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ve(t._path)},_bringToBack:function(t){me(t._path)}});ct.vml&&Ze.include(Ea);function rr(t){return ct.svg||ct.vml?new Ze(t):null}xt.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ir(t)||rr(t)}});var or=ge.extend({initialize:function(t,e){ge.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=K(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ta(t,e){return new or(t,e)}Ze.create=ln,Ze.pointsToPath=Dt,ie.geometryToLayer=tn,ie.coordsToLatLng=Yn,ie.coordsToLatLngs=en,ie.latLngToCoords=Xn,ie.latLngsToCoords=nn,ie.getFeature=be,ie.asFeature=rn,xt.mergeOptions({boxZoom:!0});var ar=Jt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Me(),Cn(),this._startPoint=this._map.mouseEventToContainerPoint(t),vt(document,{contextmenu:ce,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new M(this._point,this._startPoint),n=e.getSize();It(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Mt(this._box),Ct(this._container,"leaflet-crosshair")),Ce(),In(),At(document,{contextmenu:ce,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(x(this._resetState,this),0);var e=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",ar),xt.mergeOptions({doubleClickZoom:!0});var sr=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,v=t.originalEvent.shiftKey?n-i:n+i;e.options.doubleClickZoom==="center"?e.setZoom(v):e.setZoomAround(t.containerPoint,v)}});xt.addInitHook("addHandler","doubleClickZoom",sr),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var lr=Jt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ae(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ct(this._map._container,"leaflet-grab"),Ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=K(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,v=(i-e+n)%t+e-n,S=(i+e+n)%t-e-n,U=Math.abs(v+n)<Math.abs(S+n)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,U=n.easeLinearity,X=v.multiplyBy(U/S),tt=X.distanceTo([0,0]),ot=Math.min(n.inertiaMaxSpeed,tt),ut=X.multiplyBy(ot/tt),dt=ot/(n.inertiaDeceleration*U),bt=ut.multiplyBy(-dt/2).round();!bt.x&&!bt.y?e.fire("moveend"):(bt=e._limitOffset(bt,e.options.maxBounds),w(function(){e.panBy(bt,{duration:dt,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",lr),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ur=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),vt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,i,v;for(i=0,v=n.left.length;i<v;i++)e[n.left[i]]=[-1*t,0];for(i=0,v=n.right.length;i<v;i++)e[n.right[i]]=[t,0];for(i=0,v=n.down.length;i<v;i++)e[n.down[i]]=[0,t];for(i=0,v=n.up.length;i<v;i++)e[n.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,i,v;for(i=0,v=n.zoomIn.length;i<v;i++)e[n.zoomIn[i]]=t;for(i=0,v=n.zoomOut.length;i<v;i++)e[n.zoomOut[i]]=-t},_addHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,n=this._map,i;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(i=this._panKeys[e],t.shiftKey&&(i=z(i).multiplyBy(3)),n.options.maxBounds&&(i=n._limitOffset(z(i),n.options.maxBounds)),n.options.worldCopyJump){var v=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(i)));n.panTo(v)}else n.panBy(i)}else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;ce(t)}}});xt.addInitHook("addHandler","keyboard",ur),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fr=Jt.extend({addHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ii(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(x(this._performZoom,this),i),ce(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,S=n?Math.ceil(v/n)*n:v,U=t._limitZoom(e+(this._delta>0?S:-S))-e;this._delta=0,this._startTime=null,U&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+U):t.setZoomAround(this._lastMousePos,e+U))}});xt.addInitHook("addHandler","scrollWheelZoom",fr);var Pa=600;xt.mergeOptions({tapHold:ct.touchNative&&ct.safari&&ct.mobile,tapTolerance:15});var cr=Jt.extend({addHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new et(e.clientX,e.clientY),this._holdTimeout=setTimeout(x(function(){this._cancel(),this._isTapValid()&&(vt(document,"touchend",qt),vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Pa),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){At(document,"touchend",qt),At(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new et(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});xt.addInitHook("addHandler","tapHold",cr),xt.mergeOptions({touchZoom:ct.touch,bounceAtZoomLimits:!0});var hr=Jt.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),qt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),v=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(v,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&v<1||this._zoom>e.getMaxZoom()&&v>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var U=x(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=w(U,this,!0),qt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,T(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",hr),xt.BoxZoom=ar,xt.DoubleClickZoom=sr,xt.Drag=lr,xt.Keyboard=ur,xt.ScrollWheelZoom=fr,xt.TapHold=cr,xt.TouchZoom=hr,h.Bounds=M,h.Browser=ct,h.CRS=$,h.Canvas=nr,h.Circle=Vn,h.CircleMarker=Qe,h.Class=j,h.Control=Gt,h.DivIcon=Qi,h.DivOverlay=Qt,h.DomEvent=Uo,h.DomUtil=Fo,h.Draggable=ae,h.Evented=Y,h.FeatureGroup=ee,h.GeoJSON=ie,h.GridLayer=je,h.Handler=Jt,h.Icon=ye,h.ImageOverlay=on,h.LatLng=W,h.LatLngBounds=F,h.Layer=Vt,h.LayerGroup=_e,h.LineUtil=ia,h.Map=xt,h.Marker=Je,h.Mixin=Xo,h.Path=se,h.Point=et,h.PolyUtil=Jo,h.Polygon=ge,h.Polyline=ne,h.Popup=an,h.PosAnimation=Ri,h.Projection=ra,h.Rectangle=or,h.Renderer=re,h.SVG=Ze,h.SVGOverlay=Ji,h.TileLayer=we,h.Tooltip=sn,h.Transformation=ft,h.Util=R,h.VideoOverlay=Xi,h.bind=x,h.bounds=Z,h.canvas=ir,h.circle=ha,h.circleMarker=ca,h.control=Be,h.divIcon=wa,h.extend=p,h.featureGroup=la,h.geoJSON=Yi,h.geoJson=va,h.gridLayer=Oa,h.icon=ua,h.imageOverlay=ma,h.latLng=D,h.latLngBounds=K,h.layerGroup=sa,h.map=$o,h.marker=fa,h.point=z,h.polygon=pa,h.polyline=da,h.popup=ga,h.rectangle=Ta,h.setOptions=c,h.stamp=b,h.svg=rr,h.svgOverlay=ya,h.tileLayer=tr,h.tooltip=ba,h.transformation=ht,h.version=f,h.videoOverlay=_a;var La=window.L;h.noConflict=function(){return window.L=La,this},window.L=h})})(ri,ri.exports);var Ue=ri.exports;function mn(P,I,h){return Object.freeze({instance:P,context:I,container:h})}function _n(P,I){return I==null?function(f,p){const k=Et.useRef();return k.current||(k.current=P(f,p)),k}:function(f,p){const k=Et.useRef();k.current||(k.current=P(f,p));const x=Et.useRef(f),{instance:E}=k.current;return Et.useEffect(function(){x.current!==f&&(I(E,f,x.current),x.current=f)},[E,f,p]),k}}function Qr(P,I){Et.useEffect(function(){return(I.layerContainer??I.map).addLayer(P.instance),function(){var k;(k=I.layerContainer)==null||k.removeLayer(P.instance),I.map.removeLayer(P.instance)}},[I,P])}function to(P){return function(h){const f=ci(),p=P(vn(h,f),f);return Gr(f.map,h.attribution),hi(p.current,h.eventHandlers),Qr(p.current,f),p}}function Va(P,I){const h=Et.useRef();Et.useEffect(function(){if(I.pathOptions!==h.current){const p=I.pathOptions??{};P.instance.setStyle(p),h.current=p}},[P,I])}function Ya(P){return function(h){const f=ci(),p=P(vn(h,f),f);return hi(p.current,h.eventHandlers),Qr(p.current,f),Va(p.current,h),p}}function Xa(P,I){const h=_n(P,I),f=to(h);return Jr(f)}function Ja(P,I){const h=_n(P),f=Ga(h,I);return Wa(f)}function Qa(P,I){const h=_n(P,I),f=Ya(h);return Jr(f)}function ts(P,I){const h=_n(P,I),f=to(h);return Ka(f)}function es(P,I,h){const{opacity:f,zIndex:p}=I;f!=null&&f!==h.opacity&&P.setOpacity(f),p!=null&&p!==h.zIndex&&P.setZIndex(p)}const ns=Qa(function({center:I,children:h,...f},p){const k=new Ue.Circle(I,f);return mn(k,Vr(p,{overlayContainer:k}))},Ha);function oi(){return oi=Object.assign||function(P){for(var I=1;I<arguments.length;I++){var h=arguments[I];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(P[f]=h[f])}return P},oi.apply(this,arguments)}function is({bounds:P,boundsOptions:I,center:h,children:f,className:p,id:k,placeholder:x,style:E,whenReady:b,zoom:O,...y},l){const[r]=Et.useState({className:p,id:k,style:E}),[o,m]=Et.useState(null);Et.useImperativeHandle(l,()=>(o==null?void 0:o.map)??null,[o]);const c=Et.useCallback(u=>{if(u!==null&&o===null){const s=new Ue.Map(u,y);h!=null&&O!=null?s.setView(h,O):P!=null&&s.fitBounds(P,I),b!=null&&s.whenReady(b),m($a(s))}},[]);Et.useEffect(()=>()=>{o==null||o.map.remove()},[o]);const d=o?ii.createElement(Xr,{value:o},f):x??null;return ii.createElement("div",oi({},r,{ref:c}),d)}const rs=Et.forwardRef(is),os=Xa(function({position:I,...h},f){const p=new Ue.Marker(I,h);return mn(p,Vr(f,{overlayContainer:p}))},function(I,h,f){h.position!==f.position&&I.setLatLng(h.position),h.icon!=null&&h.icon!==f.icon&&I.setIcon(h.icon),h.zIndexOffset!=null&&h.zIndexOffset!==f.zIndexOffset&&I.setZIndexOffset(h.zIndexOffset),h.opacity!=null&&h.opacity!==f.opacity&&I.setOpacity(h.opacity),I.dragging!=null&&h.draggable!==f.draggable&&(h.draggable===!0?I.dragging.enable():I.dragging.disable())}),as=Ja(function(I,h){const f=new Ue.Popup(I,h.overlayContainer);return mn(f,h)},function(I,h,{position:f},p){Et.useEffect(function(){const{instance:x}=I;function E(O){O.popup===x&&(x.update(),p(!0))}function b(O){O.popup===x&&p(!1)}return h.map.on({popupopen:E,popupclose:b}),h.overlayContainer==null?(f!=null&&x.setLatLng(f),x.openOn(h.map)):h.overlayContainer.bindPopup(x),function(){var y;h.map.off({popupopen:E,popupclose:b}),(y=h.overlayContainer)==null||y.unbindPopup(),h.map.removeLayer(x)}},[I,h,p,f])}),ss=ts(function({url:I,...h},f){const p=new Ue.TileLayer(I,vn(h,f));return mn(p,f)},function(I,h,f){es(I,h,f);const{url:p}=h;p!=null&&p!==f.url&&I.setUrl(p)}),Xd=({county:P,area:I,address:h,radius:f,value:p,setData:k})=>{const[x,E]=Et.useState(p),b=Et.useMemo(()=>JSON.stringify(x)+f+JSON.stringify(I),[x,f]);return Et.useEffect(()=>{(async()=>{P&&I&&h&&fetch(`https://nominatim.openstreetmap.org/search?country=Croatia&city=${I.name}&county=${P==null?void 0:P.name.hr}&address=${h}&format=json&addressdetails=1&limit=1`,{headers:{Accept:"application/json","User-Agent":"valentino.janjac@gmail.com"}}).then(y=>y.json()).then(y=>{y[0]&&E([Number(y[0].lat),Number(y[0].lon)])})})()},[P,I,h]),x&&I&&h&&wt.jsx("div",{style:{width:"100%",height:400},children:wt.jsxs(wt.Fragment,{children:[wt.jsxs(rs,{style:{width:"100%",height:"90%"},center:x,zoom:13,scrollWheelZoom:!1,children:[wt.jsx(ss,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),wt.jsx(os,{position:x,children:wt.jsx(as,{children:"Priblina Lokacija Nekretnine"})}),wt.jsx(ns,{center:x,radius:f})]},b),wt.jsx(Za,{className:Fa("my-4 ml-auto",p&&"!bg-green-500"),onClick:()=>k(x),children:"Potvrdi Koordinate"})]})})};function ls(){this.__data__=[],this.size=0}var us=ls;function fs(P,I){return P===I||P!==P&&I!==I}var eo=fs,cs=eo;function hs(P,I){for(var h=P.length;h--;)if(cs(P[h][0],I))return h;return-1}var yn=hs,ds=yn,ps=Array.prototype,vs=ps.splice;function ms(P){var I=this.__data__,h=ds(I,P);if(h<0)return!1;var f=I.length-1;return h==f?I.pop():vs.call(I,h,1),--this.size,!0}var _s=ms,ys=yn;function gs(P){var I=this.__data__,h=ys(I,P);return h<0?void 0:I[h][1]}var bs=gs,ws=yn;function Os(P){return ws(this.__data__,P)>-1}var xs=Os,Es=yn;function Ts(P,I){var h=this.__data__,f=Es(h,P);return f<0?(++this.size,h.push([P,I])):h[f][1]=I,this}var Ps=Ts,Ls=us,As=_s,ks=bs,Ss=xs,Ns=Ps;function xe(P){var I=-1,h=P==null?0:P.length;for(this.clear();++I<h;){var f=P[I];this.set(f[0],f[1])}}xe.prototype.clear=Ls;xe.prototype.delete=As;xe.prototype.get=ks;xe.prototype.has=Ss;xe.prototype.set=Ns;var gn=xe,Ms=gn;function Cs(){this.__data__=new Ms,this.size=0}var Is=Cs;function Rs(P){var I=this.__data__,h=I.delete(P);return this.size=I.size,h}var Bs=Rs;function Ds(P){return this.__data__.get(P)}var qs=Ds;function js(P){return this.__data__.has(P)}var zs=js,Zs=typeof Ft=="object"&&Ft&&Ft.Object===Object&&Ft,no=Zs,Fs=no,Hs=typeof self=="object"&&self&&self.Object===Object&&self,Us=Fs||Hs||Function("return this")(),oe=Us,$s=oe,Ws=$s.Symbol,di=Ws,yr=di,io=Object.prototype,Ks=io.hasOwnProperty,Gs=io.toString,Fe=yr?yr.toStringTag:void 0;function Vs(P){var I=Ks.call(P,Fe),h=P[Fe];try{P[Fe]=void 0;var f=!0}catch{}var p=Gs.call(P);return f&&(I?P[Fe]=h:delete P[Fe]),p}var Ys=Vs,Xs=Object.prototype,Js=Xs.toString;function Qs(P){return Js.call(P)}var tl=Qs,gr=di,el=Ys,nl=tl,il="[object Null]",rl="[object Undefined]",br=gr?gr.toStringTag:void 0;function ol(P){return P==null?P===void 0?rl:il:br&&br in Object(P)?el(P):nl(P)}var bn=ol;function al(P){var I=typeof P;return P!=null&&(I=="object"||I=="function")}var ro=al,sl=bn,ll=ro,ul="[object AsyncFunction]",fl="[object Function]",cl="[object GeneratorFunction]",hl="[object Proxy]";function dl(P){if(!ll(P))return!1;var I=sl(P);return I==fl||I==cl||I==ul||I==hl}var oo=dl,pl=oe,vl=pl["__core-js_shared__"],ml=vl,ti=ml,wr=function(){var P=/[^.]+$/.exec(ti&&ti.keys&&ti.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}();function _l(P){return!!wr&&wr in P}var yl=_l,gl=Function.prototype,bl=gl.toString;function wl(P){if(P!=null){try{return bl.call(P)}catch{}try{return P+""}catch{}}return""}var ao=wl,Ol=oo,xl=yl,El=ro,Tl=ao,Pl=/[\\^$.*+?()[\]{}|]/g,Ll=/^\[object .+?Constructor\]$/,Al=Function.prototype,kl=Object.prototype,Sl=Al.toString,Nl=kl.hasOwnProperty,Ml=RegExp("^"+Sl.call(Nl).replace(Pl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cl(P){if(!El(P)||xl(P))return!1;var I=Ol(P)?Ml:Ll;return I.test(Tl(P))}var Il=Cl;function Rl(P,I){return P==null?void 0:P[I]}var Bl=Rl,Dl=Il,ql=Bl;function jl(P,I){var h=ql(P,I);return Dl(h)?h:void 0}var Ee=jl,zl=Ee,Zl=oe,Fl=zl(Zl,"Map"),pi=Fl,Hl=Ee,Ul=Hl(Object,"create"),wn=Ul,Or=wn;function $l(){this.__data__=Or?Or(null):{},this.size=0}var Wl=$l;function Kl(P){var I=this.has(P)&&delete this.__data__[P];return this.size-=I?1:0,I}var Gl=Kl,Vl=wn,Yl="__lodash_hash_undefined__",Xl=Object.prototype,Jl=Xl.hasOwnProperty;function Ql(P){var I=this.__data__;if(Vl){var h=I[P];return h===Yl?void 0:h}return Jl.call(I,P)?I[P]:void 0}var tu=Ql,eu=wn,nu=Object.prototype,iu=nu.hasOwnProperty;function ru(P){var I=this.__data__;return eu?I[P]!==void 0:iu.call(I,P)}var ou=ru,au=wn,su="__lodash_hash_undefined__";function lu(P,I){var h=this.__data__;return this.size+=this.has(P)?0:1,h[P]=au&&I===void 0?su:I,this}var uu=lu,fu=Wl,cu=Gl,hu=tu,du=ou,pu=uu;function Te(P){var I=-1,h=P==null?0:P.length;for(this.clear();++I<h;){var f=P[I];this.set(f[0],f[1])}}Te.prototype.clear=fu;Te.prototype.delete=cu;Te.prototype.get=hu;Te.prototype.has=du;Te.prototype.set=pu;var vu=Te,xr=vu,mu=gn,_u=pi;function yu(){this.size=0,this.__data__={hash:new xr,map:new(_u||mu),string:new xr}}var gu=yu;function bu(P){var I=typeof P;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?P!=="__proto__":P===null}var wu=bu,Ou=wu;function xu(P,I){var h=P.__data__;return Ou(I)?h[typeof I=="string"?"string":"hash"]:h.map}var On=xu,Eu=On;function Tu(P){var I=Eu(this,P).delete(P);return this.size-=I?1:0,I}var Pu=Tu,Lu=On;function Au(P){return Lu(this,P).get(P)}var ku=Au,Su=On;function Nu(P){return Su(this,P).has(P)}var Mu=Nu,Cu=On;function Iu(P,I){var h=Cu(this,P),f=h.size;return h.set(P,I),this.size+=h.size==f?0:1,this}var Ru=Iu,Bu=gu,Du=Pu,qu=ku,ju=Mu,zu=Ru;function Pe(P){var I=-1,h=P==null?0:P.length;for(this.clear();++I<h;){var f=P[I];this.set(f[0],f[1])}}Pe.prototype.clear=Bu;Pe.prototype.delete=Du;Pe.prototype.get=qu;Pe.prototype.has=ju;Pe.prototype.set=zu;var so=Pe,Zu=gn,Fu=pi,Hu=so,Uu=200;function $u(P,I){var h=this.__data__;if(h instanceof Zu){var f=h.__data__;if(!Fu||f.length<Uu-1)return f.push([P,I]),this.size=++h.size,this;h=this.__data__=new Hu(f)}return h.set(P,I),this.size=h.size,this}var Wu=$u,Ku=gn,Gu=Is,Vu=Bs,Yu=qs,Xu=zs,Ju=Wu;function Le(P){var I=this.__data__=new Ku(P);this.size=I.size}Le.prototype.clear=Gu;Le.prototype.delete=Vu;Le.prototype.get=Yu;Le.prototype.has=Xu;Le.prototype.set=Ju;var Qu=Le,tf="__lodash_hash_undefined__";function ef(P){return this.__data__.set(P,tf),this}var nf=ef;function rf(P){return this.__data__.has(P)}var of=rf,af=so,sf=nf,lf=of;function cn(P){var I=-1,h=P==null?0:P.length;for(this.__data__=new af;++I<h;)this.add(P[I])}cn.prototype.add=cn.prototype.push=sf;cn.prototype.has=lf;var uf=cn;function ff(P,I){for(var h=-1,f=P==null?0:P.length;++h<f;)if(I(P[h],h,P))return!0;return!1}var cf=ff;function hf(P,I){return P.has(I)}var df=hf,pf=uf,vf=cf,mf=df,_f=1,yf=2;function gf(P,I,h,f,p,k){var x=h&_f,E=P.length,b=I.length;if(E!=b&&!(x&&b>E))return!1;var O=k.get(P),y=k.get(I);if(O&&y)return O==I&&y==P;var l=-1,r=!0,o=h&yf?new pf:void 0;for(k.set(P,I),k.set(I,P);++l<E;){var m=P[l],c=I[l];if(f)var d=x?f(c,m,l,I,P,k):f(m,c,l,P,I,k);if(d!==void 0){if(d)continue;r=!1;break}if(o){if(!vf(I,function(u,s){if(!mf(o,s)&&(m===u||p(m,u,h,f,k)))return o.push(s)})){r=!1;break}}else if(!(m===c||p(m,c,h,f,k))){r=!1;break}}return k.delete(P),k.delete(I),r}var lo=gf,bf=oe,wf=bf.Uint8Array,Of=wf;function xf(P){var I=-1,h=Array(P.size);return P.forEach(function(f,p){h[++I]=[p,f]}),h}var Ef=xf;function Tf(P){var I=-1,h=Array(P.size);return P.forEach(function(f){h[++I]=f}),h}var Pf=Tf,Er=di,Tr=Of,Lf=eo,Af=lo,kf=Ef,Sf=Pf,Nf=1,Mf=2,Cf="[object Boolean]",If="[object Date]",Rf="[object Error]",Bf="[object Map]",Df="[object Number]",qf="[object RegExp]",jf="[object Set]",zf="[object String]",Zf="[object Symbol]",Ff="[object ArrayBuffer]",Hf="[object DataView]",Pr=Er?Er.prototype:void 0,ei=Pr?Pr.valueOf:void 0;function Uf(P,I,h,f,p,k,x){switch(h){case Hf:if(P.byteLength!=I.byteLength||P.byteOffset!=I.byteOffset)return!1;P=P.buffer,I=I.buffer;case Ff:return!(P.byteLength!=I.byteLength||!k(new Tr(P),new Tr(I)));case Cf:case If:case Df:return Lf(+P,+I);case Rf:return P.name==I.name&&P.message==I.message;case qf:case zf:return P==I+"";case Bf:var E=kf;case jf:var b=f&Nf;if(E||(E=Sf),P.size!=I.size&&!b)return!1;var O=x.get(P);if(O)return O==I;f|=Mf,x.set(P,I);var y=Af(E(P),E(I),f,p,k,x);return x.delete(P),y;case Zf:if(ei)return ei.call(P)==ei.call(I)}return!1}var $f=Uf;function Wf(P,I){for(var h=-1,f=I.length,p=P.length;++h<f;)P[p+h]=I[h];return P}var Kf=Wf,Gf=Array.isArray,vi=Gf,Vf=Kf,Yf=vi;function Xf(P,I,h){var f=I(P);return Yf(P)?f:Vf(f,h(P))}var Jf=Xf;function Qf(P,I){for(var h=-1,f=P==null?0:P.length,p=0,k=[];++h<f;){var x=P[h];I(x,h,P)&&(k[p++]=x)}return k}var tc=Qf;function ec(){return[]}var nc=ec,ic=tc,rc=nc,oc=Object.prototype,ac=oc.propertyIsEnumerable,Lr=Object.getOwnPropertySymbols,sc=Lr?function(P){return P==null?[]:(P=Object(P),ic(Lr(P),function(I){return ac.call(P,I)}))}:rc,lc=sc;function uc(P,I){for(var h=-1,f=Array(P);++h<P;)f[h]=I(h);return f}var fc=uc;function cc(P){return P!=null&&typeof P=="object"}var xn=cc,hc=bn,dc=xn,pc="[object Arguments]";function vc(P){return dc(P)&&hc(P)==pc}var mc=vc,Ar=mc,_c=xn,uo=Object.prototype,yc=uo.hasOwnProperty,gc=uo.propertyIsEnumerable,bc=Ar(function(){return arguments}())?Ar:function(P){return _c(P)&&yc.call(P,"callee")&&!gc.call(P,"callee")},wc=bc,hn={exports:{}};function Oc(){return!1}var xc=Oc;hn.exports;(function(P,I){var h=oe,f=xc,p=I&&!I.nodeType&&I,k=p&&!0&&P&&!P.nodeType&&P,x=k&&k.exports===p,E=x?h.Buffer:void 0,b=E?E.isBuffer:void 0,O=b||f;P.exports=O})(hn,hn.exports);var fo=hn.exports,Ec=9007199254740991,Tc=/^(?:0|[1-9]\d*)$/;function Pc(P,I){var h=typeof P;return I=I??Ec,!!I&&(h=="number"||h!="symbol"&&Tc.test(P))&&P>-1&&P%1==0&&P<I}var Lc=Pc,Ac=9007199254740991;function kc(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=Ac}var co=kc,Sc=bn,Nc=co,Mc=xn,Cc="[object Arguments]",Ic="[object Array]",Rc="[object Boolean]",Bc="[object Date]",Dc="[object Error]",qc="[object Function]",jc="[object Map]",zc="[object Number]",Zc="[object Object]",Fc="[object RegExp]",Hc="[object Set]",Uc="[object String]",$c="[object WeakMap]",Wc="[object ArrayBuffer]",Kc="[object DataView]",Gc="[object Float32Array]",Vc="[object Float64Array]",Yc="[object Int8Array]",Xc="[object Int16Array]",Jc="[object Int32Array]",Qc="[object Uint8Array]",th="[object Uint8ClampedArray]",eh="[object Uint16Array]",nh="[object Uint32Array]",kt={};kt[Gc]=kt[Vc]=kt[Yc]=kt[Xc]=kt[Jc]=kt[Qc]=kt[th]=kt[eh]=kt[nh]=!0;kt[Cc]=kt[Ic]=kt[Wc]=kt[Rc]=kt[Kc]=kt[Bc]=kt[Dc]=kt[qc]=kt[jc]=kt[zc]=kt[Zc]=kt[Fc]=kt[Hc]=kt[Uc]=kt[$c]=!1;function ih(P){return Mc(P)&&Nc(P.length)&&!!kt[Sc(P)]}var rh=ih;function oh(P){return function(I){return P(I)}}var ah=oh,dn={exports:{}};dn.exports;(function(P,I){var h=no,f=I&&!I.nodeType&&I,p=f&&!0&&P&&!P.nodeType&&P,k=p&&p.exports===f,x=k&&h.process,E=function(){try{var b=p&&p.require&&p.require("util").types;return b||x&&x.binding&&x.binding("util")}catch{}}();P.exports=E})(dn,dn.exports);var sh=dn.exports,lh=rh,uh=ah,kr=sh,Sr=kr&&kr.isTypedArray,fh=Sr?uh(Sr):lh,ho=fh,ch=fc,hh=wc,dh=vi,ph=fo,vh=Lc,mh=ho,_h=Object.prototype,yh=_h.hasOwnProperty;function gh(P,I){var h=dh(P),f=!h&&hh(P),p=!h&&!f&&ph(P),k=!h&&!f&&!p&&mh(P),x=h||f||p||k,E=x?ch(P.length,String):[],b=E.length;for(var O in P)(I||yh.call(P,O))&&!(x&&(O=="length"||p&&(O=="offset"||O=="parent")||k&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||vh(O,b)))&&E.push(O);return E}var bh=gh,wh=Object.prototype;function Oh(P){var I=P&&P.constructor,h=typeof I=="function"&&I.prototype||wh;return P===h}var xh=Oh;function Eh(P,I){return function(h){return P(I(h))}}var Th=Eh,Ph=Th,Lh=Ph(Object.keys,Object),Ah=Lh,kh=xh,Sh=Ah,Nh=Object.prototype,Mh=Nh.hasOwnProperty;function Ch(P){if(!kh(P))return Sh(P);var I=[];for(var h in Object(P))Mh.call(P,h)&&h!="constructor"&&I.push(h);return I}var Ih=Ch,Rh=oo,Bh=co;function Dh(P){return P!=null&&Bh(P.length)&&!Rh(P)}var qh=Dh,jh=bh,zh=Ih,Zh=qh;function Fh(P){return Zh(P)?jh(P):zh(P)}var Hh=Fh,Uh=Jf,$h=lc,Wh=Hh;function Kh(P){return Uh(P,Wh,$h)}var Gh=Kh,Nr=Gh,Vh=1,Yh=Object.prototype,Xh=Yh.hasOwnProperty;function Jh(P,I,h,f,p,k){var x=h&Vh,E=Nr(P),b=E.length,O=Nr(I),y=O.length;if(b!=y&&!x)return!1;for(var l=b;l--;){var r=E[l];if(!(x?r in I:Xh.call(I,r)))return!1}var o=k.get(P),m=k.get(I);if(o&&m)return o==I&&m==P;var c=!0;k.set(P,I),k.set(I,P);for(var d=x;++l<b;){r=E[l];var u=P[r],s=I[r];if(f)var _=x?f(s,u,r,I,P,k):f(u,s,r,P,I,k);if(!(_===void 0?u===s||p(u,s,h,f,k):_)){c=!1;break}d||(d=r=="constructor")}if(c&&!d){var a=P.constructor,g=I.constructor;a!=g&&"constructor"in P&&"constructor"in I&&!(typeof a=="function"&&a instanceof a&&typeof g=="function"&&g instanceof g)&&(c=!1)}return k.delete(P),k.delete(I),c}var Qh=Jh,td=Ee,ed=oe,nd=td(ed,"DataView"),id=nd,rd=Ee,od=oe,ad=rd(od,"Promise"),sd=ad,ld=Ee,ud=oe,fd=ld(ud,"Set"),cd=fd,hd=Ee,dd=oe,pd=hd(dd,"WeakMap"),vd=pd,ai=id,si=pi,li=sd,ui=cd,fi=vd,po=bn,Ae=ao,Mr="[object Map]",md="[object Object]",Cr="[object Promise]",Ir="[object Set]",Rr="[object WeakMap]",Br="[object DataView]",_d=Ae(ai),yd=Ae(si),gd=Ae(li),bd=Ae(ui),wd=Ae(fi),de=po;(ai&&de(new ai(new ArrayBuffer(1)))!=Br||si&&de(new si)!=Mr||li&&de(li.resolve())!=Cr||ui&&de(new ui)!=Ir||fi&&de(new fi)!=Rr)&&(de=function(P){var I=po(P),h=I==md?P.constructor:void 0,f=h?Ae(h):"";if(f)switch(f){case _d:return Br;case yd:return Mr;case gd:return Cr;case bd:return Ir;case wd:return Rr}return I});var Od=de,ni=Qu,xd=lo,Ed=$f,Td=Qh,Dr=Od,qr=vi,jr=fo,Pd=ho,Ld=1,zr="[object Arguments]",Zr="[object Array]",fn="[object Object]",Ad=Object.prototype,Fr=Ad.hasOwnProperty;function kd(P,I,h,f,p,k){var x=qr(P),E=qr(I),b=x?Zr:Dr(P),O=E?Zr:Dr(I);b=b==zr?fn:b,O=O==zr?fn:O;var y=b==fn,l=O==fn,r=b==O;if(r&&jr(P)){if(!jr(I))return!1;x=!0,y=!1}if(r&&!y)return k||(k=new ni),x||Pd(P)?xd(P,I,h,f,p,k):Ed(P,I,b,h,f,p,k);if(!(h&Ld)){var o=y&&Fr.call(P,"__wrapped__"),m=l&&Fr.call(I,"__wrapped__");if(o||m){var c=o?P.value():P,d=m?I.value():I;return k||(k=new ni),p(c,d,h,f,k)}}return r?(k||(k=new ni),Td(P,I,h,f,p,k)):!1}var Sd=kd,Nd=Sd,Hr=xn;function vo(P,I,h,f,p){return P===I?!0:P==null||I==null||!Hr(P)&&!Hr(I)?P!==P&&I!==I:Nd(P,I,h,f,vo,p)}var Md=vo,Cd=Md;function Id(P,I){return Cd(P,I)}var Rd=Id,mo={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(P,I){(function(f,p){P.exports=p()})(typeof self<"u"?self:Ft,function(){return function(h){var f={};function p(k){if(f[k])return f[k].exports;var x=f[k]={i:k,l:!1,exports:{}};return h[k].call(x.exports,x,x.exports,p),x.l=!0,x.exports}return p.m=h,p.c=f,p.d=function(k,x,E){p.o(k,x)||Object.defineProperty(k,x,{configurable:!1,enumerable:!0,get:E})},p.n=function(k){var x=k&&k.__esModule?function(){return k.default}:function(){return k};return p.d(x,"a",x),x},p.o=function(k,x){return Object.prototype.hasOwnProperty.call(k,x)},p.p="",p(p.s=109)}([function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(17),x=p(18),E=p(19),b=p(45),O=p(46),y=p(47),l=p(48),r=p(49),o=p(12),m=p(32),c=p(33),d=p(31),u=p(1),s={Scope:u.Scope,create:u.create,find:u.find,query:u.query,register:u.register,Container:k.default,Format:x.default,Leaf:E.default,Embed:l.default,Scroll:b.default,Block:y.default,Inline:O.default,Text:r.default,Attributor:{Attribute:o.default,Class:m.default,Style:c.default,Store:d.default}};f.default=s},function(h,f,p){var k=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,s){u.__proto__=s}||function(u,s){for(var _ in s)s.hasOwnProperty(_)&&(u[_]=s[_])};return function(u,s){d(u,s);function _(){this.constructor=u}u.prototype=s===null?Object.create(s):(_.prototype=s.prototype,new _)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=function(d){k(u,d);function u(s){var _=this;return s="[Parchment] "+s,_=d.call(this,s)||this,_.message=s,_.name=_.constructor.name,_}return u}(Error);f.ParchmentError=x;var E={},b={},O={},y={};f.DATA_KEY="__blot";var l;(function(d){d[d.TYPE=3]="TYPE",d[d.LEVEL=12]="LEVEL",d[d.ATTRIBUTE=13]="ATTRIBUTE",d[d.BLOT=14]="BLOT",d[d.INLINE=7]="INLINE",d[d.BLOCK=11]="BLOCK",d[d.BLOCK_BLOT=10]="BLOCK_BLOT",d[d.INLINE_BLOT=6]="INLINE_BLOT",d[d.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",d[d.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",d[d.ANY=15]="ANY"})(l=f.Scope||(f.Scope={}));function r(d,u){var s=m(d);if(s==null)throw new x("Unable to create "+d+" blot");var _=s,a=d instanceof Node||d.nodeType===Node.TEXT_NODE?d:_.create(u);return new _(a,u)}f.create=r;function o(d,u){return u===void 0&&(u=!1),d==null?null:d[f.DATA_KEY]!=null?d[f.DATA_KEY].blot:u?o(d.parentNode,u):null}f.find=o;function m(d,u){u===void 0&&(u=l.ANY);var s;if(typeof d=="string")s=y[d]||E[d];else if(d instanceof Text||d.nodeType===Node.TEXT_NODE)s=y.text;else if(typeof d=="number")d&l.LEVEL&l.BLOCK?s=y.block:d&l.LEVEL&l.INLINE&&(s=y.inline);else if(d instanceof HTMLElement){var _=(d.getAttribute("class")||"").split(/\s+/);for(var a in _)if(s=b[_[a]],s)break;s=s||O[d.tagName]}return s==null?null:u&l.LEVEL&s.scope&&u&l.TYPE&s.scope?s:null}f.query=m;function c(){for(var d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];if(d.length>1)return d.map(function(a){return c(a)});var s=d[0];if(typeof s.blotName!="string"&&typeof s.attrName!="string")throw new x("Invalid definition");if(s.blotName==="abstract")throw new x("Cannot register abstract class");if(y[s.blotName||s.attrName]=s,typeof s.keyName=="string")E[s.keyName]=s;else if(s.className!=null&&(b[s.className]=s),s.tagName!=null){Array.isArray(s.tagName)?s.tagName=s.tagName.map(function(a){return a.toUpperCase()}):s.tagName=s.tagName.toUpperCase();var _=Array.isArray(s.tagName)?s.tagName:[s.tagName];_.forEach(function(a){(O[a]==null||s.className==null)&&(O[a]=s)})}return s}f.register=c},function(h,f,p){var k=p(51),x=p(11),E=p(3),b=p(20),O="\0",y=function(l){Array.isArray(l)?this.ops=l:l!=null&&Array.isArray(l.ops)?this.ops=l.ops:this.ops=[]};y.prototype.insert=function(l,r){var o={};return l.length===0?this:(o.insert=l,r!=null&&typeof r=="object"&&Object.keys(r).length>0&&(o.attributes=r),this.push(o))},y.prototype.delete=function(l){return l<=0?this:this.push({delete:l})},y.prototype.retain=function(l,r){if(l<=0)return this;var o={retain:l};return r!=null&&typeof r=="object"&&Object.keys(r).length>0&&(o.attributes=r),this.push(o)},y.prototype.push=function(l){var r=this.ops.length,o=this.ops[r-1];if(l=E(!0,{},l),typeof o=="object"){if(typeof l.delete=="number"&&typeof o.delete=="number")return this.ops[r-1]={delete:o.delete+l.delete},this;if(typeof o.delete=="number"&&l.insert!=null&&(r-=1,o=this.ops[r-1],typeof o!="object"))return this.ops.unshift(l),this;if(x(l.attributes,o.attributes)){if(typeof l.insert=="string"&&typeof o.insert=="string")return this.ops[r-1]={insert:o.insert+l.insert},typeof l.attributes=="object"&&(this.ops[r-1].attributes=l.attributes),this;if(typeof l.retain=="number"&&typeof o.retain=="number")return this.ops[r-1]={retain:o.retain+l.retain},typeof l.attributes=="object"&&(this.ops[r-1].attributes=l.attributes),this}}return r===this.ops.length?this.ops.push(l):this.ops.splice(r,0,l),this},y.prototype.chop=function(){var l=this.ops[this.ops.length-1];return l&&l.retain&&!l.attributes&&this.ops.pop(),this},y.prototype.filter=function(l){return this.ops.filter(l)},y.prototype.forEach=function(l){this.ops.forEach(l)},y.prototype.map=function(l){return this.ops.map(l)},y.prototype.partition=function(l){var r=[],o=[];return this.forEach(function(m){var c=l(m)?r:o;c.push(m)}),[r,o]},y.prototype.reduce=function(l,r){return this.ops.reduce(l,r)},y.prototype.changeLength=function(){return this.reduce(function(l,r){return r.insert?l+b.length(r):r.delete?l-r.delete:l},0)},y.prototype.length=function(){return this.reduce(function(l,r){return l+b.length(r)},0)},y.prototype.slice=function(l,r){l=l||0,typeof r!="number"&&(r=1/0);for(var o=[],m=b.iterator(this.ops),c=0;c<r&&m.hasNext();){var d;c<l?d=m.next(l-c):(d=m.next(r-c),o.push(d)),c+=b.length(d)}return new y(o)},y.prototype.compose=function(l){var r=b.iterator(this.ops),o=b.iterator(l.ops),m=[],c=o.peek();if(c!=null&&typeof c.retain=="number"&&c.attributes==null){for(var d=c.retain;r.peekType()==="insert"&&r.peekLength()<=d;)d-=r.peekLength(),m.push(r.next());c.retain-d>0&&o.next(c.retain-d)}for(var u=new y(m);r.hasNext()||o.hasNext();)if(o.peekType()==="insert")u.push(o.next());else if(r.peekType()==="delete")u.push(r.next());else{var s=Math.min(r.peekLength(),o.peekLength()),_=r.next(s),a=o.next(s);if(typeof a.retain=="number"){var g={};typeof _.retain=="number"?g.retain=s:g.insert=_.insert;var B=b.attributes.compose(_.attributes,a.attributes,typeof _.retain=="number");if(B&&(g.attributes=B),u.push(g),!o.hasNext()&&x(u.ops[u.ops.length-1],g)){var N=new y(r.rest());return u.concat(N).chop()}}else typeof a.delete=="number"&&typeof _.retain=="number"&&u.push(a)}return u.chop()},y.prototype.concat=function(l){var r=new y(this.ops.slice());return l.ops.length>0&&(r.push(l.ops[0]),r.ops=r.ops.concat(l.ops.slice(1))),r},y.prototype.diff=function(l,r){if(this.ops===l.ops)return new y;var o=[this,l].map(function(s){return s.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:O;var a=s===l?"on":"with";throw new Error("diff() called "+a+" non-document")}).join("")}),m=new y,c=k(o[0],o[1],r),d=b.iterator(this.ops),u=b.iterator(l.ops);return c.forEach(function(s){for(var _=s[1].length;_>0;){var a=0;switch(s[0]){case k.INSERT:a=Math.min(u.peekLength(),_),m.push(u.next(a));break;case k.DELETE:a=Math.min(_,d.peekLength()),d.next(a),m.delete(a);break;case k.EQUAL:a=Math.min(d.peekLength(),u.peekLength(),_);var g=d.next(a),B=u.next(a);x(g.insert,B.insert)?m.retain(a,b.attributes.diff(g.attributes,B.attributes)):m.push(B).delete(a);break}_-=a}}),m.chop()},y.prototype.eachLine=function(l,r){r=r||`
`;for(var o=b.iterator(this.ops),m=new y,c=0;o.hasNext();){if(o.peekType()!=="insert")return;var d=o.peek(),u=b.length(d)-o.peekLength(),s=typeof d.insert=="string"?d.insert.indexOf(r,u)-u:-1;if(s<0)m.push(o.next());else if(s>0)m.push(o.next(s));else{if(l(m,o.next(1).attributes||{},c)===!1)return;c+=1,m=new y}}m.length()>0&&l(m,{},c)},y.prototype.transform=function(l,r){if(r=!!r,typeof l=="number")return this.transformPosition(l,r);for(var o=b.iterator(this.ops),m=b.iterator(l.ops),c=new y;o.hasNext()||m.hasNext();)if(o.peekType()==="insert"&&(r||m.peekType()!=="insert"))c.retain(b.length(o.next()));else if(m.peekType()==="insert")c.push(m.next());else{var d=Math.min(o.peekLength(),m.peekLength()),u=o.next(d),s=m.next(d);if(u.delete)continue;s.delete?c.push(s):c.retain(d,b.attributes.transform(u.attributes,s.attributes,r))}return c.chop()},y.prototype.transformPosition=function(l,r){r=!!r;for(var o=b.iterator(this.ops),m=0;o.hasNext()&&m<=l;){var c=o.peekLength(),d=o.peekType();if(o.next(),d==="delete"){l-=Math.min(c,l-m);continue}else d==="insert"&&(m<l||!r)&&(l+=c);m+=c}return l},h.exports=y},function(h,f){var p=Object.prototype.hasOwnProperty,k=Object.prototype.toString,x=Object.defineProperty,E=Object.getOwnPropertyDescriptor,b=function(o){return typeof Array.isArray=="function"?Array.isArray(o):k.call(o)==="[object Array]"},O=function(o){if(!o||k.call(o)!=="[object Object]")return!1;var m=p.call(o,"constructor"),c=o.constructor&&o.constructor.prototype&&p.call(o.constructor.prototype,"isPrototypeOf");if(o.constructor&&!m&&!c)return!1;var d;for(d in o);return typeof d>"u"||p.call(o,d)},y=function(o,m){x&&m.name==="__proto__"?x(o,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):o[m.name]=m.newValue},l=function(o,m){if(m==="__proto__")if(p.call(o,m)){if(E)return E(o,m).value}else return;return o[m]};h.exports=function r(){var o,m,c,d,u,s,_=arguments[0],a=1,g=arguments.length,B=!1;for(typeof _=="boolean"&&(B=_,_=arguments[1]||{},a=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});a<g;++a)if(o=arguments[a],o!=null)for(m in o)c=l(_,m),d=l(o,m),_!==d&&(B&&d&&(O(d)||(u=b(d)))?(u?(u=!1,s=c&&b(c)?c:[]):s=c&&O(c)?c:{},y(_,{name:m,newValue:r(B,s,d)})):typeof d<"u"&&y(_,{name:m,newValue:d}));return _}},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BlockEmbed=f.bubbleFormats=void 0;var k=function(){function w(T,R){for(var j=0;j<R.length;j++){var H=R[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(T,H.key,H)}}return function(T,R,j){return R&&w(T.prototype,R),j&&w(T,j),T}}(),x=function w(T,R,j){T===null&&(T=Function.prototype);var H=Object.getOwnPropertyDescriptor(T,R);if(H===void 0){var V=Object.getPrototypeOf(T);return V===null?void 0:w(V,R,j)}else{if("value"in H)return H.value;var Y=H.get;return Y===void 0?void 0:Y.call(j)}},E=p(3),b=_(E),O=p(2),y=_(O),l=p(0),r=_(l),o=p(16),m=_(o),c=p(6),d=_(c),u=p(7),s=_(u);function _(w){return w&&w.__esModule?w:{default:w}}function a(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function B(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var N=1,C=function(w){B(T,w);function T(){return a(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return k(T,[{key:"attach",value:function(){x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new r.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,b.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,H){var V=r.default.query(j,r.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,H)}},{key:"formatAt",value:function(j,H,V,Y){this.format(V,Y)}},{key:"insertAt",value:function(j,H,V){if(typeof H=="string"&&H.endsWith(`
`)){var Y=r.default.create(q.blotName);this.parent.insertBefore(Y,j===0?this:this.next),Y.insertAt(0,H.slice(0,-1))}else x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,j,H,V)}}]),T}(r.default.Embed);C.scope=r.default.Scope.BLOCK_BLOT;var q=function(w){B(T,w);function T(R){a(this,T);var j=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return j.cache={},j}return k(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(r.default.Leaf).reduce(function(j,H){return H.length()===0?j:j.insert(H.value(),A(H))},new y.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(j,H){x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,j,H),this.cache={}}},{key:"formatAt",value:function(j,H,V,Y){H<=0||(r.default.query(V,r.default.Scope.BLOCK)?j+H===this.length()&&this.format(V,Y):x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,j,Math.min(H,this.length()-j-1),V,Y),this.cache={})}},{key:"insertAt",value:function(j,H,V){if(V!=null)return x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,j,H,V);if(H.length!==0){var Y=H.split(`
`),et=Y.shift();et.length>0&&(j<this.length()-1||this.children.tail==null?x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),et):this.children.tail.insertAt(this.children.tail.length(),et),this.cache={});var G=this;Y.reduce(function(z,M){return G=G.split(z,!0),G.insertAt(0,M),M.length},j+et.length)}}},{key:"insertBefore",value:function(j,H){var V=this.children.head;x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,j,H),V instanceof m.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(j,H){x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,j,H),this.cache={}}},{key:"optimize",value:function(j){x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(j===0||j>=this.length()-N)){var V=this.clone();return j===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var Y=x(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,j,H);return this.cache={},Y}}}]),T}(r.default.Block);q.blotName="block",q.tagName="P",q.defaultChild="break",q.allowedChildren=[d.default,r.default.Embed,s.default];function A(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w==null||(typeof w.formats=="function"&&(T=(0,b.default)(T,w.formats())),w.parent==null||w.parent.blotName=="scroll"||w.parent.statics.scope!==w.statics.scope)?T:A(w.parent,T)}f.bubbleFormats=A,f.BlockEmbed=C,f.default=q},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.overload=f.expandConfig=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},x=function(){function G(z,M){var Z=[],F=!0,K=!1,W=void 0;try{for(var D=z[Symbol.iterator](),$;!(F=($=D.next()).done)&&(Z.push($.value),!(M&&Z.length===M));F=!0);}catch(J){K=!0,W=J}finally{try{!F&&D.return&&D.return()}finally{if(K)throw W}}return Z}return function(z,M){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return G(z,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function G(z,M){for(var Z=0;Z<M.length;Z++){var F=M[Z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}return function(z,M,Z){return M&&G(z.prototype,M),Z&&G(z,Z),z}}();p(50);var b=p(2),O=A(b),y=p(14),l=A(y),r=p(8),o=A(r),m=p(9),c=A(m),d=p(0),u=A(d),s=p(15),_=A(s),a=p(3),g=A(a),B=p(10),N=A(B),C=p(34),q=A(C);function A(G){return G&&G.__esModule?G:{default:G}}function w(G,z,M){return z in G?Object.defineProperty(G,z,{value:M,enumerable:!0,configurable:!0,writable:!0}):G[z]=M,G}function T(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}var R=(0,N.default)("quill"),j=function(){E(G,null,[{key:"debug",value:function(M){M===!0&&(M="log"),N.default.level(M)}},{key:"find",value:function(M){return M.__quill||u.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&R.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,Z){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var W=M.attrName||M.blotName;typeof W=="string"?this.register("formats/"+W,M,Z):Object.keys(M).forEach(function(D){F.register(D,M[D],Z)})}else this.imports[M]!=null&&!K&&R.warn("Overwriting "+M+" with",Z),this.imports[M]=Z,(M.startsWith("blots/")||M.startsWith("formats/"))&&Z.blotName!=="abstract"?u.default.register(Z):M.startsWith("modules")&&typeof Z.register=="function"&&Z.register()}}]);function G(z){var M=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,G),this.options=H(z,Z),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",z);this.options.debug&&G.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new o.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(o.default.events.EDITOR_CHANGE,function(W){W===o.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(o.default.events.SCROLL_UPDATE,function(W,D){var $=M.selection.lastRange,J=$&&$.length===0?$.index:void 0;V.call(M,function(){return M.editor.update(null,D,J)},W)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return E(G,[{key:"addContainer",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var F=M;M=document.createElement("div"),M.classList.add(F)}return this.container.insertBefore(M,Z),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,Z,F){var K=this,W=Y(M,Z,F),D=x(W,4);return M=D[0],Z=D[1],F=D[3],V.call(this,function(){return K.editor.deleteText(M,Z)},F,M,-1*Z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,Z){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;return V.call(this,function(){var W=F.getSelection(!0),D=new O.default;if(W==null)return D;if(u.default.query(M,u.default.Scope.BLOCK))D=F.editor.formatLine(W.index,W.length,w({},M,Z));else{if(W.length===0)return F.selection.format(M,Z),D;D=F.editor.formatText(W.index,W.length,w({},M,Z))}return F.setSelection(W,o.default.sources.SILENT),D},K)}},{key:"formatLine",value:function(M,Z,F,K,W){var D=this,$=void 0,J=Y(M,Z,F,K,W),Q=x(J,4);return M=Q[0],Z=Q[1],$=Q[2],W=Q[3],V.call(this,function(){return D.editor.formatLine(M,Z,$)},W,M,0)}},{key:"formatText",value:function(M,Z,F,K,W){var D=this,$=void 0,J=Y(M,Z,F,K,W),Q=x(J,4);return M=Q[0],Z=Q[1],$=Q[2],W=Q[3],V.call(this,function(){return D.editor.formatText(M,Z,$)},W,M,0)}},{key:"getBounds",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof M=="number"?F=this.selection.getBounds(M,Z):F=this.selection.getBounds(M.index,M.length);var K=this.container.getBoundingClientRect();return{bottom:F.bottom-K.top,height:F.height,left:F.left-K.left,right:F.right-K.left,top:F.top-K.top,width:F.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,F=Y(M,Z),K=x(F,2);return M=K[0],Z=K[1],this.editor.getContents(M,Z)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,Z):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,Z)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,F=Y(M,Z),K=x(F,2);return M=K[0],Z=K[1],this.editor.getText(M,Z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,Z,F){var K=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return V.call(this,function(){return K.editor.insertEmbed(M,Z,F)},W,M)}},{key:"insertText",value:function(M,Z,F,K,W){var D=this,$=void 0,J=Y(M,0,F,K,W),Q=x(J,4);return M=Q[0],$=Q[2],W=Q[3],V.call(this,function(){return D.editor.insertText(M,Z,$)},W,M,Z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,Z,F){this.clipboard.dangerouslyPasteHTML(M,Z,F)}},{key:"removeFormat",value:function(M,Z,F){var K=this,W=Y(M,Z,F),D=x(W,4);return M=D[0],Z=D[1],F=D[3],V.call(this,function(){return K.editor.removeFormat(M,Z)},F,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var Z=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.default.sources.API;return V.call(this,function(){M=new O.default(M);var K=Z.getLength(),W=Z.editor.deleteText(0,K),D=Z.editor.applyDelta(M),$=D.ops[D.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(Z.editor.deleteText(Z.getLength()-1,1),D.delete(1));var J=W.compose(D);return J},F)}},{key:"setSelection",value:function(M,Z,F){if(M==null)this.selection.setRange(null,Z||G.sources.API);else{var K=Y(M,Z,F),W=x(K,4);M=W[0],Z=W[1],F=W[3],this.selection.setRange(new s.Range(M,Z),F),F!==o.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.default.sources.API,F=new O.default().insert(M);return this.setContents(F,Z)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.default.sources.USER,Z=this.scroll.update(M);return this.selection.update(M),Z}},{key:"updateContents",value:function(M){var Z=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.default.sources.API;return V.call(this,function(){return M=new O.default(M),Z.editor.applyDelta(M,F)},F,!0)}}]),G}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=o.default.events,j.sources=o.default.sources,j.version="1.3.7",j.imports={delta:O.default,parchment:u.default,"core/module":c.default,"core/theme":q.default};function H(G,z){if(z=(0,g.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},z),!z.theme||z.theme===j.DEFAULTS.theme)z.theme=q.default;else if(z.theme=j.import("themes/"+z.theme),z.theme==null)throw new Error("Invalid theme "+z.theme+". Did you register it?");var M=(0,g.default)(!0,{},z.theme.DEFAULTS);[M,z].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(W){K.modules[W]===!0&&(K.modules[W]={})})});var Z=Object.keys(M.modules).concat(Object.keys(z.modules)),F=Z.reduce(function(K,W){var D=j.import("modules/"+W);return D==null?R.error("Cannot load "+W+" module. Are you sure you registered it?"):K[W]=D.DEFAULTS||{},K},{});return z.modules!=null&&z.modules.toolbar&&z.modules.toolbar.constructor!==Object&&(z.modules.toolbar={container:z.modules.toolbar}),z=(0,g.default)(!0,{},j.DEFAULTS,{modules:F},M,z),["bounds","container","scrollingContainer"].forEach(function(K){typeof z[K]=="string"&&(z[K]=document.querySelector(z[K]))}),z.modules=Object.keys(z.modules).reduce(function(K,W){return z.modules[W]&&(K[W]=z.modules[W]),K},{}),z}function V(G,z,M,Z){if(this.options.strict&&!this.isEnabled()&&z===o.default.sources.USER)return new O.default;var F=M==null?null:this.getSelection(),K=this.editor.delta,W=G();if(F!=null&&(M===!0&&(M=F.index),Z==null?F=et(F,W,z):Z!==0&&(F=et(F,M,Z,z)),this.setSelection(F,o.default.sources.SILENT)),W.length()>0){var D,$=[o.default.events.TEXT_CHANGE,W,K,z];if((D=this.emitter).emit.apply(D,[o.default.events.EDITOR_CHANGE].concat($)),z!==o.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,$)}}return W}function Y(G,z,M,Z,F){var K={};return typeof G.index=="number"&&typeof G.length=="number"?typeof z!="number"?(F=Z,Z=M,M=z,z=G.length,G=G.index):(z=G.length,G=G.index):typeof z!="number"&&(F=Z,Z=M,M=z,z=0),(typeof M>"u"?"undefined":k(M))==="object"?(K=M,F=Z):typeof M=="string"&&(Z!=null?K[M]=Z:F=M),F=F||o.default.sources.API,[G,z,K,F]}function et(G,z,M,Z){if(G==null)return null;var F=void 0,K=void 0;if(z instanceof O.default){var W=[G.index,G.index+G.length].map(function(Q){return z.transformPosition(Q,Z!==o.default.sources.USER)}),D=x(W,2);F=D[0],K=D[1]}else{var $=[G.index,G.index+G.length].map(function(Q){return Q<z||Q===z&&Z===o.default.sources.USER?Q:M>=0?Q+M:Math.max(z,Q+M)}),J=x($,2);F=J[0],K=J[1]}return new s.Range(F,K-F)}f.expandConfig=H,f.overload=Y,f.default=j},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function d(u,s){for(var _=0;_<s.length;_++){var a=s[_];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,_){return s&&d(u.prototype,s),_&&d(u,_),u}}(),x=function d(u,s,_){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:d(g,s,_)}else{if("value"in a)return a.value;var B=a.get;return B===void 0?void 0:B.call(_)}},E=p(7),b=l(E),O=p(0),y=l(O);function l(d){return d&&d.__esModule?d:{default:d}}function r(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function o(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function m(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var c=function(d){m(u,d);function u(){return r(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return k(u,[{key:"formatAt",value:function(_,a,g,B){if(u.compare(this.statics.blotName,g)<0&&y.default.query(g,y.default.Scope.BLOT)){var N=this.isolate(_,a);B&&N.wrap(g,B)}else x(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"formatAt",this).call(this,_,a,g,B)}},{key:"optimize",value:function(_){if(x(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,_),this.parent instanceof u&&u.compare(this.statics.blotName,this.parent.statics.blotName)>0){var a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}}],[{key:"compare",value:function(_,a){var g=u.order.indexOf(_),B=u.order.indexOf(a);return g>=0||B>=0?g-B:_===a?0:_<a?-1:1}}]),u}(y.default.Inline);c.allowedChildren=[c,y.default.Embed,b.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],f.default=c},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(0),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}function b(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function O(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function y(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){y(o,r);function o(){return b(this,o),O(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o}(x.default.Text);f.default=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function s(_,a){for(var g=0;g<a.length;g++){var B=a[g];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(_,B.key,B)}}return function(_,a,g){return a&&s(_.prototype,a),g&&s(_,g),_}}(),x=function s(_,a,g){_===null&&(_=Function.prototype);var B=Object.getOwnPropertyDescriptor(_,a);if(B===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:s(N,a,g)}else{if("value"in B)return B.value;var C=B.get;return C===void 0?void 0:C.call(g)}},E=p(54),b=l(E),O=p(10),y=l(O);function l(s){return s&&s.__esModule?s:{default:s}}function r(s,_){if(!(s instanceof _))throw new TypeError("Cannot call a class as a function")}function o(s,_){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:s}function m(s,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);s.prototype=Object.create(_&&_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(s,_):s.__proto__=_)}var c=(0,y.default)("quill:events"),d=["selectionchange","mousedown","mouseup","click"];d.forEach(function(s){document.addEventListener(s,function(){for(var _=arguments.length,a=Array(_),g=0;g<_;g++)a[g]=arguments[g];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(B){if(B.__quill&&B.__quill.emitter){var N;(N=B.__quill.emitter).handleDOM.apply(N,a)}})})});var u=function(s){m(_,s);function _(){r(this,_);var a=o(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return a.listeners={},a.on("error",c.error),a}return k(_,[{key:"emit",value:function(){c.log.apply(c,arguments),x(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(g){for(var B=arguments.length,N=Array(B>1?B-1:0),C=1;C<B;C++)N[C-1]=arguments[C];(this.listeners[g.type]||[]).forEach(function(q){var A=q.node,w=q.handler;(g.target===A||A.contains(g.target))&&w.apply(void 0,[g].concat(N))})}},{key:"listenDOM",value:function(g,B,N){this.listeners[g]||(this.listeners[g]=[]),this.listeners[g].push({node:B,handler:N})}}]),_}(b.default);u.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},u.sources={API:"api",SILENT:"silent",USER:"user"},f.default=u},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});function k(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}var x=function E(b){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(this,E),this.quill=b,this.options=O};x.DEFAULTS={},f.default=x},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=["error","warn","log","info"],x="warn";function E(O){if(k.indexOf(O)<=k.indexOf(x)){for(var y,l=arguments.length,r=Array(l>1?l-1:0),o=1;o<l;o++)r[o-1]=arguments[o];(y=console)[O].apply(y,r)}}function b(O){return k.reduce(function(y,l){return y[l]=E.bind(console,l,O),y},{})}E.level=b.level=function(O){x=O},f.default=b},function(h,f,p){var k=Array.prototype.slice,x=p(52),E=p(53),b=h.exports=function(r,o,m){return m||(m={}),r===o?!0:r instanceof Date&&o instanceof Date?r.getTime()===o.getTime():!r||!o||typeof r!="object"&&typeof o!="object"?m.strict?r===o:r==o:l(r,o,m)};function O(r){return r==null}function y(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}function l(r,o,m){var c,d;if(O(r)||O(o)||r.prototype!==o.prototype)return!1;if(E(r))return E(o)?(r=k.call(r),o=k.call(o),b(r,o,m)):!1;if(y(r)){if(!y(o)||r.length!==o.length)return!1;for(c=0;c<r.length;c++)if(r[c]!==o[c])return!1;return!0}try{var u=x(r),s=x(o)}catch{return!1}if(u.length!=s.length)return!1;for(u.sort(),s.sort(),c=u.length-1;c>=0;c--)if(u[c]!=s[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!b(r[d],o[d],m))return!1;return typeof r==typeof o}},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(1),x=function(){function E(b,O,y){y===void 0&&(y={}),this.attrName=b,this.keyName=O;var l=k.Scope.TYPE&k.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&k.Scope.LEVEL|l:this.scope=k.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return E.keys=function(b){return[].map.call(b.attributes,function(O){return O.name})},E.prototype.add=function(b,O){return this.canAdd(b,O)?(b.setAttribute(this.keyName,O),!0):!1},E.prototype.canAdd=function(b,O){var y=k.query(b,k.Scope.BLOT&(this.scope|k.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof O=="string"?this.whitelist.indexOf(O.replace(/["']/g,""))>-1:this.whitelist.indexOf(O)>-1},E.prototype.remove=function(b){b.removeAttribute(this.keyName)},E.prototype.value=function(b){var O=b.getAttribute(this.keyName);return this.canAdd(b,O)&&O?O:""},E}();f.default=x},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.Code=void 0;var k=function(){function C(q,A){var w=[],T=!0,R=!1,j=void 0;try{for(var H=q[Symbol.iterator](),V;!(T=(V=H.next()).done)&&(w.push(V.value),!(A&&w.length===A));T=!0);}catch(Y){R=!0,j=Y}finally{try{!T&&H.return&&H.return()}finally{if(R)throw j}}return w}return function(q,A){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return C(q,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function C(q,A){for(var w=0;w<A.length;w++){var T=A[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(q,T.key,T)}}return function(q,A,w){return A&&C(q.prototype,A),w&&C(q,w),q}}(),E=function C(q,A,w){q===null&&(q=Function.prototype);var T=Object.getOwnPropertyDescriptor(q,A);if(T===void 0){var R=Object.getPrototypeOf(q);return R===null?void 0:C(R,A,w)}else{if("value"in T)return T.value;var j=T.get;return j===void 0?void 0:j.call(w)}},b=p(2),O=s(b),y=p(0),l=s(y),r=p(4),o=s(r),m=p(6),c=s(m),d=p(7),u=s(d);function s(C){return C&&C.__esModule?C:{default:C}}function _(C,q){if(!(C instanceof q))throw new TypeError("Cannot call a class as a function")}function a(C,q){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:C}function g(C,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);C.prototype=Object.create(q&&q.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(C,q):C.__proto__=q)}var B=function(C){g(q,C);function q(){return _(this,q),a(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return q}(c.default);B.blotName="code",B.tagName="CODE";var N=function(C){g(q,C);function q(){return _(this,q),a(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return x(q,[{key:"delta",value:function(){var w=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(R,j){return R.insert(j).insert(`
`,w.formats())},new O.default)}},{key:"format",value:function(w,T){if(!(w===this.statics.blotName&&T)){var R=this.descendant(u.default,this.length()-1),j=k(R,1),H=j[0];H!=null&&H.deleteAt(H.length()-1,1),E(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,w,T)}}},{key:"formatAt",value:function(w,T,R,j){if(T!==0&&!(l.default.query(R,l.default.Scope.BLOCK)==null||R===this.statics.blotName&&j===this.statics.formats(this.domNode))){var H=this.newlineIndex(w);if(!(H<0||H>=w+T)){var V=this.newlineIndex(w,!0)+1,Y=H-V+1,et=this.isolate(V,Y),G=et.next;et.format(R,j),G instanceof q&&G.formatAt(0,w-V+T-Y,R,j)}}}},{key:"insertAt",value:function(w,T,R){if(R==null){var j=this.descendant(u.default,w),H=k(j,2),V=H[0],Y=H[1];V.insertAt(Y,T)}}},{key:"length",value:function(){var w=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?w:w+1}},{key:"newlineIndex",value:function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,w).lastIndexOf(`
`);var R=this.domNode.textContent.slice(w).indexOf(`
`);return R>-1?w+R:-1}},{key:"optimize",value:function(w){this.domNode.textContent.endsWith(`
`)||this.appendChild(l.default.create("text",`
`)),E(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,w);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(w),T.moveChildren(this),T.remove())}},{key:"replace",value:function(w){E(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,w),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var R=l.default.find(T);R==null?T.parentNode.removeChild(T):R instanceof l.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(w){var T=E(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,w);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),q}(o.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",f.Code=B,f.default=N},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},x=function(){function G(z,M){var Z=[],F=!0,K=!1,W=void 0;try{for(var D=z[Symbol.iterator](),$;!(F=($=D.next()).done)&&(Z.push($.value),!(M&&Z.length===M));F=!0);}catch(J){K=!0,W=J}finally{try{!F&&D.return&&D.return()}finally{if(K)throw W}}return Z}return function(z,M){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return G(z,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function G(z,M){for(var Z=0;Z<M.length;Z++){var F=M[Z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}return function(z,M,Z){return M&&G(z.prototype,M),Z&&G(z,Z),z}}(),b=p(2),O=T(b),y=p(20),l=T(y),r=p(0),o=T(r),m=p(13),c=T(m),d=p(24),u=T(d),s=p(4),_=T(s),a=p(16),g=T(a),B=p(21),N=T(B),C=p(11),q=T(C),A=p(3),w=T(A);function T(G){return G&&G.__esModule?G:{default:G}}function R(G,z,M){return z in G?Object.defineProperty(G,z,{value:M,enumerable:!0,configurable:!0,writable:!0}):G[z]=M,G}function j(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,V=function(){function G(z){j(this,G),this.scroll=z,this.delta=this.getDelta()}return E(G,[{key:"applyDelta",value:function(M){var Z=this,F=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),M=et(M),M.reduce(function(W,D){var $=D.retain||D.delete||D.insert.length||1,J=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var Q=D.insert;Q.endsWith(`
`)&&F&&(F=!1,Q=Q.slice(0,-1)),W>=K&&!Q.endsWith(`
`)&&(F=!0),Z.scroll.insertAt(W,Q);var rt=Z.scroll.line(W),ft=x(rt,2),ht=ft[0],pt=ft[1],Ot=(0,w.default)({},(0,s.bubbleFormats)(ht));if(ht instanceof _.default){var Tt=ht.descendant(o.default.Leaf,pt),Dt=x(Tt,1),St=Dt[0];Ot=(0,w.default)(Ot,(0,s.bubbleFormats)(St))}J=l.default.attributes.diff(Ot,J)||{}}else if(k(D.insert)==="object"){var nt=Object.keys(D.insert)[0];if(nt==null)return W;Z.scroll.insertAt(W,nt,D.insert[nt])}K+=$}return Object.keys(J).forEach(function(it){Z.scroll.formatAt(W,$,it,J[it])}),W+$},0),M.reduce(function(W,D){return typeof D.delete=="number"?(Z.scroll.deleteAt(W,D.delete),W):W+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,Z){return this.scroll.deleteAt(M,Z),this.update(new O.default().retain(M).delete(Z))}},{key:"formatLine",value:function(M,Z){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(W){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[W])){var D=F.scroll.lines(M,Math.max(Z,1)),$=Z;D.forEach(function(J){var Q=J.length();if(!(J instanceof c.default))J.format(W,K[W]);else{var rt=M-J.offset(F.scroll),ft=J.newlineIndex(rt+$)-rt+1;J.formatAt(rt,ft,W,K[W])}$-=Q})}}),this.scroll.optimize(),this.update(new O.default().retain(M).retain(Z,(0,N.default)(K)))}},{key:"formatText",value:function(M,Z){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(W){F.scroll.formatAt(M,Z,W,K[W])}),this.update(new O.default().retain(M).retain(Z,(0,N.default)(K)))}},{key:"getContents",value:function(M,Z){return this.delta.slice(M,M+Z)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,Z){return M.concat(Z.delta())},new O.default)}},{key:"getFormat",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],K=[];Z===0?this.scroll.path(M).forEach(function(D){var $=x(D,1),J=$[0];J instanceof _.default?F.push(J):J instanceof o.default.Leaf&&K.push(J)}):(F=this.scroll.lines(M,Z),K=this.scroll.descendants(o.default.Leaf,M,Z));var W=[F,K].map(function(D){if(D.length===0)return{};for(var $=(0,s.bubbleFormats)(D.shift());Object.keys($).length>0;){var J=D.shift();if(J==null)return $;$=Y((0,s.bubbleFormats)(J),$)}return $});return w.default.apply(w.default,W)}},{key:"getText",value:function(M,Z){return this.getContents(M,Z).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(M,Z,F){return this.scroll.insertAt(M,Z,F),this.update(new O.default().retain(M).insert(R({},Z,F)))}},{key:"insertText",value:function(M,Z){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Z=Z.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,Z),Object.keys(K).forEach(function(W){F.scroll.formatAt(M,Z.length,W,K[W])}),this.update(new O.default().retain(M).insert(Z,(0,N.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==_.default.blotName||M.children.length>1?!1:M.children.head instanceof g.default}},{key:"removeFormat",value:function(M,Z){var F=this.getText(M,Z),K=this.scroll.line(M+Z),W=x(K,2),D=W[0],$=W[1],J=0,Q=new O.default;D!=null&&(D instanceof c.default?J=D.newlineIndex($)-$+1:J=D.length()-$,Q=D.delta().slice($,$+J-1).insert(`
`));var rt=this.getContents(M,Z+J),ft=rt.diff(new O.default().insert(F).concat(Q)),ht=new O.default().retain(M).concat(ft);return this.applyDelta(ht)}},{key:"update",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(Z.length===1&&Z[0].type==="characterData"&&Z[0].target.data.match(H)&&o.default.find(Z[0].target)){var W=o.default.find(Z[0].target),D=(0,s.bubbleFormats)(W),$=W.offset(this.scroll),J=Z[0].oldValue.replace(u.default.CONTENTS,""),Q=new O.default().insert(J),rt=new O.default().insert(W.value()),ft=new O.default().retain($).concat(Q.diff(rt,F));M=ft.reduce(function(ht,pt){return pt.insert?ht.insert(pt.insert,D):ht.push(pt)},new O.default),this.delta=K.compose(M)}else this.delta=this.getDelta(),(!M||!(0,q.default)(K.compose(M),this.delta))&&(M=K.diff(this.delta,F));return M}}]),G}();function Y(G,z){return Object.keys(z).reduce(function(M,Z){return G[Z]==null||(z[Z]===G[Z]?M[Z]=z[Z]:Array.isArray(z[Z])?z[Z].indexOf(G[Z])<0&&(M[Z]=z[Z].concat([G[Z]])):M[Z]=[z[Z],G[Z]]),M},{})}function et(G){return G.reduce(function(z,M){if(M.insert===1){var Z=(0,N.default)(M.attributes);return delete Z.image,z.insert({image:M.attributes.image},Z)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,N.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var F=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert(F,M.attributes)}return z.push(M)},new O.default)}f.default=V},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.Range=void 0;var k=function(){function C(q,A){var w=[],T=!0,R=!1,j=void 0;try{for(var H=q[Symbol.iterator](),V;!(T=(V=H.next()).done)&&(w.push(V.value),!(A&&w.length===A));T=!0);}catch(Y){R=!0,j=Y}finally{try{!T&&H.return&&H.return()}finally{if(R)throw j}}return w}return function(q,A){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return C(q,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function C(q,A){for(var w=0;w<A.length;w++){var T=A[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(q,T.key,T)}}return function(q,A,w){return A&&C(q.prototype,A),w&&C(q,w),q}}(),E=p(0),b=u(E),O=p(21),y=u(O),l=p(11),r=u(l),o=p(8),m=u(o),c=p(10),d=u(c);function u(C){return C&&C.__esModule?C:{default:C}}function s(C){if(Array.isArray(C)){for(var q=0,A=Array(C.length);q<C.length;q++)A[q]=C[q];return A}else return Array.from(C)}function _(C,q){if(!(C instanceof q))throw new TypeError("Cannot call a class as a function")}var a=(0,d.default)("quill:selection"),g=function C(q){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,C),this.index=q,this.length=A},B=function(){function C(q,A){var w=this;_(this,C),this.emitter=A,this.scroll=q,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=b.default.create("cursor",this),this.lastRange=this.savedRange=new g(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){w.mouseDown||setTimeout(w.update.bind(w,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(T,R){T===m.default.events.TEXT_CHANGE&&R.length()>0&&w.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(w.hasFocus()){var T=w.getNativeRange();T!=null&&T.start.node!==w.cursor.textNode&&w.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{w.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(T,R){if(R.range){var j=R.range,H=j.startNode,V=j.startOffset,Y=j.endNode,et=j.endOffset;w.setNativeRange(H,V,Y,et)}}),this.update(m.default.sources.SILENT)}return x(C,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var w=A.cursor.restore();if(!w)return;setTimeout(function(){A.setNativeRange(w.startNode,w.startOffset,w.endNode,w.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,w){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||b.default.query(A,b.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var R=b.default.find(T.start.node,!1);if(R==null)return;if(R instanceof b.default.Leaf){var j=R.split(T.start.offset);R.parent.insertBefore(this.cursor,j)}else R.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(A,w),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();A=Math.min(A,T-1),w=Math.min(A+w,T-1)-A;var R=void 0,j=this.scroll.leaf(A),H=k(j,2),V=H[0],Y=H[1];if(V==null)return null;var et=V.position(Y,!0),G=k(et,2);R=G[0],Y=G[1];var z=document.createRange();if(w>0){z.setStart(R,Y);var M=this.scroll.leaf(A+w),Z=k(M,2);if(V=Z[0],Y=Z[1],V==null)return null;var F=V.position(Y,!0),K=k(F,2);return R=K[0],Y=K[1],z.setEnd(R,Y),z.getBoundingClientRect()}else{var W="left",D=void 0;return R instanceof Text?(Y<R.data.length?(z.setStart(R,Y),z.setEnd(R,Y+1)):(z.setStart(R,Y-1),z.setEnd(R,Y),W="right"),D=z.getBoundingClientRect()):(D=V.domNode.getBoundingClientRect(),Y>0&&(W="right")),{bottom:D.top+D.height,height:D.height,left:D[W],right:D[W],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var w=A.getRangeAt(0);if(w==null)return null;var T=this.normalizeNative(w);return a.info("getNativeRange",T),T}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var w=this.normalizedToRange(A);return[w,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var w=this,T=[[A.start.node,A.start.offset]];A.native.collapsed||T.push([A.end.node,A.end.offset]);var R=T.map(function(V){var Y=k(V,2),et=Y[0],G=Y[1],z=b.default.find(et,!0),M=z.offset(w.scroll);return G===0?M:z instanceof b.default.Container?M+z.length():M+z.index(et,G)}),j=Math.min(Math.max.apply(Math,s(R)),this.scroll.length()-1),H=Math.min.apply(Math,[j].concat(s(R)));return new g(H,j-H)}},{key:"normalizeNative",value:function(A){if(!N(this.root,A.startContainer)||!A.collapsed&&!N(this.root,A.endContainer))return null;var w={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[w.start,w.end].forEach(function(T){for(var R=T.node,j=T.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>j)R=R.childNodes[j],j=0;else if(R.childNodes.length===j)R=R.lastChild,j=R instanceof Text?R.data.length:R.childNodes.length+1;else break;T.node=R,T.offset=j}),w}},{key:"rangeToNative",value:function(A){var w=this,T=A.collapsed?[A.index]:[A.index,A.index+A.length],R=[],j=this.scroll.length();return T.forEach(function(H,V){H=Math.min(j-1,H);var Y=void 0,et=w.scroll.leaf(H),G=k(et,2),z=G[0],M=G[1],Z=z.position(M,V!==0),F=k(Z,2);Y=F[0],M=F[1],R.push(Y,M)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(A){var w=this.lastRange;if(w!=null){var T=this.getBounds(w.index,w.length);if(T!=null){var R=this.scroll.length()-1,j=this.scroll.line(Math.min(w.index,R)),H=k(j,1),V=H[0],Y=V;if(w.length>0){var et=this.scroll.line(Math.min(w.index+w.length,R)),G=k(et,1);Y=G[0]}if(!(V==null||Y==null)){var z=A.getBoundingClientRect();T.top<z.top?A.scrollTop-=z.top-T.top:T.bottom>z.bottom&&(A.scrollTop+=T.bottom-z.bottom)}}}}},{key:"setNativeRange",value:function(A,w){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a.info("setNativeRange",A,w,T,R),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||T.parentNode==null))){var H=document.getSelection();if(H!=null)if(A!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||j||A!==V.startContainer||w!==V.startOffset||T!==V.endContainer||R!==V.endOffset){A.tagName=="BR"&&(w=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),T.tagName=="BR"&&(R=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var Y=document.createRange();Y.setStart(A,w),Y.setEnd(T,R),H.removeAllRanges(),H.addRange(Y)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof w=="string"&&(T=w,w=!1),a.info("setRange",A),A!=null){var R=this.rangeToNative(A);this.setNativeRange.apply(this,s(R).concat([w]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,w=this.lastRange,T=this.getRange(),R=k(T,2),j=R[0],H=R[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,r.default)(w,this.lastRange)){var V;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[m.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(w),A];if((V=this.emitter).emit.apply(V,[m.default.events.EDITOR_CHANGE].concat(Y)),A!==m.default.sources.SILENT){var et;(et=this.emitter).emit.apply(et,Y)}}}}]),C}();function N(C,q){try{q.parentNode}catch{return!1}return q instanceof Text&&(q=q.parentNode),C.contains(q)}f.Range=g,f.default=B},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function m(c,d){for(var u=0;u<d.length;u++){var s=d[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,d,u){return d&&m(c.prototype,d),u&&m(c,u),c}}(),x=function m(c,d,u){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,d);if(s===void 0){var _=Object.getPrototypeOf(c);return _===null?void 0:m(_,d,u)}else{if("value"in s)return s.value;var a=s.get;return a===void 0?void 0:a.call(u)}},E=p(0),b=O(E);function O(m){return m&&m.__esModule?m:{default:m}}function y(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function l(m,c){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:m}function r(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(m,c):m.__proto__=c)}var o=function(m){r(c,m);function c(){return y(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return k(c,[{key:"insertInto",value:function(u,s){u.children.length===0?x(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"insertInto",this).call(this,u,s):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),c}(b.default.Embed);o.blotName="break",o.tagName="BR",f.default=o},function(h,f,p){var k=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var m in o)o.hasOwnProperty(m)&&(r[m]=o[m])};return function(r,o){l(r,o);function m(){this.constructor=r}r.prototype=o===null?Object.create(o):(m.prototype=o.prototype,new m)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(44),E=p(30),b=p(1),O=function(l){k(r,l);function r(o){var m=l.call(this,o)||this;return m.build(),m}return r.prototype.appendChild=function(o){this.insertBefore(o)},r.prototype.attach=function(){l.prototype.attach.call(this),this.children.forEach(function(o){o.attach()})},r.prototype.build=function(){var o=this;this.children=new x.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var c=y(m);o.insertBefore(c,o.children.head||void 0)}catch(d){if(d instanceof b.ParchmentError)return;throw d}})},r.prototype.deleteAt=function(o,m){if(o===0&&m===this.length())return this.remove();this.children.forEachAt(o,m,function(c,d,u){c.deleteAt(d,u)})},r.prototype.descendant=function(o,m){var c=this.children.find(m),d=c[0],u=c[1];return o.blotName==null&&o(d)||o.blotName!=null&&d instanceof o?[d,u]:d instanceof r?d.descendant(o,u):[null,-1]},r.prototype.descendants=function(o,m,c){m===void 0&&(m=0),c===void 0&&(c=Number.MAX_VALUE);var d=[],u=c;return this.children.forEachAt(m,c,function(s,_,a){(o.blotName==null&&o(s)||o.blotName!=null&&s instanceof o)&&d.push(s),s instanceof r&&(d=d.concat(s.descendants(o,_,u))),u-=a}),d},r.prototype.detach=function(){this.children.forEach(function(o){o.detach()}),l.prototype.detach.call(this)},r.prototype.formatAt=function(o,m,c,d){this.children.forEachAt(o,m,function(u,s,_){u.formatAt(s,_,c,d)})},r.prototype.insertAt=function(o,m,c){var d=this.children.find(o),u=d[0],s=d[1];if(u)u.insertAt(s,m,c);else{var _=c==null?b.create("text",m):b.create(m,c);this.appendChild(_)}},r.prototype.insertBefore=function(o,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(c){return o instanceof c}))throw new b.ParchmentError("Cannot insert "+o.statics.blotName+" into "+this.statics.blotName);o.insertInto(this,m)},r.prototype.length=function(){return this.children.reduce(function(o,m){return o+m.length()},0)},r.prototype.moveChildren=function(o,m){this.children.forEach(function(c){o.insertBefore(c,m)})},r.prototype.optimize=function(o){if(l.prototype.optimize.call(this,o),this.children.length===0)if(this.statics.defaultChild!=null){var m=b.create(this.statics.defaultChild);this.appendChild(m),m.optimize(o)}else this.remove()},r.prototype.path=function(o,m){m===void 0&&(m=!1);var c=this.children.find(o,m),d=c[0],u=c[1],s=[[this,o]];return d instanceof r?s.concat(d.path(u,m)):(d!=null&&s.push([d,u]),s)},r.prototype.removeChild=function(o){this.children.remove(o)},r.prototype.replace=function(o){o instanceof r&&o.moveChildren(this),l.prototype.replace.call(this,o)},r.prototype.split=function(o,m){if(m===void 0&&(m=!1),!m){if(o===0)return this;if(o===this.length())return this.next}var c=this.clone();return this.parent.insertBefore(c,this.next),this.children.forEachAt(o,this.length(),function(d,u,s){d=d.split(u,m),c.appendChild(d)}),c},r.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},r.prototype.update=function(o,m){var c=this,d=[],u=[];o.forEach(function(s){s.target===c.domNode&&s.type==="childList"&&(d.push.apply(d,s.addedNodes),u.push.apply(u,s.removedNodes))}),u.forEach(function(s){if(!(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=b.find(s);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===c.domNode)&&_.detach()}}),d.filter(function(s){return s.parentNode==c.domNode}).sort(function(s,_){return s===_?0:s.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(s){var _=null;s.nextSibling!=null&&(_=b.find(s.nextSibling));var a=y(s);(a.next!=_||a.next==null)&&(a.parent!=null&&a.parent.removeChild(c),c.insertBefore(a,_||void 0))})},r}(E.default);function y(l){var r=b.find(l);if(r==null)try{r=b.create(l)}catch{r=b.create(b.Scope.INLINE),[].slice.call(l.childNodes).forEach(function(m){r.domNode.appendChild(m)}),l.parentNode&&l.parentNode.replaceChild(r.domNode,l),r.attach()}return r}f.default=O},function(h,f,p){var k=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var m in o)o.hasOwnProperty(m)&&(r[m]=o[m])};return function(r,o){l(r,o);function m(){this.constructor=r}r.prototype=o===null?Object.create(o):(m.prototype=o.prototype,new m)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(12),E=p(31),b=p(17),O=p(1),y=function(l){k(r,l);function r(o){var m=l.call(this,o)||this;return m.attributes=new E.default(m.domNode),m}return r.formats=function(o){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return o.tagName.toLowerCase()},r.prototype.format=function(o,m){var c=O.query(o);c instanceof x.default?this.attributes.attribute(c,m):m&&c!=null&&(o!==this.statics.blotName||this.formats()[o]!==m)&&this.replaceWith(o,m)},r.prototype.formats=function(){var o=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(o[this.statics.blotName]=m),o},r.prototype.replaceWith=function(o,m){var c=l.prototype.replaceWith.call(this,o,m);return this.attributes.copy(c),c},r.prototype.update=function(o,m){var c=this;l.prototype.update.call(this,o,m),o.some(function(d){return d.target===c.domNode&&d.type==="attributes"})&&this.attributes.build()},r.prototype.wrap=function(o,m){var c=l.prototype.wrap.call(this,o,m);return c instanceof r&&c.statics.scope===this.statics.scope&&this.attributes.move(c),c},r}(b.default);f.default=y},function(h,f,p){var k=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,l){y.__proto__=l}||function(y,l){for(var r in l)l.hasOwnProperty(r)&&(y[r]=l[r])};return function(y,l){O(y,l);function r(){this.constructor=y}y.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(30),E=p(1),b=function(O){k(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.value=function(l){return!0},y.prototype.index=function(l,r){return this.domNode===l||this.domNode.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1},y.prototype.position=function(l,r){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return l>0&&(o+=1),[this.parent.domNode,o]},y.prototype.value=function(){var l;return l={},l[this.statics.blotName]=this.statics.value(this.domNode)||!0,l},y.scope=E.Scope.INLINE_BLOT,y}(x.default);f.default=b},function(h,f,p){var k=p(11),x=p(3),E={attributes:{compose:function(O,y,l){typeof O!="object"&&(O={}),typeof y!="object"&&(y={});var r=x(!0,{},y);l||(r=Object.keys(r).reduce(function(m,c){return r[c]!=null&&(m[c]=r[c]),m},{}));for(var o in O)O[o]!==void 0&&y[o]===void 0&&(r[o]=O[o]);return Object.keys(r).length>0?r:void 0},diff:function(O,y){typeof O!="object"&&(O={}),typeof y!="object"&&(y={});var l=Object.keys(O).concat(Object.keys(y)).reduce(function(r,o){return k(O[o],y[o])||(r[o]=y[o]===void 0?null:y[o]),r},{});return Object.keys(l).length>0?l:void 0},transform:function(O,y,l){if(typeof O!="object")return y;if(typeof y=="object"){if(!l)return y;var r=Object.keys(y).reduce(function(o,m){return O[m]===void 0&&(o[m]=y[m]),o},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(O){return new b(O)},length:function(O){return typeof O.delete=="number"?O.delete:typeof O.retain=="number"?O.retain:typeof O.insert=="string"?O.insert.length:1}};function b(O){this.ops=O,this.index=0,this.offset=0}b.prototype.hasNext=function(){return this.peekLength()<1/0},b.prototype.next=function(O){O||(O=1/0);var y=this.ops[this.index];if(y){var l=this.offset,r=E.length(y);if(O>=r-l?(O=r-l,this.index+=1,this.offset=0):this.offset+=O,typeof y.delete=="number")return{delete:O};var o={};return y.attributes&&(o.attributes=y.attributes),typeof y.retain=="number"?o.retain=O:typeof y.insert=="string"?o.insert=y.insert.substr(l,O):o.insert=y.insert,o}else return{retain:1/0}},b.prototype.peek=function(){return this.ops[this.index]},b.prototype.peekLength=function(){return this.ops[this.index]?E.length(this.ops[this.index])-this.offset:1/0},b.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},b.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var O=this.offset,y=this.index,l=this.next(),r=this.ops.slice(this.index);return this.offset=O,this.index=y,[l].concat(r)}else return[]},h.exports=E},function(h,f){var p=function(){function k(c,d){return d!=null&&c instanceof d}var x;try{x=Map}catch{x=function(){}}var E;try{E=Set}catch{E=function(){}}var b;try{b=Promise}catch{b=function(){}}function O(c,d,u,s,_){typeof d=="object"&&(u=d.depth,s=d.prototype,_=d.includeNonEnumerable,d=d.circular);var a=[],g=[],B=typeof Buffer<"u";typeof d>"u"&&(d=!0),typeof u>"u"&&(u=1/0);function N(C,q){if(C===null)return null;if(q===0)return C;var A,w;if(typeof C!="object")return C;if(k(C,x))A=new x;else if(k(C,E))A=new E;else if(k(C,b))A=new b(function(z,M){C.then(function(Z){z(N(Z,q-1))},function(Z){M(N(Z,q-1))})});else if(O.__isArray(C))A=[];else if(O.__isRegExp(C))A=new RegExp(C.source,m(C)),C.lastIndex&&(A.lastIndex=C.lastIndex);else if(O.__isDate(C))A=new Date(C.getTime());else{if(B&&Buffer.isBuffer(C))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(C.length):A=new Buffer(C.length),C.copy(A),A;k(C,Error)?A=Object.create(C):typeof s>"u"?(w=Object.getPrototypeOf(C),A=Object.create(w)):(A=Object.create(s),w=s)}if(d){var T=a.indexOf(C);if(T!=-1)return g[T];a.push(C),g.push(A)}k(C,x)&&C.forEach(function(z,M){var Z=N(M,q-1),F=N(z,q-1);A.set(Z,F)}),k(C,E)&&C.forEach(function(z){var M=N(z,q-1);A.add(M)});for(var R in C){var j;w&&(j=Object.getOwnPropertyDescriptor(w,R)),!(j&&j.set==null)&&(A[R]=N(C[R],q-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(C),R=0;R<H.length;R++){var V=H[R],Y=Object.getOwnPropertyDescriptor(C,V);Y&&!Y.enumerable&&!_||(A[V]=N(C[V],q-1),Y.enumerable||Object.defineProperty(A,V,{enumerable:!1}))}if(_)for(var et=Object.getOwnPropertyNames(C),R=0;R<et.length;R++){var G=et[R],Y=Object.getOwnPropertyDescriptor(C,G);Y&&Y.enumerable||(A[G]=N(C[G],q-1),Object.defineProperty(A,G,{enumerable:!1}))}return A}return N(c,u)}O.clonePrototype=function(d){if(d===null)return null;var u=function(){};return u.prototype=d,new u};function y(c){return Object.prototype.toString.call(c)}O.__objToStr=y;function l(c){return typeof c=="object"&&y(c)==="[object Date]"}O.__isDate=l;function r(c){return typeof c=="object"&&y(c)==="[object Array]"}O.__isArray=r;function o(c){return typeof c=="object"&&y(c)==="[object RegExp]"}O.__isRegExp=o;function m(c){var d="";return c.global&&(d+="g"),c.ignoreCase&&(d+="i"),c.multiline&&(d+="m"),d}return O.__getRegExpFlags=m,O}();typeof h=="object"&&h.exports&&(h.exports=p)},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function A(w,T){var R=[],j=!0,H=!1,V=void 0;try{for(var Y=w[Symbol.iterator](),et;!(j=(et=Y.next()).done)&&(R.push(et.value),!(T&&R.length===T));j=!0);}catch(G){H=!0,V=G}finally{try{!j&&Y.return&&Y.return()}finally{if(H)throw V}}return R}return function(w,T){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return A(w,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function A(w,T){for(var R=0;R<T.length;R++){var j=T[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,T,R){return T&&A(w.prototype,T),R&&A(w,R),w}}(),E=function A(w,T,R){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,T);if(j===void 0){var H=Object.getPrototypeOf(w);return H===null?void 0:A(H,T,R)}else{if("value"in j)return j.value;var V=j.get;return V===void 0?void 0:V.call(R)}},b=p(0),O=a(b),y=p(8),l=a(y),r=p(4),o=a(r),m=p(16),c=a(m),d=p(13),u=a(d),s=p(25),_=a(s);function a(A){return A&&A.__esModule?A:{default:A}}function g(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function B(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function N(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}function C(A){return A instanceof o.default||A instanceof r.BlockEmbed}var q=function(A){N(w,A);function w(T,R){g(this,w);var j=B(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T));return j.emitter=R.emitter,Array.isArray(R.whitelist)&&(j.whitelist=R.whitelist.reduce(function(H,V){return H[V]=!0,H},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return x(w,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,j){var H=this.line(R),V=k(H,2),Y=V[0],et=V[1],G=this.line(R+j),z=k(G,1),M=z[0];if(E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,R,j),M!=null&&Y!==M&&et>0){if(Y instanceof r.BlockEmbed||M instanceof r.BlockEmbed){this.optimize();return}if(Y instanceof u.default){var Z=Y.newlineIndex(Y.length(),!0);if(Z>-1&&(Y=Y.split(Z+1),Y===M)){this.optimize();return}}else if(M instanceof u.default){var F=M.newlineIndex(0);F>-1&&M.split(F+1)}var K=M.children.head instanceof c.default?null:M.children.head;Y.moveChildren(M,K),Y.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,j,H,V){this.whitelist!=null&&!this.whitelist[H]||(E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,R,j,H,V),this.optimize())}},{key:"insertAt",value:function(R,j,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[j])){if(R>=this.length())if(H==null||O.default.query(j,O.default.Scope.BLOCK)==null){var V=O.default.create(this.statics.defaultChild);this.appendChild(V),H==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),V.insertAt(0,j,H)}else{var Y=O.default.create(j,H);this.appendChild(Y)}else E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,R,j,H);this.optimize()}}},{key:"insertBefore",value:function(R,j){if(R.statics.scope===O.default.Scope.INLINE_BLOT){var H=O.default.create(this.statics.defaultChild);H.appendChild(R),R=H}E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,R,j)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(C,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function V(Y,et,G){var z=[],M=G;return Y.children.forEachAt(et,G,function(Z,F,K){C(Z)?z.push(Z):Z instanceof O.default.Container&&(z=z.concat(V(Z,F,M))),M-=K}),z};return H(this,R,j)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,R,j),R.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,R,j))}},{key:"path",value:function(R){return E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var j=l.default.sources.USER;typeof R=="string"&&(j=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,j,R),E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,j,R)}}}]),w}(O.default.Scroll);q.blotName="scroll",q.className="ql-editor",q.tagName="DIV",q.defaultChild="block",q.allowedChildren=[o.default,r.BlockEmbed,_.default],f.default=q},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.SHORTKEY=f.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},x=function(){function D($,J){var Q=[],rt=!0,ft=!1,ht=void 0;try{for(var pt=$[Symbol.iterator](),Ot;!(rt=(Ot=pt.next()).done)&&(Q.push(Ot.value),!(J&&Q.length===J));rt=!0);}catch(Tt){ft=!0,ht=Tt}finally{try{!rt&&pt.return&&pt.return()}finally{if(ft)throw ht}}return Q}return function($,J){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return D($,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function D($,J){for(var Q=0;Q<J.length;Q++){var rt=J[Q];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty($,rt.key,rt)}}return function($,J,Q){return J&&D($.prototype,J),Q&&D($,Q),$}}(),b=p(21),O=A(b),y=p(11),l=A(y),r=p(3),o=A(r),m=p(2),c=A(m),d=p(20),u=A(d),s=p(0),_=A(s),a=p(5),g=A(a),B=p(10),N=A(B),C=p(9),q=A(C);function A(D){return D&&D.__esModule?D:{default:D}}function w(D,$,J){return $ in D?Object.defineProperty(D,$,{value:J,enumerable:!0,configurable:!0,writable:!0}):D[$]=J,D}function T(D,$){if(!(D instanceof $))throw new TypeError("Cannot call a class as a function")}function R(D,$){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:D}function j(D,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);D.prototype=Object.create($&&$.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(D,$):D.__proto__=$)}var H=(0,N.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=function(D){j($,D),E($,null,[{key:"match",value:function(Q,rt){return rt=W(rt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ft){return!!rt[ft]!==Q[ft]&&rt[ft]!==null})?!1:rt.key===(Q.which||Q.keyCode)}}]);function $(J,Q){T(this,$);var rt=R(this,($.__proto__||Object.getPrototypeOf($)).call(this,J,Q));return rt.bindings={},Object.keys(rt.options.bindings).forEach(function(ft){ft==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||rt.options.bindings[ft]&&rt.addBinding(rt.options.bindings[ft])}),rt.addBinding({key:$.keys.ENTER,shiftKey:null},Z),rt.addBinding({key:$.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(rt.addBinding({key:$.keys.BACKSPACE},{collapsed:!0},G),rt.addBinding({key:$.keys.DELETE},{collapsed:!0},z)):(rt.addBinding({key:$.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},G),rt.addBinding({key:$.keys.DELETE},{collapsed:!0,suffix:/^.?$/},z)),rt.addBinding({key:$.keys.BACKSPACE},{collapsed:!1},M),rt.addBinding({key:$.keys.DELETE},{collapsed:!1},M),rt.addBinding({key:$.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},G),rt.listen(),rt}return E($,[{key:"addBinding",value:function(Q){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=W(Q);if(ht==null||ht.key==null)return H.warn("Attempted to add invalid keyboard binding",ht);typeof rt=="function"&&(rt={handler:rt}),typeof ft=="function"&&(ft={handler:ft}),ht=(0,o.default)(ht,rt,ft),this.bindings[ht.key]=this.bindings[ht.key]||[],this.bindings[ht.key].push(ht)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(rt){if(!rt.defaultPrevented){var ft=rt.which||rt.keyCode,ht=(Q.bindings[ft]||[]).filter(function(Nt){return $.match(rt,Nt)});if(ht.length!==0){var pt=Q.quill.getSelection();if(!(pt==null||!Q.quill.hasFocus())){var Ot=Q.quill.getLine(pt.index),Tt=x(Ot,2),Dt=Tt[0],St=Tt[1],nt=Q.quill.getLeaf(pt.index),it=x(nt,2),st=it[0],lt=it[1],at=pt.length===0?[st,lt]:Q.quill.getLeaf(pt.index+pt.length),mt=x(at,2),_t=mt[0],gt=mt[1],jt=st instanceof _.default.Text?st.value().slice(0,lt):"",Ht=_t instanceof _.default.Text?_t.value().slice(gt):"",Lt={collapsed:pt.length===0,empty:pt.length===0&&Dt.length()<=1,format:Q.quill.getFormat(pt),offset:St,prefix:jt,suffix:Ht},Tn=ht.some(function(Nt){if(Nt.collapsed!=null&&Nt.collapsed!==Lt.collapsed||Nt.empty!=null&&Nt.empty!==Lt.empty||Nt.offset!=null&&Nt.offset!==Lt.offset)return!1;if(Array.isArray(Nt.format)){if(Nt.format.every(function(Kt){return Lt.format[Kt]==null}))return!1}else if(k(Nt.format)==="object"&&!Object.keys(Nt.format).every(function(Kt){return Nt.format[Kt]===!0?Lt.format[Kt]!=null:Nt.format[Kt]===!1?Lt.format[Kt]==null:(0,l.default)(Nt.format[Kt],Lt.format[Kt])}))return!1;return Nt.prefix!=null&&!Nt.prefix.test(Lt.prefix)||Nt.suffix!=null&&!Nt.suffix.test(Lt.suffix)?!1:Nt.handler.call(Q,pt,Lt)!==!0});Tn&&rt.preventDefault()}}}})}}]),$}(q.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function($,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",g.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",g.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,J){J.format.indent!=null?this.quill.format("indent","-1",g.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,g.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,g.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function($){this.quill.history.cutoff();var J=new c.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(J,g.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,g.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,J){this.quill.format("list",!1,g.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,g.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var J=this.quill.getLine($.index),Q=x(J,2),rt=Q[0],ft=Q[1],ht=(0,o.default)({},rt.formats(),{list:"checked"}),pt=new c.default().retain($.index).insert(`
`,ht).retain(rt.length()-ft-1).retain(1,{list:"unchecked"});this.quill.updateContents(pt,g.default.sources.USER),this.quill.setSelection($.index+1,g.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,J){var Q=this.quill.getLine($.index),rt=x(Q,2),ft=rt[0],ht=rt[1],pt=new c.default().retain($.index).insert(`
`,J.format).retain(ft.length()-ht-1).retain(1,{header:null});this.quill.updateContents(pt,g.default.sources.USER),this.quill.setSelection($.index+1,g.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,J){var Q=J.prefix.length,rt=this.quill.getLine($.index),ft=x(rt,2),ht=ft[0],pt=ft[1];if(pt>Q)return!0;var Ot=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":Ot="unchecked";break;case"[x]":Ot="checked";break;case"-":case"*":Ot="bullet";break;default:Ot="ordered"}this.quill.insertText($.index," ",g.default.sources.USER),this.quill.history.cutoff();var Tt=new c.default().retain($.index-pt).delete(Q+1).retain(ht.length()-2-pt).retain(1,{list:Ot});this.quill.updateContents(Tt,g.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-Q,g.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var J=this.quill.getLine($.index),Q=x(J,2),rt=Q[0],ft=Q[1],ht=new c.default().retain($.index+rt.length()-ft-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ht,g.default.sources.USER)}},"embed left":et(Y.keys.LEFT,!1),"embed left shift":et(Y.keys.LEFT,!0),"embed right":et(Y.keys.RIGHT,!1),"embed right shift":et(Y.keys.RIGHT,!0)}};function et(D,$){var J,Q=D===Y.keys.LEFT?"prefix":"suffix";return J={key:D,shiftKey:$,altKey:null},w(J,Q,/^$/),w(J,"handler",function(ft){var ht=ft.index;D===Y.keys.RIGHT&&(ht+=ft.length+1);var pt=this.quill.getLeaf(ht),Ot=x(pt,1),Tt=Ot[0];return Tt instanceof _.default.Embed?(D===Y.keys.LEFT?$?this.quill.setSelection(ft.index-1,ft.length+1,g.default.sources.USER):this.quill.setSelection(ft.index-1,g.default.sources.USER):$?this.quill.setSelection(ft.index,ft.length+1,g.default.sources.USER):this.quill.setSelection(ft.index+ft.length+1,g.default.sources.USER),!1):!0}),J}function G(D,$){if(!(D.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(D.index),Q=x(J,1),rt=Q[0],ft={};if($.offset===0){var ht=this.quill.getLine(D.index-1),pt=x(ht,1),Ot=pt[0];if(Ot!=null&&Ot.length()>1){var Tt=rt.formats(),Dt=this.quill.getFormat(D.index-1,1);ft=u.default.attributes.diff(Tt,Dt)||{}}}var St=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;this.quill.deleteText(D.index-St,St,g.default.sources.USER),Object.keys(ft).length>0&&this.quill.formatLine(D.index-St,St,ft,g.default.sources.USER),this.quill.focus()}}function z(D,$){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(!(D.index>=this.quill.getLength()-J)){var Q={},rt=0,ft=this.quill.getLine(D.index),ht=x(ft,1),pt=ht[0];if($.offset>=pt.length()-1){var Ot=this.quill.getLine(D.index+1),Tt=x(Ot,1),Dt=Tt[0];if(Dt){var St=pt.formats(),nt=this.quill.getFormat(D.index,1);Q=u.default.attributes.diff(St,nt)||{},rt=Dt.length()}}this.quill.deleteText(D.index,J,g.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(D.index+rt-1,J,Q,g.default.sources.USER)}}function M(D){var $=this.quill.getLines(D),J={};if($.length>1){var Q=$[0].formats(),rt=$[$.length-1].formats();J=u.default.attributes.diff(rt,Q)||{}}this.quill.deleteText(D,g.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(D.index,1,J,g.default.sources.USER),this.quill.setSelection(D.index,g.default.sources.SILENT),this.quill.focus()}function Z(D,$){var J=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var Q=Object.keys($.format).reduce(function(rt,ft){return _.default.query(ft,_.default.Scope.BLOCK)&&!Array.isArray($.format[ft])&&(rt[ft]=$.format[ft]),rt},{});this.quill.insertText(D.index,`
`,Q,g.default.sources.USER),this.quill.setSelection(D.index+1,g.default.sources.SILENT),this.quill.focus(),Object.keys($.format).forEach(function(rt){Q[rt]==null&&(Array.isArray($.format[rt])||rt!=="link"&&J.quill.format(rt,$.format[rt],g.default.sources.USER))})}function F(D){return{key:Y.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(J){var Q=_.default.query("code-block"),rt=J.index,ft=J.length,ht=this.quill.scroll.descendant(Q,rt),pt=x(ht,2),Ot=pt[0],Tt=pt[1];if(Ot!=null){var Dt=this.quill.getIndex(Ot),St=Ot.newlineIndex(Tt,!0)+1,nt=Ot.newlineIndex(Dt+Tt+ft),it=Ot.domNode.textContent.slice(St,nt).split(`
`);Tt=0,it.forEach(function(st,lt){D?(Ot.insertAt(St+Tt,Q.TAB),Tt+=Q.TAB.length,lt===0?rt+=Q.TAB.length:ft+=Q.TAB.length):st.startsWith(Q.TAB)&&(Ot.deleteAt(St+Tt,Q.TAB.length),Tt-=Q.TAB.length,lt===0?rt-=Q.TAB.length:ft-=Q.TAB.length),Tt+=st.length+1}),this.quill.update(g.default.sources.USER),this.quill.setSelection(rt,ft,g.default.sources.SILENT)}}}}function K(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(J,Q){this.quill.format(D,!Q.format[D],g.default.sources.USER)}}}function W(D){if(typeof D=="string"||typeof D=="number")return W({key:D});if((typeof D>"u"?"undefined":k(D))==="object"&&(D=(0,O.default)(D,!1)),typeof D.key=="string")if(Y.keys[D.key.toUpperCase()]!=null)D.key=Y.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[V]=D.shortKey,delete D.shortKey),D}f.default=Y,f.SHORTKEY=V},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function u(s,_){var a=[],g=!0,B=!1,N=void 0;try{for(var C=s[Symbol.iterator](),q;!(g=(q=C.next()).done)&&(a.push(q.value),!(_&&a.length===_));g=!0);}catch(A){B=!0,N=A}finally{try{!g&&C.return&&C.return()}finally{if(B)throw N}}return a}return function(s,_){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return u(s,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function u(s,_,a){s===null&&(s=Function.prototype);var g=Object.getOwnPropertyDescriptor(s,_);if(g===void 0){var B=Object.getPrototypeOf(s);return B===null?void 0:u(B,_,a)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(a)}},E=function(){function u(s,_){for(var a=0;a<_.length;a++){var g=_[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}return function(s,_,a){return _&&u(s.prototype,_),a&&u(s,a),s}}(),b=p(0),O=r(b),y=p(7),l=r(y);function r(u){return u&&u.__esModule?u:{default:u}}function o(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function m(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function c(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var d=function(u){c(s,u),E(s,null,[{key:"value",value:function(){}}]);function s(_,a){o(this,s);var g=m(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,_));return g.selection=a,g.textNode=document.createTextNode(s.CONTENTS),g.domNode.appendChild(g.textNode),g._length=0,g}return E(s,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(a,g){if(this._length!==0)return x(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,a,g);for(var B=this,N=0;B!=null&&B.statics.scope!==O.default.Scope.BLOCK_BLOT;)N+=B.offset(B.parent),B=B.parent;B!=null&&(this._length=s.CONTENTS.length,B.optimize(),B.formatAt(N,s.CONTENTS.length,a,g),this._length=0)}},{key:"index",value:function(a,g){return a===this.textNode?0:x(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"index",this).call(this,a,g)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){x(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var a=this.textNode,g=this.selection.getNativeRange(),B=void 0,N=void 0,C=void 0;if(g!=null&&g.start.node===a&&g.end.node===a){var q=[a,g.start.offset,g.end.offset];B=q[0],N=q[1],C=q[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==s.CONTENTS){var A=this.textNode.data.split(s.CONTENTS).join("");this.next instanceof l.default?(B=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=s.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(O.default.create(this.textNode),this),this.textNode=document.createTextNode(s.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var w=[N,C].map(function(R){return Math.max(0,Math.min(B.data.length,R-1))}),T=k(w,2);return N=T[0],C=T[1],{startNode:B,startOffset:N,endNode:B,endOffset:C}}}}},{key:"update",value:function(a,g){var B=this;if(a.some(function(C){return C.type==="characterData"&&C.target===B.textNode})){var N=this.restore();N&&(g.range=N)}}},{key:"value",value:function(){return""}}]),s}(O.default.Embed);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\uFEFF",f.default=d},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(0),x=O(k),E=p(4),b=O(E);function O(m){return m&&m.__esModule?m:{default:m}}function y(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function l(m,c){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:m}function r(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(m,c):m.__proto__=c)}var o=function(m){r(c,m);function c(){return y(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return c}(x.default.Container);o.allowedChildren=[b.default,E.BlockEmbed,o],f.default=o},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.ColorStyle=f.ColorClass=f.ColorAttributor=void 0;var k=function(){function d(u,s){for(var _=0;_<s.length;_++){var a=s[_];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,_){return s&&d(u.prototype,s),_&&d(u,_),u}}(),x=function d(u,s,_){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:d(g,s,_)}else{if("value"in a)return a.value;var B=a.get;return B===void 0?void 0:B.call(_)}},E=p(0),b=O(E);function O(d){return d&&d.__esModule?d:{default:d}}function y(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function l(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function r(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var o=function(d){r(u,d);function u(){return y(this,u),l(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return k(u,[{key:"value",value:function(_){var a=x(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"value",this).call(this,_);return a.startsWith("rgb(")?(a=a.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+a.split(",").map(function(g){return("00"+parseInt(g).toString(16)).slice(-2)}).join("")):a}}]),u}(b.default.Attributor.Style),m=new b.default.Attributor.Class("color","ql-color",{scope:b.default.Scope.INLINE}),c=new o("color","color",{scope:b.default.Scope.INLINE});f.ColorAttributor=o,f.ColorClass=m,f.ColorStyle=c},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.sanitize=f.default=void 0;var k=function(){function c(d,u){for(var s=0;s<u.length;s++){var _=u[s];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}return function(d,u,s){return u&&c(d.prototype,u),s&&c(d,s),d}}(),x=function c(d,u,s){d===null&&(d=Function.prototype);var _=Object.getOwnPropertyDescriptor(d,u);if(_===void 0){var a=Object.getPrototypeOf(d);return a===null?void 0:c(a,u,s)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(s)}},E=p(6),b=O(E);function O(c){return c&&c.__esModule?c:{default:c}}function y(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function l(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function r(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var o=function(c){r(d,c);function d(){return y(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return k(d,[{key:"format",value:function(s,_){if(s!==this.statics.blotName||!_)return x(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,s,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(s){var _=x(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,s);return s=this.sanitize(s),_.setAttribute("href",s),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(s){return s.getAttribute("href")}},{key:"sanitize",value:function(s){return m(s,this.PROTOCOL_WHITELIST)?s:this.SANITIZED_URL}}]),d}(b.default);o.blotName="link",o.tagName="A",o.SANITIZED_URL="about:blank",o.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(c,d){var u=document.createElement("a");u.href=c;var s=u.href.slice(0,u.href.indexOf(":"));return d.indexOf(s)>-1}f.default=o,f.sanitize=m},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},x=function(){function d(u,s){for(var _=0;_<s.length;_++){var a=s[_];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,_){return s&&d(u.prototype,s),_&&d(u,_),u}}(),E=p(23),b=l(E),O=p(107),y=l(O);function l(d){return d&&d.__esModule?d:{default:d}}function r(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}var o=0;function m(d,u){d.setAttribute(u,d.getAttribute(u)!=="true")}var c=function(){function d(u){var s=this;r(this,d),this.select=u,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){s.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case b.default.keys.ENTER:s.togglePicker();break;case b.default.keys.ESCAPE:s.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return x(d,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(s){var _=this,a=document.createElement("span");return a.tabIndex="0",a.setAttribute("role","button"),a.classList.add("ql-picker-item"),s.hasAttribute("value")&&a.setAttribute("data-value",s.getAttribute("value")),s.textContent&&a.setAttribute("data-label",s.textContent),a.addEventListener("click",function(){_.selectItem(a,!0)}),a.addEventListener("keydown",function(g){switch(g.keyCode){case b.default.keys.ENTER:_.selectItem(a,!0),g.preventDefault();break;case b.default.keys.ESCAPE:_.escape(),g.preventDefault();break}}),a}},{key:"buildLabel",value:function(){var s=document.createElement("span");return s.classList.add("ql-picker-label"),s.innerHTML=y.default,s.tabIndex="0",s.setAttribute("role","button"),s.setAttribute("aria-expanded","false"),this.container.appendChild(s),s}},{key:"buildOptions",value:function(){var s=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+o,o+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(a){var g=s.buildItem(a);_.appendChild(g),a.selected===!0&&s.selectItem(g)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var s=this;[].slice.call(this.select.attributes).forEach(function(_){s.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var s=this;this.close(),setTimeout(function(){return s.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.container.querySelector(".ql-selected");if(s!==a&&(a!=null&&a.classList.remove("ql-selected"),s!=null&&(s.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(s.parentNode.children,s),s.hasAttribute("data-value")?this.label.setAttribute("data-value",s.getAttribute("data-value")):this.label.removeAttribute("data-value"),s.hasAttribute("data-label")?this.label.setAttribute("data-label",s.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":k(Event))==="object"){var g=document.createEvent("Event");g.initEvent("change",!0,!0),this.select.dispatchEvent(g)}this.close()}}},{key:"update",value:function(){var s=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];s=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var a=s!=null&&s!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",a)}}]),d}();f.default=c},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(0),x=H(k),E=p(5),b=H(E),O=p(4),y=H(O),l=p(16),r=H(l),o=p(25),m=H(o),c=p(24),d=H(c),u=p(35),s=H(u),_=p(6),a=H(_),g=p(22),B=H(g),N=p(7),C=H(N),q=p(55),A=H(q),w=p(42),T=H(w),R=p(23),j=H(R);function H(V){return V&&V.__esModule?V:{default:V}}b.default.register({"blots/block":y.default,"blots/block/embed":O.BlockEmbed,"blots/break":r.default,"blots/container":m.default,"blots/cursor":d.default,"blots/embed":s.default,"blots/inline":a.default,"blots/scroll":B.default,"blots/text":C.default,"modules/clipboard":A.default,"modules/history":T.default,"modules/keyboard":j.default}),x.default.register(y.default,r.default,d.default,a.default,B.default,C.default),f.default=b.default},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(1),x=function(){function E(b){this.domNode=b,this.domNode[k.DATA_KEY]={blot:this}}return Object.defineProperty(E.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),E.create=function(b){if(this.tagName==null)throw new k.ParchmentError("Blot definition missing tagName");var O;return Array.isArray(this.tagName)?(typeof b=="string"&&(b=b.toUpperCase(),parseInt(b).toString()===b&&(b=parseInt(b))),typeof b=="number"?O=document.createElement(this.tagName[b-1]):this.tagName.indexOf(b)>-1?O=document.createElement(b):O=document.createElement(this.tagName[0])):O=document.createElement(this.tagName),this.className&&O.classList.add(this.className),O},E.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},E.prototype.clone=function(){var b=this.domNode.cloneNode(!1);return k.create(b)},E.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[k.DATA_KEY]},E.prototype.deleteAt=function(b,O){var y=this.isolate(b,O);y.remove()},E.prototype.formatAt=function(b,O,y,l){var r=this.isolate(b,O);if(k.query(y,k.Scope.BLOT)!=null&&l)r.wrap(y,l);else if(k.query(y,k.Scope.ATTRIBUTE)!=null){var o=k.create(this.statics.scope);r.wrap(o),o.format(y,l)}},E.prototype.insertAt=function(b,O,y){var l=y==null?k.create("text",O):k.create(O,y),r=this.split(b);this.parent.insertBefore(l,r)},E.prototype.insertInto=function(b,O){O===void 0&&(O=null),this.parent!=null&&this.parent.children.remove(this);var y=null;b.children.insertBefore(this,O),O!=null&&(y=O.domNode),(this.domNode.parentNode!=b.domNode||this.domNode.nextSibling!=y)&&b.domNode.insertBefore(this.domNode,y),this.parent=b,this.attach()},E.prototype.isolate=function(b,O){var y=this.split(b);return y.split(O),y},E.prototype.length=function(){return 1},E.prototype.offset=function(b){return b===void 0&&(b=this.parent),this.parent==null||this==b?0:this.parent.children.offset(this)+this.parent.offset(b)},E.prototype.optimize=function(b){this.domNode[k.DATA_KEY]!=null&&delete this.domNode[k.DATA_KEY].mutations},E.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},E.prototype.replace=function(b){b.parent!=null&&(b.parent.insertBefore(this,b.next),b.remove())},E.prototype.replaceWith=function(b,O){var y=typeof b=="string"?k.create(b,O):b;return y.replace(this),y},E.prototype.split=function(b,O){return b===0?this:this.next},E.prototype.update=function(b,O){},E.prototype.wrap=function(b,O){var y=typeof b=="string"?k.create(b,O):b;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},E.blotName="abstract",E}();f.default=x},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(12),x=p(32),E=p(33),b=p(1),O=function(){function y(l){this.attributes={},this.domNode=l,this.build()}return y.prototype.attribute=function(l,r){r?l.add(this.domNode,r)&&(l.value(this.domNode)!=null?this.attributes[l.attrName]=l:delete this.attributes[l.attrName]):(l.remove(this.domNode),delete this.attributes[l.attrName])},y.prototype.build=function(){var l=this;this.attributes={};var r=k.default.keys(this.domNode),o=x.default.keys(this.domNode),m=E.default.keys(this.domNode);r.concat(o).concat(m).forEach(function(c){var d=b.query(c,b.Scope.ATTRIBUTE);d instanceof k.default&&(l.attributes[d.attrName]=d)})},y.prototype.copy=function(l){var r=this;Object.keys(this.attributes).forEach(function(o){var m=r.attributes[o].value(r.domNode);l.format(o,m)})},y.prototype.move=function(l){var r=this;this.copy(l),Object.keys(this.attributes).forEach(function(o){r.attributes[o].remove(r.domNode)}),this.attributes={}},y.prototype.values=function(){var l=this;return Object.keys(this.attributes).reduce(function(r,o){return r[o]=l.attributes[o].value(l.domNode),r},{})},y}();f.default=O},function(h,f,p){var k=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,l){y.__proto__=l}||function(y,l){for(var r in l)l.hasOwnProperty(r)&&(y[r]=l[r])};return function(y,l){O(y,l);function r(){this.constructor=y}y.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(12);function E(O,y){var l=O.getAttribute("class")||"";return l.split(/\s+/).filter(function(r){return r.indexOf(y+"-")===0})}var b=function(O){k(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.keys=function(l){return(l.getAttribute("class")||"").split(/\s+/).map(function(r){return r.split("-").slice(0,-1).join("-")})},y.prototype.add=function(l,r){return this.canAdd(l,r)?(this.remove(l),l.classList.add(this.keyName+"-"+r),!0):!1},y.prototype.remove=function(l){var r=E(l,this.keyName);r.forEach(function(o){l.classList.remove(o)}),l.classList.length===0&&l.removeAttribute("class")},y.prototype.value=function(l){var r=E(l,this.keyName)[0]||"",o=r.slice(this.keyName.length+1);return this.canAdd(l,o)?o:""},y}(x.default);f.default=b},function(h,f,p){var k=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,l){y.__proto__=l}||function(y,l){for(var r in l)l.hasOwnProperty(r)&&(y[r]=l[r])};return function(y,l){O(y,l);function r(){this.constructor=y}y.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(12);function E(O){var y=O.split("-"),l=y.slice(1).map(function(r){return r[0].toUpperCase()+r.slice(1)}).join("");return y[0]+l}var b=function(O){k(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.keys=function(l){return(l.getAttribute("style")||"").split(";").map(function(r){var o=r.split(":");return o[0].trim()})},y.prototype.add=function(l,r){return this.canAdd(l,r)?(l.style[E(this.keyName)]=r,!0):!1},y.prototype.remove=function(l){l.style[E(this.keyName)]="",l.getAttribute("style")||l.removeAttribute("style")},y.prototype.value=function(l){var r=l.style[E(this.keyName)];return this.canAdd(l,r)?r:""},y}(x.default);f.default=b},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function b(O,y){for(var l=0;l<y.length;l++){var r=y[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(O,r.key,r)}}return function(O,y,l){return y&&b(O.prototype,y),l&&b(O,l),O}}();function x(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}var E=function(){function b(O,y){x(this,b),this.quill=O,this.options=y,this.modules={}}return k(b,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(l){y.modules[l]==null&&y.addModule(l)})}},{key:"addModule",value:function(y){var l=this.quill.constructor.import("modules/"+y);return this.modules[y]=new l(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),b}();E.DEFAULTS={modules:{}},E.themes={default:E},f.default=E},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function u(s,_){for(var a=0;a<_.length;a++){var g=_[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}return function(s,_,a){return _&&u(s.prototype,_),a&&u(s,a),s}}(),x=function u(s,_,a){s===null&&(s=Function.prototype);var g=Object.getOwnPropertyDescriptor(s,_);if(g===void 0){var B=Object.getPrototypeOf(s);return B===null?void 0:u(B,_,a)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(a)}},E=p(0),b=l(E),O=p(7),y=l(O);function l(u){return u&&u.__esModule?u:{default:u}}function r(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function m(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var c="\uFEFF",d=function(u){m(s,u);function s(_){r(this,s);var a=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,_));return a.contentNode=document.createElement("span"),a.contentNode.setAttribute("contenteditable",!1),[].slice.call(a.domNode.childNodes).forEach(function(g){a.contentNode.appendChild(g)}),a.leftGuard=document.createTextNode(c),a.rightGuard=document.createTextNode(c),a.domNode.appendChild(a.leftGuard),a.domNode.appendChild(a.contentNode),a.domNode.appendChild(a.rightGuard),a}return k(s,[{key:"index",value:function(a,g){return a===this.leftGuard?0:a===this.rightGuard?1:x(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"index",this).call(this,a,g)}},{key:"restore",value:function(a){var g=void 0,B=void 0,N=a.data.split(c).join("");if(a===this.leftGuard)if(this.prev instanceof y.default){var C=this.prev.length();this.prev.insertAt(C,N),g={startNode:this.prev.domNode,startOffset:C+N.length}}else B=document.createTextNode(N),this.parent.insertBefore(b.default.create(B),this),g={startNode:B,startOffset:N.length};else a===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,N),g={startNode:this.next.domNode,startOffset:N.length}):(B=document.createTextNode(N),this.parent.insertBefore(b.default.create(B),this.next),g={startNode:B,startOffset:N.length}));return a.data=c,g}},{key:"update",value:function(a,g){var B=this;a.forEach(function(N){if(N.type==="characterData"&&(N.target===B.leftGuard||N.target===B.rightGuard)){var C=B.restore(N.target);C&&(g.range=C)}})}}]),s}(b.default.Embed);f.default=d},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.AlignStyle=f.AlignClass=f.AlignAttribute=void 0;var k=p(0),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}var b={scope:x.default.Scope.BLOCK,whitelist:["right","center","justify"]},O=new x.default.Attributor.Attribute("align","align",b),y=new x.default.Attributor.Class("align","ql-align",b),l=new x.default.Attributor.Style("align","text-align",b);f.AlignAttribute=O,f.AlignClass=y,f.AlignStyle=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.BackgroundStyle=f.BackgroundClass=void 0;var k=p(0),x=b(k),E=p(26);function b(l){return l&&l.__esModule?l:{default:l}}var O=new x.default.Attributor.Class("background","ql-bg",{scope:x.default.Scope.INLINE}),y=new E.ColorAttributor("background","background-color",{scope:x.default.Scope.INLINE});f.BackgroundClass=O,f.BackgroundStyle=y},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.DirectionStyle=f.DirectionClass=f.DirectionAttribute=void 0;var k=p(0),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}var b={scope:x.default.Scope.BLOCK,whitelist:["rtl"]},O=new x.default.Attributor.Attribute("direction","dir",b),y=new x.default.Attributor.Class("direction","ql-direction",b),l=new x.default.Attributor.Style("direction","direction",b);f.DirectionAttribute=O,f.DirectionClass=y,f.DirectionStyle=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.FontClass=f.FontStyle=void 0;var k=function(){function u(s,_){for(var a=0;a<_.length;a++){var g=_[a];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}return function(s,_,a){return _&&u(s.prototype,_),a&&u(s,a),s}}(),x=function u(s,_,a){s===null&&(s=Function.prototype);var g=Object.getOwnPropertyDescriptor(s,_);if(g===void 0){var B=Object.getPrototypeOf(s);return B===null?void 0:u(B,_,a)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(a)}},E=p(0),b=O(E);function O(u){return u&&u.__esModule?u:{default:u}}function y(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function l(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function r(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var o={scope:b.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new b.default.Attributor.Class("font","ql-font",o),c=function(u){r(s,u);function s(){return y(this,s),l(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return k(s,[{key:"value",value:function(a){return x(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,a).replace(/["']/g,"")}}]),s}(b.default.Attributor.Style),d=new c("font","font-family",o);f.FontStyle=d,f.FontClass=m},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.SizeStyle=f.SizeClass=void 0;var k=p(0),x=E(k);function E(y){return y&&y.__esModule?y:{default:y}}var b=new x.default.Attributor.Class("size","ql-size",{scope:x.default.Scope.INLINE,whitelist:["small","large","huge"]}),O=new x.default.Attributor.Style("size","font-size",{scope:x.default.Scope.INLINE,whitelist:["10px","18px","32px"]});f.SizeClass=b,f.SizeStyle=O},function(h,f,p){h.exports={align:{"":p(76),center:p(77),right:p(78),justify:p(79)},background:p(80),blockquote:p(81),bold:p(82),clean:p(83),code:p(58),"code-block":p(58),color:p(84),direction:{"":p(85),rtl:p(86)},float:{center:p(87),full:p(88),left:p(89),right:p(90)},formula:p(91),header:{1:p(92),2:p(93)},italic:p(94),image:p(95),indent:{"+1":p(96),"-1":p(97)},link:p(98),list:{ordered:p(99),bullet:p(100),check:p(101)},script:{sub:p(102),super:p(103)},strike:p(104),underline:p(105),video:p(106)}},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.getLastChangeIndex=f.default=void 0;var k=function(){function _(a,g){for(var B=0;B<g.length;B++){var N=g[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(a,N.key,N)}}return function(a,g,B){return g&&_(a.prototype,g),B&&_(a,B),a}}(),x=p(0),E=r(x),b=p(5),O=r(b),y=p(9),l=r(y);function r(_){return _&&_.__esModule?_:{default:_}}function o(_,a){if(!(_ instanceof a))throw new TypeError("Cannot call a class as a function")}function m(_,a){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:_}function c(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);_.prototype=Object.create(a&&a.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(_,a):_.__proto__=a)}var d=function(_){c(a,_);function a(g,B){o(this,a);var N=m(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,g,B));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(O.default.events.EDITOR_CHANGE,function(C,q,A,w){C!==O.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||w===O.default.sources.USER?N.record(q,A):N.transform(q))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return k(a,[{key:"change",value:function(B,N){if(this.stack[B].length!==0){var C=this.stack[B].pop();this.stack[N].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[B],O.default.sources.USER),this.ignoreChange=!1;var q=s(C[B]);this.quill.setSelection(q)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(B,N){if(B.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(N),q=Date.now();if(this.lastRecorded+this.options.delay>q&&this.stack.undo.length>0){var A=this.stack.undo.pop();C=C.compose(A.undo),B=A.redo.compose(B)}else this.lastRecorded=q;this.stack.undo.push({redo:B,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(B){this.stack.undo.forEach(function(N){N.undo=B.transform(N.undo,!0),N.redo=B.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=B.transform(N.undo,!0),N.redo=B.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),a}(l.default);d.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function u(_){var a=_.ops[_.ops.length-1];return a==null?!1:a.insert!=null?typeof a.insert=="string"&&a.insert.endsWith(`
`):a.attributes!=null?Object.keys(a.attributes).some(function(g){return E.default.query(g,E.default.Scope.BLOCK)!=null}):!1}function s(_){var a=_.reduce(function(B,N){return B+=N.delete||0,B},0),g=_.length()-a;return u(_)&&(g-=1),g}f.default=d,f.getLastChangeIndex=s},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BaseTooltip=void 0;var k=function(){function Z(F,K){for(var W=0;W<K.length;W++){var D=K[W];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(F,D.key,D)}}return function(F,K,W){return K&&Z(F.prototype,K),W&&Z(F,W),F}}(),x=function Z(F,K,W){F===null&&(F=Function.prototype);var D=Object.getOwnPropertyDescriptor(F,K);if(D===void 0){var $=Object.getPrototypeOf(F);return $===null?void 0:Z($,K,W)}else{if("value"in D)return D.value;var J=D.get;return J===void 0?void 0:J.call(W)}},E=p(3),b=q(E),O=p(2),y=q(O),l=p(8),r=q(l),o=p(23),m=q(o),c=p(34),d=q(c),u=p(59),s=q(u),_=p(60),a=q(_),g=p(28),B=q(g),N=p(61),C=q(N);function q(Z){return Z&&Z.__esModule?Z:{default:Z}}function A(Z,F){if(!(Z instanceof F))throw new TypeError("Cannot call a class as a function")}function w(Z,F){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:Z}function T(Z,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);Z.prototype=Object.create(F&&F.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,F):Z.__proto__=F)}var R=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],V=["1","2","3",!1],Y=["small",!1,"large","huge"],et=function(Z){T(F,Z);function F(K,W){A(this,F);var D=w(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,K,W)),$=function J(Q){if(!document.body.contains(K.root))return document.body.removeEventListener("click",J);D.tooltip!=null&&!D.tooltip.root.contains(Q.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(rt){rt.container.contains(Q.target)||rt.close()})};return K.emitter.listenDOM("click",document.body,$),D}return k(F,[{key:"addModule",value:function(W){var D=x(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(W,D){W.forEach(function($){var J=$.getAttribute("class")||"";J.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),D[Q]!=null))if(Q==="direction")$.innerHTML=D[Q][""]+D[Q].rtl;else if(typeof D[Q]=="string")$.innerHTML=D[Q];else{var rt=$.value||"";rt!=null&&D[Q][rt]&&($.innerHTML=D[Q][rt])}})})}},{key:"buildPickers",value:function(W,D){var $=this;this.pickers=W.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&M(Q,R),new a.default(Q,D.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var rt=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&M(Q,j,rt==="background"?"#ffffff":"#000000"),new s.default(Q,D[rt])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?M(Q,H):Q.classList.contains("ql-header")?M(Q,V):Q.classList.contains("ql-size")&&M(Q,Y)),new B.default(Q)});var J=function(){$.pickers.forEach(function(rt){rt.update()})};this.quill.on(r.default.events.EDITOR_CHANGE,J)}}]),F}(d.default);et.DEFAULTS=(0,b.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var W=new FileReader;W.onload=function(D){var $=F.quill.getSelection(!0);F.quill.updateContents(new y.default().retain($.index).delete($.length).insert({image:D.target.result}),r.default.sources.USER),F.quill.setSelection($.index+1,r.default.sources.SILENT),K.value=""},W.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var G=function(Z){T(F,Z);function F(K,W){A(this,F);var D=w(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,K,W));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return k(F,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(D){m.default.match(D,"enter")?(W.save(),D.preventDefault()):m.default.match(D,"escape")&&(W.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,r.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,r.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":W=z(W);case"formula":{if(!W)break;var $=this.quill.getSelection(!0);if($!=null){var J=$.index+$.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),W,r.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",r.default.sources.USER),this.quill.setSelection(J+2,r.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(C.default);function z(Z){var F=Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=Z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":Z}function M(Z,F){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(W){var D=document.createElement("option");W===K?D.setAttribute("selected","selected"):D.setAttribute("value",W),Z.appendChild(D)})}f.BaseTooltip=G,f.default=et},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function x(){this.head=this.tail=null,this.length=0}return x.prototype.append=function(){for(var E=[],b=0;b<arguments.length;b++)E[b]=arguments[b];this.insertBefore(E[0],null),E.length>1&&this.append.apply(this,E.slice(1))},x.prototype.contains=function(E){for(var b,O=this.iterator();b=O();)if(b===E)return!0;return!1},x.prototype.insertBefore=function(E,b){E&&(E.next=b,b!=null?(E.prev=b.prev,b.prev!=null&&(b.prev.next=E),b.prev=E,b===this.head&&(this.head=E)):this.tail!=null?(this.tail.next=E,E.prev=this.tail,this.tail=E):(E.prev=null,this.head=this.tail=E),this.length+=1)},x.prototype.offset=function(E){for(var b=0,O=this.head;O!=null;){if(O===E)return b;b+=O.length(),O=O.next}return-1},x.prototype.remove=function(E){this.contains(E)&&(E.prev!=null&&(E.prev.next=E.next),E.next!=null&&(E.next.prev=E.prev),E===this.head&&(this.head=E.next),E===this.tail&&(this.tail=E.prev),this.length-=1)},x.prototype.iterator=function(E){return E===void 0&&(E=this.head),function(){var b=E;return E!=null&&(E=E.next),b}},x.prototype.find=function(E,b){b===void 0&&(b=!1);for(var O,y=this.iterator();O=y();){var l=O.length();if(E<l||b&&E===l&&(O.next==null||O.next.length()!==0))return[O,E];E-=l}return[null,0]},x.prototype.forEach=function(E){for(var b,O=this.iterator();b=O();)E(b)},x.prototype.forEachAt=function(E,b,O){if(!(b<=0))for(var y=this.find(E),l=y[0],r=y[1],o,m=E-r,c=this.iterator(l);(o=c())&&m<E+b;){var d=o.length();E>m?O(o,E-m,Math.min(b,m+d-E)):O(o,0,Math.min(d,E+b-m)),m+=d}},x.prototype.map=function(E){return this.reduce(function(b,O){return b.push(E(O)),b},[])},x.prototype.reduce=function(E,b){for(var O,y=this.iterator();O=y();)b=E(b,O);return b},x}();f.default=k},function(h,f,p){var k=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var m in o)o.hasOwnProperty(m)&&(r[m]=o[m])};return function(r,o){l(r,o);function m(){this.constructor=r}r.prototype=o===null?Object.create(o):(m.prototype=o.prototype,new m)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(17),E=p(1),b={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},O=100,y=function(l){k(r,l);function r(o){var m=l.call(this,o)||this;return m.scroll=m,m.observer=new MutationObserver(function(c){m.update(c)}),m.observer.observe(m.domNode,b),m.attach(),m}return r.prototype.detach=function(){l.prototype.detach.call(this),this.observer.disconnect()},r.prototype.deleteAt=function(o,m){this.update(),o===0&&m===this.length()?this.children.forEach(function(c){c.remove()}):l.prototype.deleteAt.call(this,o,m)},r.prototype.formatAt=function(o,m,c,d){this.update(),l.prototype.formatAt.call(this,o,m,c,d)},r.prototype.insertAt=function(o,m,c){this.update(),l.prototype.insertAt.call(this,o,m,c)},r.prototype.optimize=function(o,m){var c=this;o===void 0&&(o=[]),m===void 0&&(m={}),l.prototype.optimize.call(this,m);for(var d=[].slice.call(this.observer.takeRecords());d.length>0;)o.push(d.pop());for(var u=function(g,B){B===void 0&&(B=!0),!(g==null||g===c)&&g.domNode.parentNode!=null&&(g.domNode[E.DATA_KEY].mutations==null&&(g.domNode[E.DATA_KEY].mutations=[]),B&&u(g.parent))},s=function(g){g.domNode[E.DATA_KEY]==null||g.domNode[E.DATA_KEY].mutations==null||(g instanceof x.default&&g.children.forEach(s),g.optimize(m))},_=o,a=0;_.length>0;a+=1){if(a>=O)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(g){var B=E.find(g.target,!0);B!=null&&(B.domNode===g.target&&(g.type==="childList"?(u(E.find(g.previousSibling,!1)),[].forEach.call(g.addedNodes,function(N){var C=E.find(N,!1);u(C,!1),C instanceof x.default&&C.children.forEach(function(q){u(q,!1)})})):g.type==="attributes"&&u(B.prev)),u(B))}),this.children.forEach(s),_=[].slice.call(this.observer.takeRecords()),d=_.slice();d.length>0;)o.push(d.pop())}},r.prototype.update=function(o,m){var c=this;m===void 0&&(m={}),o=o||this.observer.takeRecords(),o.map(function(d){var u=E.find(d.target,!0);return u==null?null:u.domNode[E.DATA_KEY].mutations==null?(u.domNode[E.DATA_KEY].mutations=[d],u):(u.domNode[E.DATA_KEY].mutations.push(d),null)}).forEach(function(d){d==null||d===c||d.domNode[E.DATA_KEY]==null||d.update(d.domNode[E.DATA_KEY].mutations||[],m)}),this.domNode[E.DATA_KEY].mutations!=null&&l.prototype.update.call(this,this.domNode[E.DATA_KEY].mutations,m),this.optimize(o,m)},r.blotName="scroll",r.defaultChild="block",r.scope=E.Scope.BLOCK_BLOT,r.tagName="DIV",r}(x.default);f.default=y},function(h,f,p){var k=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var o in r)r.hasOwnProperty(o)&&(l[o]=r[o])};return function(l,r){y(l,r);function o(){this.constructor=l}l.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(18),E=p(1);function b(y,l){if(Object.keys(y).length!==Object.keys(l).length)return!1;for(var r in y)if(y[r]!==l[r])return!1;return!0}var O=function(y){k(l,y);function l(){return y!==null&&y.apply(this,arguments)||this}return l.formats=function(r){if(r.tagName!==l.tagName)return y.formats.call(this,r)},l.prototype.format=function(r,o){var m=this;r===this.statics.blotName&&!o?(this.children.forEach(function(c){c instanceof x.default||(c=c.wrap(l.blotName,!0)),m.attributes.copy(c)}),this.unwrap()):y.prototype.format.call(this,r,o)},l.prototype.formatAt=function(r,o,m,c){if(this.formats()[m]!=null||E.query(m,E.Scope.ATTRIBUTE)){var d=this.isolate(r,o);d.format(m,c)}else y.prototype.formatAt.call(this,r,o,m,c)},l.prototype.optimize=function(r){y.prototype.optimize.call(this,r);var o=this.formats();if(Object.keys(o).length===0)return this.unwrap();var m=this.next;m instanceof l&&m.prev===this&&b(o,m.formats())&&(m.moveChildren(this),m.remove())},l.blotName="inline",l.scope=E.Scope.INLINE_BLOT,l.tagName="SPAN",l}(x.default);f.default=O},function(h,f,p){var k=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,l){y.__proto__=l}||function(y,l){for(var r in l)l.hasOwnProperty(r)&&(y[r]=l[r])};return function(y,l){O(y,l);function r(){this.constructor=y}y.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(18),E=p(1),b=function(O){k(y,O);function y(){return O!==null&&O.apply(this,arguments)||this}return y.formats=function(l){var r=E.query(y.blotName).tagName;if(l.tagName!==r)return O.formats.call(this,l)},y.prototype.format=function(l,r){E.query(l,E.Scope.BLOCK)!=null&&(l===this.statics.blotName&&!r?this.replaceWith(y.blotName):O.prototype.format.call(this,l,r))},y.prototype.formatAt=function(l,r,o,m){E.query(o,E.Scope.BLOCK)!=null?this.format(o,m):O.prototype.formatAt.call(this,l,r,o,m)},y.prototype.insertAt=function(l,r,o){if(o==null||E.query(r,E.Scope.INLINE)!=null)O.prototype.insertAt.call(this,l,r,o);else{var m=this.split(l),c=E.create(r,o);m.parent.insertBefore(c,m)}},y.prototype.update=function(l,r){navigator.userAgent.match(/Trident/)?this.build():O.prototype.update.call(this,l,r)},y.blotName="block",y.scope=E.Scope.BLOCK_BLOT,y.tagName="P",y}(x.default);f.default=b},function(h,f,p){var k=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,y){O.__proto__=y}||function(O,y){for(var l in y)y.hasOwnProperty(l)&&(O[l]=y[l])};return function(O,y){b(O,y);function l(){this.constructor=O}O.prototype=y===null?Object.create(y):(l.prototype=y.prototype,new l)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(19),E=function(b){k(O,b);function O(){return b!==null&&b.apply(this,arguments)||this}return O.formats=function(y){},O.prototype.format=function(y,l){b.prototype.formatAt.call(this,0,this.length(),y,l)},O.prototype.formatAt=function(y,l,r,o){y===0&&l===this.length()?this.format(r,o):b.prototype.formatAt.call(this,y,l,r,o)},O.prototype.formats=function(){return this.statics.formats(this.domNode)},O}(x.default);f.default=E},function(h,f,p){var k=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,l){y.__proto__=l}||function(y,l){for(var r in l)l.hasOwnProperty(r)&&(y[r]=l[r])};return function(y,l){O(y,l);function r(){this.constructor=y}y.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}}();Object.defineProperty(f,"__esModule",{value:!0});var x=p(19),E=p(1),b=function(O){k(y,O);function y(l){var r=O.call(this,l)||this;return r.text=r.statics.value(r.domNode),r}return y.create=function(l){return document.createTextNode(l)},y.value=function(l){var r=l.data;return r.normalize&&(r=r.normalize()),r},y.prototype.deleteAt=function(l,r){this.domNode.data=this.text=this.text.slice(0,l)+this.text.slice(l+r)},y.prototype.index=function(l,r){return this.domNode===l?r:-1},y.prototype.insertAt=function(l,r,o){o==null?(this.text=this.text.slice(0,l)+r+this.text.slice(l),this.domNode.data=this.text):O.prototype.insertAt.call(this,l,r,o)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(l){O.prototype.optimize.call(this,l),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(l,r){return[this.domNode,l]},y.prototype.split=function(l,r){if(r===void 0&&(r=!1),!r){if(l===0)return this;if(l===this.length())return this.next}var o=E.create(this.domNode.splitText(l));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},y.prototype.update=function(l,r){var o=this;l.some(function(m){return m.type==="characterData"&&m.target===o.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=E.Scope.INLINE_BLOT,y}(x.default);f.default=b},function(h,f,p){var k=document.createElement("div");if(k.classList.toggle("test-class",!1),k.classList.contains("test-class")){var x=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(E,b){return arguments.length>1&&!this.contains(E)==!b?b:x.call(this,E)}}String.prototype.startsWith||(String.prototype.startsWith=function(E,b){return b=b||0,this.substr(b,E.length)===E}),String.prototype.endsWith||(String.prototype.endsWith=function(E,b){var O=this.toString();(typeof b!="number"||!isFinite(b)||Math.floor(b)!==b||b>O.length)&&(b=O.length),b-=E.length;var y=O.indexOf(E,b);return y!==-1&&y===b}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof b!="function")throw new TypeError("predicate must be a function");for(var O=Object(this),y=O.length>>>0,l=arguments[1],r,o=0;o<y;o++)if(r=O[o],b.call(l,r,o,O))return r}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(h,f){var p=-1,k=1,x=0;function E(a,g,B){if(a==g)return a?[[x,a]]:[];(B<0||a.length<B)&&(B=null);var N=l(a,g),C=a.substring(0,N);a=a.substring(N),g=g.substring(N),N=r(a,g);var q=a.substring(a.length-N);a=a.substring(0,a.length-N),g=g.substring(0,g.length-N);var A=b(a,g);return C&&A.unshift([x,C]),q&&A.push([x,q]),m(A),B!=null&&(A=u(A,B)),A=s(A),A}function b(a,g){var B;if(!a)return[[k,g]];if(!g)return[[p,a]];var N=a.length>g.length?a:g,C=a.length>g.length?g:a,q=N.indexOf(C);if(q!=-1)return B=[[k,N.substring(0,q)],[x,C],[k,N.substring(q+C.length)]],a.length>g.length&&(B[0][0]=B[2][0]=p),B;if(C.length==1)return[[p,a],[k,g]];var A=o(a,g);if(A){var w=A[0],T=A[1],R=A[2],j=A[3],H=A[4],V=E(w,R),Y=E(T,j);return V.concat([[x,H]],Y)}return O(a,g)}function O(a,g){for(var B=a.length,N=g.length,C=Math.ceil((B+N)/2),q=C,A=2*C,w=new Array(A),T=new Array(A),R=0;R<A;R++)w[R]=-1,T[R]=-1;w[q+1]=0,T[q+1]=0;for(var j=B-N,H=j%2!=0,V=0,Y=0,et=0,G=0,z=0;z<C;z++){for(var M=-z+V;M<=z-Y;M+=2){var Z=q+M,F;M==-z||M!=z&&w[Z-1]<w[Z+1]?F=w[Z+1]:F=w[Z-1]+1;for(var K=F-M;F<B&&K<N&&a.charAt(F)==g.charAt(K);)F++,K++;if(w[Z]=F,F>B)Y+=2;else if(K>N)V+=2;else if(H){var W=q+j-M;if(W>=0&&W<A&&T[W]!=-1){var D=B-T[W];if(F>=D)return y(a,g,F,K)}}}for(var $=-z+et;$<=z-G;$+=2){var W=q+$,D;$==-z||$!=z&&T[W-1]<T[W+1]?D=T[W+1]:D=T[W-1]+1;for(var J=D-$;D<B&&J<N&&a.charAt(B-D-1)==g.charAt(N-J-1);)D++,J++;if(T[W]=D,D>B)G+=2;else if(J>N)et+=2;else if(!H){var Z=q+j-$;if(Z>=0&&Z<A&&w[Z]!=-1){var F=w[Z],K=q+F-Z;if(D=B-D,F>=D)return y(a,g,F,K)}}}}return[[p,a],[k,g]]}function y(a,g,B,N){var C=a.substring(0,B),q=g.substring(0,N),A=a.substring(B),w=g.substring(N),T=E(C,q),R=E(A,w);return T.concat(R)}function l(a,g){if(!a||!g||a.charAt(0)!=g.charAt(0))return 0;for(var B=0,N=Math.min(a.length,g.length),C=N,q=0;B<C;)a.substring(q,C)==g.substring(q,C)?(B=C,q=B):N=C,C=Math.floor((N-B)/2+B);return C}function r(a,g){if(!a||!g||a.charAt(a.length-1)!=g.charAt(g.length-1))return 0;for(var B=0,N=Math.min(a.length,g.length),C=N,q=0;B<C;)a.substring(a.length-C,a.length-q)==g.substring(g.length-C,g.length-q)?(B=C,q=B):N=C,C=Math.floor((N-B)/2+B);return C}function o(a,g){var B=a.length>g.length?a:g,N=a.length>g.length?g:a;if(B.length<4||N.length*2<B.length)return null;function C(Y,et,G){for(var z=Y.substring(G,G+Math.floor(Y.length/4)),M=-1,Z="",F,K,W,D;(M=et.indexOf(z,M+1))!=-1;){var $=l(Y.substring(G),et.substring(M)),J=r(Y.substring(0,G),et.substring(0,M));Z.length<J+$&&(Z=et.substring(M-J,M)+et.substring(M,M+$),F=Y.substring(0,G-J),K=Y.substring(G+$),W=et.substring(0,M-J),D=et.substring(M+$))}return Z.length*2>=Y.length?[F,K,W,D,Z]:null}var q=C(B,N,Math.ceil(B.length/4)),A=C(B,N,Math.ceil(B.length/2)),w;if(!q&&!A)return null;A?q?w=q[4].length>A[4].length?q:A:w=A:w=q;var T,R,j,H;a.length>g.length?(T=w[0],R=w[1],j=w[2],H=w[3]):(j=w[0],H=w[1],T=w[2],R=w[3]);var V=w[4];return[T,R,j,H,V]}function m(a){a.push([x,""]);for(var g=0,B=0,N=0,C="",q="",A;g<a.length;)switch(a[g][0]){case k:N++,q+=a[g][1],g++;break;case p:B++,C+=a[g][1],g++;break;case x:B+N>1?(B!==0&&N!==0&&(A=l(q,C),A!==0&&(g-B-N>0&&a[g-B-N-1][0]==x?a[g-B-N-1][1]+=q.substring(0,A):(a.splice(0,0,[x,q.substring(0,A)]),g++),q=q.substring(A),C=C.substring(A)),A=r(q,C),A!==0&&(a[g][1]=q.substring(q.length-A)+a[g][1],q=q.substring(0,q.length-A),C=C.substring(0,C.length-A))),B===0?a.splice(g-N,B+N,[k,q]):N===0?a.splice(g-B,B+N,[p,C]):a.splice(g-B-N,B+N,[p,C],[k,q]),g=g-B-N+(B?1:0)+(N?1:0)+1):g!==0&&a[g-1][0]==x?(a[g-1][1]+=a[g][1],a.splice(g,1)):g++,N=0,B=0,C="",q="";break}a[a.length-1][1]===""&&a.pop();var w=!1;for(g=1;g<a.length-1;)a[g-1][0]==x&&a[g+1][0]==x&&(a[g][1].substring(a[g][1].length-a[g-1][1].length)==a[g-1][1]?(a[g][1]=a[g-1][1]+a[g][1].substring(0,a[g][1].length-a[g-1][1].length),a[g+1][1]=a[g-1][1]+a[g+1][1],a.splice(g-1,1),w=!0):a[g][1].substring(0,a[g+1][1].length)==a[g+1][1]&&(a[g-1][1]+=a[g+1][1],a[g][1]=a[g][1].substring(a[g+1][1].length)+a[g+1][1],a.splice(g+1,1),w=!0)),g++;w&&m(a)}var c=E;c.INSERT=k,c.DELETE=p,c.EQUAL=x,h.exports=c;function d(a,g){if(g===0)return[x,a];for(var B=0,N=0;N<a.length;N++){var C=a[N];if(C[0]===p||C[0]===x){var q=B+C[1].length;if(g===q)return[N+1,a];if(g<q){a=a.slice();var A=g-B,w=[C[0],C[1].slice(0,A)],T=[C[0],C[1].slice(A)];return a.splice(N,1,w,T),[N+1,a]}else B=q}}throw new Error("cursor_pos is out of bounds!")}function u(a,g){var B=d(a,g),N=B[1],C=B[0],q=N[C],A=N[C+1];if(q==null)return a;if(q[0]!==x)return a;if(A!=null&&q[1]+A[1]===A[1]+q[1])return N.splice(C,2,A,q),_(N,C,2);if(A!=null&&A[1].indexOf(q[1])===0){N.splice(C,2,[A[0],q[1]],[0,q[1]]);var w=A[1].slice(q[1].length);return w.length>0&&N.splice(C+2,0,[A[0],w]),_(N,C,3)}else return a}function s(a){for(var g=!1,B=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},N=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},C=2;C<a.length;C+=1)a[C-2][0]===x&&N(a[C-2][1])&&a[C-1][0]===p&&B(a[C-1][1])&&a[C][0]===k&&B(a[C][1])&&(g=!0,a[C-1][1]=a[C-2][1].slice(-1)+a[C-1][1],a[C][1]=a[C-2][1].slice(-1)+a[C][1],a[C-2][1]=a[C-2][1].slice(0,-1));if(!g)return a;for(var q=[],C=0;C<a.length;C+=1)a[C][1].length>0&&q.push(a[C]);return q}function _(a,g,B){for(var N=g+B-1;N>=0&&N>=g-1;N--)if(N+1<a.length){var C=a[N],q=a[N+1];C[0]===q[1]&&a.splice(N,2,[C[0],C[1]+q[1]])}return a}},function(h,f){f=h.exports=typeof Object.keys=="function"?Object.keys:p,f.shim=p;function p(k){var x=[];for(var E in k)x.push(E);return x}},function(h,f){var p=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";f=h.exports=p?k:x,f.supported=k;function k(E){return Object.prototype.toString.call(E)=="[object Arguments]"}f.unsupported=x;function x(E){return E&&typeof E=="object"&&typeof E.length=="number"&&Object.prototype.hasOwnProperty.call(E,"callee")&&!Object.prototype.propertyIsEnumerable.call(E,"callee")||!1}},function(h,f){var p=Object.prototype.hasOwnProperty,k="~";function x(){}Object.create&&(x.prototype=Object.create(null),new x().__proto__||(k=!1));function E(O,y,l){this.fn=O,this.context=y,this.once=l||!1}function b(){this._events=new x,this._eventsCount=0}b.prototype.eventNames=function(){var y=[],l,r;if(this._eventsCount===0)return y;for(r in l=this._events)p.call(l,r)&&y.push(k?r.slice(1):r);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(l)):y},b.prototype.listeners=function(y,l){var r=k?k+y:y,o=this._events[r];if(l)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var m=0,c=o.length,d=new Array(c);m<c;m++)d[m]=o[m].fn;return d},b.prototype.emit=function(y,l,r,o,m,c){var d=k?k+y:y;if(!this._events[d])return!1;var u=this._events[d],s=arguments.length,_,a;if(u.fn){switch(u.once&&this.removeListener(y,u.fn,void 0,!0),s){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,l),!0;case 3:return u.fn.call(u.context,l,r),!0;case 4:return u.fn.call(u.context,l,r,o),!0;case 5:return u.fn.call(u.context,l,r,o,m),!0;case 6:return u.fn.call(u.context,l,r,o,m,c),!0}for(a=1,_=new Array(s-1);a<s;a++)_[a-1]=arguments[a];u.fn.apply(u.context,_)}else{var g=u.length,B;for(a=0;a<g;a++)switch(u[a].once&&this.removeListener(y,u[a].fn,void 0,!0),s){case 1:u[a].fn.call(u[a].context);break;case 2:u[a].fn.call(u[a].context,l);break;case 3:u[a].fn.call(u[a].context,l,r);break;case 4:u[a].fn.call(u[a].context,l,r,o);break;default:if(!_)for(B=1,_=new Array(s-1);B<s;B++)_[B-1]=arguments[B];u[a].fn.apply(u[a].context,_)}}return!0},b.prototype.on=function(y,l,r){var o=new E(l,r||this),m=k?k+y:y;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],o]:this._events[m].push(o):(this._events[m]=o,this._eventsCount++),this},b.prototype.once=function(y,l,r){var o=new E(l,r||this,!0),m=k?k+y:y;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],o]:this._events[m].push(o):(this._events[m]=o,this._eventsCount++),this},b.prototype.removeListener=function(y,l,r,o){var m=k?k+y:y;if(!this._events[m])return this;if(!l)return--this._eventsCount===0?this._events=new x:delete this._events[m],this;var c=this._events[m];if(c.fn)c.fn===l&&(!o||c.once)&&(!r||c.context===r)&&(--this._eventsCount===0?this._events=new x:delete this._events[m]);else{for(var d=0,u=[],s=c.length;d<s;d++)(c[d].fn!==l||o&&!c[d].once||r&&c[d].context!==r)&&u.push(c[d]);u.length?this._events[m]=u.length===1?u[0]:u:--this._eventsCount===0?this._events=new x:delete this._events[m]}return this},b.prototype.removeAllListeners=function(y){var l;return y?(l=k?k+y:y,this._events[l]&&(--this._eventsCount===0?this._events=new x:delete this._events[l])):(this._events=new x,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prototype.setMaxListeners=function(){return this},b.prefixed=k,b.EventEmitter=b,typeof h<"u"&&(h.exports=b)},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.matchText=f.matchSpacing=f.matchNewline=f.matchBlot=f.matchAttributor=f.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},x=function(){function nt(it,st){var lt=[],at=!0,mt=!1,_t=void 0;try{for(var gt=it[Symbol.iterator](),jt;!(at=(jt=gt.next()).done)&&(lt.push(jt.value),!(st&&lt.length===st));at=!0);}catch(Ht){mt=!0,_t=Ht}finally{try{!at&&gt.return&&gt.return()}finally{if(mt)throw _t}}return lt}return function(it,st){if(Array.isArray(it))return it;if(Symbol.iterator in Object(it))return nt(it,st);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function nt(it,st){for(var lt=0;lt<st.length;lt++){var at=st[lt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(it,at.key,at)}}return function(it,st,lt){return st&&nt(it.prototype,st),lt&&nt(it,lt),it}}(),b=p(3),O=T(b),y=p(2),l=T(y),r=p(0),o=T(r),m=p(5),c=T(m),d=p(10),u=T(d),s=p(9),_=T(s),a=p(36),g=p(37),B=p(13),N=T(B),C=p(26),q=p(38),A=p(39),w=p(40);function T(nt){return nt&&nt.__esModule?nt:{default:nt}}function R(nt,it,st){return it in nt?Object.defineProperty(nt,it,{value:st,enumerable:!0,configurable:!0,writable:!0}):nt[it]=st,nt}function j(nt,it){if(!(nt instanceof it))throw new TypeError("Cannot call a class as a function")}function H(nt,it){if(!nt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it&&(typeof it=="object"||typeof it=="function")?it:nt}function V(nt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);nt.prototype=Object.create(it&&it.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(nt,it):nt.__proto__=it)}var Y=(0,u.default)("quill:clipboard"),et="__ql-matcher",G=[[Node.TEXT_NODE,St],[Node.TEXT_NODE,Ot],["br",ft],[Node.ELEMENT_NODE,Ot],[Node.ELEMENT_NODE,rt],[Node.ELEMENT_NODE,Tt],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,Dt],["li",pt],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",ht]],z=[a.AlignAttribute,q.DirectionAttribute].reduce(function(nt,it){return nt[it.keyName]=it,nt},{}),M=[a.AlignStyle,g.BackgroundStyle,C.ColorStyle,q.DirectionStyle,A.FontStyle,w.SizeStyle].reduce(function(nt,it){return nt[it.keyName]=it,nt},{}),Z=function(nt){V(it,nt);function it(st,lt){j(this,it);var at=H(this,(it.__proto__||Object.getPrototypeOf(it)).call(this,st,lt));return at.quill.root.addEventListener("paste",at.onPaste.bind(at)),at.container=at.quill.addContainer("ql-clipboard"),at.container.setAttribute("contenteditable",!0),at.container.setAttribute("tabindex",-1),at.matchers=[],G.concat(at.options.matchers).forEach(function(mt){var _t=x(mt,2),gt=_t[0],jt=_t[1];!lt.matchVisual&&jt===Tt||at.addMatcher(gt,jt)}),at}return E(it,[{key:"addMatcher",value:function(lt,at){this.matchers.push([lt,at])}},{key:"convert",value:function(lt){if(typeof lt=="string")return this.container.innerHTML=lt.replace(/\>\r?\n +\</g,"><"),this.convert();var at=this.quill.getFormat(this.quill.selection.savedRange.index);if(at[N.default.blotName]){var mt=this.container.innerText;return this.container.innerHTML="",new l.default().insert(mt,R({},N.default.blotName,at[N.default.blotName]))}var _t=this.prepareMatching(),gt=x(_t,2),jt=gt[0],Ht=gt[1],Lt=$(this.container,jt,Ht);return W(Lt,`
`)&&Lt.ops[Lt.ops.length-1].attributes==null&&(Lt=Lt.compose(new l.default().retain(Lt.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,Lt),this.container.innerHTML="",Lt}},{key:"dangerouslyPasteHTML",value:function(lt,at){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.default.sources.API;if(typeof lt=="string")this.quill.setContents(this.convert(lt),at),this.quill.setSelection(0,c.default.sources.SILENT);else{var _t=this.convert(at);this.quill.updateContents(new l.default().retain(lt).concat(_t),mt),this.quill.setSelection(lt+_t.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(lt){var at=this;if(!(lt.defaultPrevented||!this.quill.isEnabled())){var mt=this.quill.getSelection(),_t=new l.default().retain(mt.index),gt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){_t=_t.concat(at.convert()).delete(mt.length),at.quill.updateContents(_t,c.default.sources.USER),at.quill.setSelection(_t.length()-mt.length,c.default.sources.SILENT),at.quill.scrollingContainer.scrollTop=gt,at.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var lt=this,at=[],mt=[];return this.matchers.forEach(function(_t){var gt=x(_t,2),jt=gt[0],Ht=gt[1];switch(jt){case Node.TEXT_NODE:mt.push(Ht);break;case Node.ELEMENT_NODE:at.push(Ht);break;default:[].forEach.call(lt.container.querySelectorAll(jt),function(Lt){Lt[et]=Lt[et]||[],Lt[et].push(Ht)});break}}),[at,mt]}}]),it}(_.default);Z.DEFAULTS={matchers:[],matchVisual:!0};function F(nt,it,st){return(typeof it>"u"?"undefined":k(it))==="object"?Object.keys(it).reduce(function(lt,at){return F(lt,at,it[at])},nt):nt.reduce(function(lt,at){return at.attributes&&at.attributes[it]?lt.push(at):lt.insert(at.insert,(0,O.default)({},R({},it,st),at.attributes))},new l.default)}function K(nt){if(nt.nodeType!==Node.ELEMENT_NODE)return{};var it="__ql-computed-style";return nt[it]||(nt[it]=window.getComputedStyle(nt))}function W(nt,it){for(var st="",lt=nt.ops.length-1;lt>=0&&st.length<it.length;--lt){var at=nt.ops[lt];if(typeof at.insert!="string")break;st=at.insert+st}return st.slice(-1*it.length)===it}function D(nt){if(nt.childNodes.length===0)return!1;var it=K(nt);return["block","list-item"].indexOf(it.display)>-1}function $(nt,it,st){return nt.nodeType===nt.TEXT_NODE?st.reduce(function(lt,at){return at(nt,lt)},new l.default):nt.nodeType===nt.ELEMENT_NODE?[].reduce.call(nt.childNodes||[],function(lt,at){var mt=$(at,it,st);return at.nodeType===nt.ELEMENT_NODE&&(mt=it.reduce(function(_t,gt){return gt(at,_t)},mt),mt=(at[et]||[]).reduce(function(_t,gt){return gt(at,_t)},mt)),lt.concat(mt)},new l.default):new l.default}function J(nt,it,st){return F(st,nt,!0)}function Q(nt,it){var st=o.default.Attributor.Attribute.keys(nt),lt=o.default.Attributor.Class.keys(nt),at=o.default.Attributor.Style.keys(nt),mt={};return st.concat(lt).concat(at).forEach(function(_t){var gt=o.default.query(_t,o.default.Scope.ATTRIBUTE);gt!=null&&(mt[gt.attrName]=gt.value(nt),mt[gt.attrName])||(gt=z[_t],gt!=null&&(gt.attrName===_t||gt.keyName===_t)&&(mt[gt.attrName]=gt.value(nt)||void 0),gt=M[_t],gt!=null&&(gt.attrName===_t||gt.keyName===_t)&&(gt=M[_t],mt[gt.attrName]=gt.value(nt)||void 0))}),Object.keys(mt).length>0&&(it=F(it,mt)),it}function rt(nt,it){var st=o.default.query(nt);if(st==null)return it;if(st.prototype instanceof o.default.Embed){var lt={},at=st.value(nt);at!=null&&(lt[st.blotName]=at,it=new l.default().insert(lt,st.formats(nt)))}else typeof st.formats=="function"&&(it=F(it,st.blotName,st.formats(nt)));return it}function ft(nt,it){return W(it,`
`)||it.insert(`
`),it}function ht(){return new l.default}function pt(nt,it){var st=o.default.query(nt);if(st==null||st.blotName!=="list-item"||!W(it,`
`))return it;for(var lt=-1,at=nt.parentNode;!at.classList.contains("ql-clipboard");)(o.default.query(at)||{}).blotName==="list"&&(lt+=1),at=at.parentNode;return lt<=0?it:it.compose(new l.default().retain(it.length()-1).retain(1,{indent:lt}))}function Ot(nt,it){return W(it,`
`)||(D(nt)||it.length()>0&&nt.nextSibling&&D(nt.nextSibling))&&it.insert(`
`),it}function Tt(nt,it){if(D(nt)&&nt.nextElementSibling!=null&&!W(it,`

`)){var st=nt.offsetHeight+parseFloat(K(nt).marginTop)+parseFloat(K(nt).marginBottom);nt.nextElementSibling.offsetTop>nt.offsetTop+st*1.5&&it.insert(`
`)}return it}function Dt(nt,it){var st={},lt=nt.style||{};return lt.fontStyle&&K(nt).fontStyle==="italic"&&(st.italic=!0),lt.fontWeight&&(K(nt).fontWeight.startsWith("bold")||parseInt(K(nt).fontWeight)>=700)&&(st.bold=!0),Object.keys(st).length>0&&(it=F(it,st)),parseFloat(lt.textIndent||0)>0&&(it=new l.default().insert("	").concat(it)),it}function St(nt,it){var st=nt.data;if(nt.parentNode.tagName==="O:P")return it.insert(st.trim());if(st.trim().length===0&&nt.parentNode.classList.contains("ql-clipboard"))return it;if(!K(nt.parentNode).whiteSpace.startsWith("pre")){var lt=function(mt,_t){return _t=_t.replace(/[^\u00a0]/g,""),_t.length<1&&mt?" ":_t};st=st.replace(/\r\n/g," ").replace(/\n/g," "),st=st.replace(/\s\s+/g,lt.bind(lt,!0)),(nt.previousSibling==null&&D(nt.parentNode)||nt.previousSibling!=null&&D(nt.previousSibling))&&(st=st.replace(/^\s+/,lt.bind(lt,!1))),(nt.nextSibling==null&&D(nt.parentNode)||nt.nextSibling!=null&&D(nt.nextSibling))&&(st=st.replace(/\s+$/,lt.bind(lt,!1)))}return it.insert(st)}f.default=Z,f.matchAttributor=Q,f.matchBlot=rt,f.matchNewline=Ot,f.matchSpacing=Tt,f.matchText=St},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function m(c,d){for(var u=0;u<d.length;u++){var s=d[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,d,u){return d&&m(c.prototype,d),u&&m(c,u),c}}(),x=function m(c,d,u){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,d);if(s===void 0){var _=Object.getPrototypeOf(c);return _===null?void 0:m(_,d,u)}else{if("value"in s)return s.value;var a=s.get;return a===void 0?void 0:a.call(u)}},E=p(6),b=O(E);function O(m){return m&&m.__esModule?m:{default:m}}function y(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function l(m,c){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:m}function r(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(m,c):m.__proto__=c)}var o=function(m){r(c,m);function c(){return y(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return k(c,[{key:"optimize",value:function(u){x(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,u),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return x(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),c}(b.default);o.blotName="bold",o.tagName=["STRONG","B"],f.default=o},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.addControls=f.default=void 0;var k=function(){function w(T,R){var j=[],H=!0,V=!1,Y=void 0;try{for(var et=T[Symbol.iterator](),G;!(H=(G=et.next()).done)&&(j.push(G.value),!(R&&j.length===R));H=!0);}catch(z){V=!0,Y=z}finally{try{!H&&et.return&&et.return()}finally{if(V)throw Y}}return j}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return w(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function w(T,R){for(var j=0;j<R.length;j++){var H=R[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(T,H.key,H)}}return function(T,R,j){return R&&w(T.prototype,R),j&&w(T,j),T}}(),E=p(2),b=u(E),O=p(0),y=u(O),l=p(5),r=u(l),o=p(10),m=u(o),c=p(9),d=u(c);function u(w){return w&&w.__esModule?w:{default:w}}function s(w,T,R){return T in w?Object.defineProperty(w,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[T]=R,w}function _(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function a(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function g(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var B=(0,m.default)("quill:toolbar"),N=function(w){g(T,w);function T(R,j){_(this,T);var H=a(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,j));if(Array.isArray(H.options.container)){var V=document.createElement("div");q(V,H.options.container),R.container.parentNode.insertBefore(V,R.container),H.container=V}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var Y;return Y=B.error("Container required for toolbar",H.options),a(H,Y)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(et){H.addHandler(et,H.options.handlers[et])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(et){H.attach(et)}),H.quill.on(r.default.events.EDITOR_CHANGE,function(et,G){et===r.default.events.SELECTION_CHANGE&&H.update(G)}),H.quill.on(r.default.events.SCROLL_OPTIMIZE,function(){var et=H.quill.selection.getRange(),G=k(et,1),z=G[0];H.update(z)}),H}return x(T,[{key:"addHandler",value:function(j,H){this.handlers[j]=H}},{key:"attach",value:function(j){var H=this,V=[].find.call(j.classList,function(et){return et.indexOf("ql-")===0});if(V){if(V=V.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){B.warn("ignoring attaching to disabled format",V,j);return}if(y.default.query(V)==null){B.warn("ignoring attaching to nonexistent format",V,j);return}}var Y=j.tagName==="SELECT"?"change":"click";j.addEventListener(Y,function(et){var G=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var z=j.options[j.selectedIndex];z.hasAttribute("selected")?G=!1:G=z.value||!1}else j.classList.contains("ql-active")?G=!1:G=j.value||!j.hasAttribute("value"),et.preventDefault();H.quill.focus();var M=H.quill.selection.getRange(),Z=k(M,1),F=Z[0];if(H.handlers[V]!=null)H.handlers[V].call(H,G);else if(y.default.query(V).prototype instanceof y.default.Embed){if(G=prompt("Enter "+V),!G)return;H.quill.updateContents(new b.default().retain(F.index).delete(F.length).insert(s({},V,G)),r.default.sources.USER)}else H.quill.format(V,G,r.default.sources.USER);H.update(F)}),this.controls.push([V,j])}}},{key:"update",value:function(j){var H=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(V){var Y=k(V,2),et=Y[0],G=Y[1];if(G.tagName==="SELECT"){var z=void 0;if(j==null)z=null;else if(H[et]==null)z=G.querySelector("option[selected]");else if(!Array.isArray(H[et])){var M=H[et];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),z=G.querySelector('option[value="'+M+'"]')}z==null?(G.value="",G.selectedIndex=-1):z.selected=!0}else if(j==null)G.classList.remove("ql-active");else if(G.hasAttribute("value")){var Z=H[et]===G.getAttribute("value")||H[et]!=null&&H[et].toString()===G.getAttribute("value")||H[et]==null&&!G.getAttribute("value");G.classList.toggle("ql-active",Z)}else G.classList.toggle("ql-active",H[et]!=null)})}}]),T}(d.default);N.DEFAULTS={};function C(w,T,R){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+T),R!=null&&(j.value=R),w.appendChild(j)}function q(w,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(R){var j=document.createElement("span");j.classList.add("ql-formats"),R.forEach(function(H){if(typeof H=="string")C(j,H);else{var V=Object.keys(H)[0],Y=H[V];Array.isArray(Y)?A(j,V,Y):C(j,V,Y)}}),w.appendChild(j)})}function A(w,T,R){var j=document.createElement("select");j.classList.add("ql-"+T),R.forEach(function(H){var V=document.createElement("option");H!==!1?V.setAttribute("value",H):V.setAttribute("selected","selected"),j.appendChild(V)}),w.appendChild(j)}N.DEFAULTS={container:null,handlers:{clean:function(){var T=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(H){y.default.query(H,y.default.Scope.INLINE)!=null&&T.quill.format(H,!1)})}else this.quill.removeFormat(R,r.default.sources.USER)},direction:function(T){var R=this.quill.getFormat().align;T==="rtl"&&R==null?this.quill.format("align","right",r.default.sources.USER):!T&&R==="right"&&this.quill.format("align",!1,r.default.sources.USER),this.quill.format("direction",T,r.default.sources.USER)},indent:function(T){var R=this.quill.getSelection(),j=this.quill.getFormat(R),H=parseInt(j.indent||0);if(T==="+1"||T==="-1"){var V=T==="+1"?1:-1;j.direction==="rtl"&&(V*=-1),this.quill.format("indent",H+V,r.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,r.default.sources.USER)},list:function(T){var R=this.quill.getSelection(),j=this.quill.getFormat(R);T==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,r.default.sources.USER):this.quill.format("list","unchecked",r.default.sources.USER):this.quill.format("list",T,r.default.sources.USER)}}},f.default=N,f.addControls=q},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function m(c,d){for(var u=0;u<d.length;u++){var s=d[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,d,u){return d&&m(c.prototype,d),u&&m(c,u),c}}(),x=function m(c,d,u){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,d);if(s===void 0){var _=Object.getPrototypeOf(c);return _===null?void 0:m(_,d,u)}else{if("value"in s)return s.value;var a=s.get;return a===void 0?void 0:a.call(u)}},E=p(28),b=O(E);function O(m){return m&&m.__esModule?m:{default:m}}function y(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function l(m,c){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:m}function r(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(m,c):m.__proto__=c)}var o=function(m){r(c,m);function c(d,u){y(this,c);var s=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,d));return s.label.innerHTML=u,s.container.classList.add("ql-color-picker"),[].slice.call(s.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),s}return k(c,[{key:"buildItem",value:function(u){var s=x(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"buildItem",this).call(this,u);return s.style.backgroundColor=u.getAttribute("value")||"",s}},{key:"selectItem",value:function(u,s){x(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"selectItem",this).call(this,u,s);var _=this.label.querySelector(".ql-color-label"),a=u&&u.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=a:_.style.fill=a)}}]),c}(b.default);f.default=o},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function m(c,d){for(var u=0;u<d.length;u++){var s=d[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,d,u){return d&&m(c.prototype,d),u&&m(c,u),c}}(),x=function m(c,d,u){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,d);if(s===void 0){var _=Object.getPrototypeOf(c);return _===null?void 0:m(_,d,u)}else{if("value"in s)return s.value;var a=s.get;return a===void 0?void 0:a.call(u)}},E=p(28),b=O(E);function O(m){return m&&m.__esModule?m:{default:m}}function y(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function l(m,c){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:m}function r(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(m,c):m.__proto__=c)}var o=function(m){r(c,m);function c(d,u){y(this,c);var s=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,d));return s.container.classList.add("ql-icon-picker"),[].forEach.call(s.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=u[_.getAttribute("data-value")||""]}),s.defaultItem=s.container.querySelector(".ql-selected"),s.selectItem(s.defaultItem),s}return k(c,[{key:"selectItem",value:function(u,s){x(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"selectItem",this).call(this,u,s),u=u||this.defaultItem,this.label.innerHTML=u.innerHTML}}]),c}(b.default);f.default=o},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function b(O,y){for(var l=0;l<y.length;l++){var r=y[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(O,r.key,r)}}return function(O,y,l){return y&&b(O.prototype,y),l&&b(O,l),O}}();function x(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}var E=function(){function b(O,y){var l=this;x(this,b),this.quill=O,this.boundsContainer=y||document.body,this.root=O.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){l.root.style.marginTop=-1*l.quill.root.scrollTop+"px"}),this.hide()}return k(b,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var l=y.left+y.width/2-this.root.offsetWidth/2,r=y.bottom+this.quill.root.scrollTop;this.root.style.left=l+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),c=0;if(m.right>o.right&&(c=o.right-m.right,this.root.style.left=l+c+"px"),m.left<o.left&&(c=o.left-m.left,this.root.style.left=l+c+"px"),m.bottom>o.bottom){var d=m.bottom-m.top,u=y.bottom-y.top+d;this.root.style.top=r-u+"px",this.root.classList.add("ql-flip")}return c}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),b}();f.default=E},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function A(w,T){var R=[],j=!0,H=!1,V=void 0;try{for(var Y=w[Symbol.iterator](),et;!(j=(et=Y.next()).done)&&(R.push(et.value),!(T&&R.length===T));j=!0);}catch(G){H=!0,V=G}finally{try{!j&&Y.return&&Y.return()}finally{if(H)throw V}}return R}return function(w,T){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return A(w,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function A(w,T,R){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,T);if(j===void 0){var H=Object.getPrototypeOf(w);return H===null?void 0:A(H,T,R)}else{if("value"in j)return j.value;var V=j.get;return V===void 0?void 0:V.call(R)}},E=function(){function A(w,T){for(var R=0;R<T.length;R++){var j=T[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,T,R){return T&&A(w.prototype,T),R&&A(w,R),w}}(),b=p(3),O=_(b),y=p(8),l=_(y),r=p(43),o=_(r),m=p(27),c=_(m),d=p(15),u=p(41),s=_(u);function _(A){return A&&A.__esModule?A:{default:A}}function a(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function g(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function B(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(A){B(w,A);function w(T,R){a(this,w),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=N);var j=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,R));return j.quill.container.classList.add("ql-snow"),j}return E(w,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),s.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),s.default),this.tooltip=new q(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,H){R.handlers.link.call(R,!H.format.link)})}}]),w}(o.default);C.DEFAULTS=(0,O.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){if(w){var T=this.quill.getSelection();if(T==null||T.length==0)return;var R=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var j=this.quill.theme.tooltip;j.edit("link",R)}else this.quill.format("link",!1)}}}}});var q=function(A){B(w,A);function w(T,R){a(this,w);var j=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,R));return j.preview=j.root.querySelector("a.ql-preview"),j}return E(w,[{key:"listen",value:function(){var R=this;x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(R.linkRange!=null){var H=R.linkRange;R.restoreFocus(),R.quill.formatText(H,"link",!1,l.default.sources.USER),delete R.linkRange}j.preventDefault(),R.hide()}),this.quill.on(l.default.events.SELECTION_CHANGE,function(j,H,V){if(j!=null){if(j.length===0&&V===l.default.sources.USER){var Y=R.quill.scroll.descendant(c.default,j.index),et=k(Y,2),G=et[0],z=et[1];if(G!=null){R.linkRange=new d.Range(j.index-z,G.length());var M=c.default.formats(G.domNode);R.preview.textContent=M,R.preview.setAttribute("href",M),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){x(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),w}(r.BaseTooltip);q.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),f.default=C},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(29),x=at(k),E=p(36),b=p(38),O=p(64),y=p(65),l=at(y),r=p(66),o=at(r),m=p(67),c=at(m),d=p(37),u=p(26),s=p(39),_=p(40),a=p(56),g=at(a),B=p(68),N=at(B),C=p(27),q=at(C),A=p(69),w=at(A),T=p(70),R=at(T),j=p(71),H=at(j),V=p(72),Y=at(V),et=p(73),G=at(et),z=p(13),M=at(z),Z=p(74),F=at(Z),K=p(75),W=at(K),D=p(57),$=at(D),J=p(41),Q=at(J),rt=p(28),ft=at(rt),ht=p(59),pt=at(ht),Ot=p(60),Tt=at(Ot),Dt=p(61),St=at(Dt),nt=p(108),it=at(nt),st=p(62),lt=at(st);function at(mt){return mt&&mt.__esModule?mt:{default:mt}}x.default.register({"attributors/attribute/direction":b.DirectionAttribute,"attributors/class/align":E.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":u.ColorClass,"attributors/class/direction":b.DirectionClass,"attributors/class/font":s.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":E.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":u.ColorStyle,"attributors/style/direction":b.DirectionStyle,"attributors/style/font":s.FontStyle,"attributors/style/size":_.SizeStyle},!0),x.default.register({"formats/align":E.AlignClass,"formats/direction":b.DirectionClass,"formats/indent":O.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":u.ColorStyle,"formats/font":s.FontClass,"formats/size":_.SizeClass,"formats/blockquote":l.default,"formats/code-block":M.default,"formats/header":o.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":z.Code,"formats/italic":N.default,"formats/link":q.default,"formats/script":w.default,"formats/strike":R.default,"formats/underline":H.default,"formats/image":Y.default,"formats/video":G.default,"formats/list/item":m.ListItem,"modules/formula":F.default,"modules/syntax":W.default,"modules/toolbar":$.default,"themes/bubble":it.default,"themes/snow":lt.default,"ui/icons":Q.default,"ui/picker":ft.default,"ui/icon-picker":Tt.default,"ui/color-picker":pt.default,"ui/tooltip":St.default},!0),f.default=x.default},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.IndentClass=void 0;var k=function(){function c(d,u){for(var s=0;s<u.length;s++){var _=u[s];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}return function(d,u,s){return u&&c(d.prototype,u),s&&c(d,s),d}}(),x=function c(d,u,s){d===null&&(d=Function.prototype);var _=Object.getOwnPropertyDescriptor(d,u);if(_===void 0){var a=Object.getPrototypeOf(d);return a===null?void 0:c(a,u,s)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(s)}},E=p(0),b=O(E);function O(c){return c&&c.__esModule?c:{default:c}}function y(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function l(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function r(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var o=function(c){r(d,c);function d(){return y(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return k(d,[{key:"add",value:function(s,_){if(_==="+1"||_==="-1"){var a=this.value(s)||0;_=_==="+1"?a+1:a-1}return _===0?(this.remove(s),!0):x(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"add",this).call(this,s,_)}},{key:"canAdd",value:function(s,_){return x(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"canAdd",this).call(this,s,_)||x(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"canAdd",this).call(this,s,parseInt(_))}},{key:"value",value:function(s){return parseInt(x(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,s))||void 0}}]),d}(b.default.Attributor.Class),m=new o("indent","ql-indent",{scope:b.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});f.IndentClass=m},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(4),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}function b(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function O(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function y(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){y(o,r);function o(){return b(this,o),O(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o}(x.default);l.blotName="blockquote",l.tagName="blockquote",f.default=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function o(m,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,u.key,u)}}return function(m,c,d){return c&&o(m.prototype,c),d&&o(m,d),m}}(),x=p(4),E=b(x);function b(o){return o&&o.__esModule?o:{default:o}}function O(o,m){if(!(o instanceof m))throw new TypeError("Cannot call a class as a function")}function y(o,m){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:o}function l(o,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);o.prototype=Object.create(m&&m.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(o,m):o.__proto__=m)}var r=function(o){l(m,o);function m(){return O(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return k(m,null,[{key:"formats",value:function(d){return this.tagName.indexOf(d.tagName)+1}}]),m}(E.default);r.blotName="header",r.tagName=["H1","H2","H3","H4","H5","H6"],f.default=r},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.ListItem=void 0;var k=function(){function a(g,B){for(var N=0;N<B.length;N++){var C=B[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,B,N){return B&&a(g.prototype,B),N&&a(g,N),g}}(),x=function a(g,B,N){g===null&&(g=Function.prototype);var C=Object.getOwnPropertyDescriptor(g,B);if(C===void 0){var q=Object.getPrototypeOf(g);return q===null?void 0:a(q,B,N)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(N)}},E=p(0),b=o(E),O=p(4),y=o(O),l=p(25),r=o(l);function o(a){return a&&a.__esModule?a:{default:a}}function m(a,g,B){return g in a?Object.defineProperty(a,g,{value:B,enumerable:!0,configurable:!0,writable:!0}):a[g]=B,a}function c(a,g){if(!(a instanceof g))throw new TypeError("Cannot call a class as a function")}function d(a,g){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:a}function u(a,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);a.prototype=Object.create(g&&g.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(a,g):a.__proto__=g)}var s=function(a){u(g,a);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return k(g,[{key:"format",value:function(N,C){N===_.blotName&&!C?this.replaceWith(b.default.create(this.statics.scope)):x(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,N,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():x(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,C){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,C),this):(this.parent.unwrap(),x(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"replaceWith",this).call(this,N,C))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:x(g.__proto__||Object.getPrototypeOf(g),"formats",this).call(this,N)}}]),g}(y.default);s.blotName="list-item",s.tagName="LI";var _=function(a){u(g,a),k(g,null,[{key:"create",value:function(N){var C=N==="ordered"?"OL":"UL",q=x(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,C);return(N==="checked"||N==="unchecked")&&q.setAttribute("data-checked",N==="checked"),q}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function g(B){c(this,g);var N=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,B)),C=function(A){if(A.target.parentNode===B){var w=N.statics.formats(B),T=b.default.find(A.target);w==="checked"?T.format("list","unchecked"):w==="unchecked"&&T.format("list","checked")}};return B.addEventListener("touchstart",C),B.addEventListener("mousedown",C),N}return k(g,[{key:"format",value:function(N,C){this.children.length>0&&this.children.tail.format(N,C)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,C){if(N instanceof s)x(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertBefore",this).call(this,N,C);else{var q=C==null?this.length():C.offset(this),A=this.split(q);A.parent.insertBefore(N,A)}}},{key:"optimize",value:function(N){x(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,N);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var C=b.default.create(this.statics.defaultChild);N.moveChildren(C),this.appendChild(C)}x(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"replace",this).call(this,N)}}]),g}(r.default);_.blotName="list",_.scope=b.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[s],f.ListItem=s,f.default=_},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(56),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}function b(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function O(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function y(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){y(o,r);function o(){return b(this,o),O(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o}(x.default);l.blotName="italic",l.tagName=["EM","I"],f.default=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function m(c,d){for(var u=0;u<d.length;u++){var s=d[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(c,s.key,s)}}return function(c,d,u){return d&&m(c.prototype,d),u&&m(c,u),c}}(),x=function m(c,d,u){c===null&&(c=Function.prototype);var s=Object.getOwnPropertyDescriptor(c,d);if(s===void 0){var _=Object.getPrototypeOf(c);return _===null?void 0:m(_,d,u)}else{if("value"in s)return s.value;var a=s.get;return a===void 0?void 0:a.call(u)}},E=p(6),b=O(E);function O(m){return m&&m.__esModule?m:{default:m}}function y(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function l(m,c){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:m}function r(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(m,c):m.__proto__=c)}var o=function(m){r(c,m);function c(){return y(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return k(c,null,[{key:"create",value:function(u){return u==="super"?document.createElement("sup"):u==="sub"?document.createElement("sub"):x(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,u)}},{key:"formats",value:function(u){if(u.tagName==="SUB")return"sub";if(u.tagName==="SUP")return"super"}}]),c}(b.default);o.blotName="script",o.tagName=["SUB","SUP"],f.default=o},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(6),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}function b(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function O(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function y(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){y(o,r);function o(){return b(this,o),O(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o}(x.default);l.blotName="strike",l.tagName="S",f.default=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=p(6),x=E(k);function E(r){return r&&r.__esModule?r:{default:r}}function b(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function O(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function y(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){y(o,r);function o(){return b(this,o),O(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o}(x.default);l.blotName="underline",l.tagName="U",f.default=l},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function d(u,s){for(var _=0;_<s.length;_++){var a=s[_];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,_){return s&&d(u.prototype,s),_&&d(u,_),u}}(),x=function d(u,s,_){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:d(g,s,_)}else{if("value"in a)return a.value;var B=a.get;return B===void 0?void 0:B.call(_)}},E=p(0),b=y(E),O=p(27);function y(d){return d&&d.__esModule?d:{default:d}}function l(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function r(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var m=["alt","height","width"],c=function(d){o(u,d);function u(){return l(this,u),r(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return k(u,[{key:"format",value:function(_,a){m.indexOf(_)>-1?a?this.domNode.setAttribute(_,a):this.domNode.removeAttribute(_):x(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,_,a)}}],[{key:"create",value:function(_){var a=x(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,_);return typeof _=="string"&&a.setAttribute("src",this.sanitize(_)),a}},{key:"formats",value:function(_){return m.reduce(function(a,g){return _.hasAttribute(g)&&(a[g]=_.getAttribute(g)),a},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,O.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),u}(b.default.Embed);c.blotName="image",c.tagName="IMG",f.default=c},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0});var k=function(){function d(u,s){for(var _=0;_<s.length;_++){var a=s[_];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,_){return s&&d(u.prototype,s),_&&d(u,_),u}}(),x=function d(u,s,_){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:d(g,s,_)}else{if("value"in a)return a.value;var B=a.get;return B===void 0?void 0:B.call(_)}},E=p(4),b=p(27),O=y(b);function y(d){return d&&d.__esModule?d:{default:d}}function l(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function r(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function o(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var m=["height","width"],c=function(d){o(u,d);function u(){return l(this,u),r(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return k(u,[{key:"format",value:function(_,a){m.indexOf(_)>-1?a?this.domNode.setAttribute(_,a):this.domNode.removeAttribute(_):x(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,_,a)}}],[{key:"create",value:function(_){var a=x(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,_);return a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("src",this.sanitize(_)),a}},{key:"formats",value:function(_){return m.reduce(function(a,g){return _.hasAttribute(g)&&(a[g]=_.getAttribute(g)),a},{})}},{key:"sanitize",value:function(_){return O.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),u}(E.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",f.default=c},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.FormulaBlot=void 0;var k=function(){function _(a,g){for(var B=0;B<g.length;B++){var N=g[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(a,N.key,N)}}return function(a,g,B){return g&&_(a.prototype,g),B&&_(a,B),a}}(),x=function _(a,g,B){a===null&&(a=Function.prototype);var N=Object.getOwnPropertyDescriptor(a,g);if(N===void 0){var C=Object.getPrototypeOf(a);return C===null?void 0:_(C,g,B)}else{if("value"in N)return N.value;var q=N.get;return q===void 0?void 0:q.call(B)}},E=p(35),b=o(E),O=p(5),y=o(O),l=p(9),r=o(l);function o(_){return _&&_.__esModule?_:{default:_}}function m(_,a){if(!(_ instanceof a))throw new TypeError("Cannot call a class as a function")}function c(_,a){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:_}function d(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);_.prototype=Object.create(a&&a.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(_,a):_.__proto__=a)}var u=function(_){d(a,_);function a(){return m(this,a),c(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,null,[{key:"create",value:function(B){var N=x(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,B);return typeof B=="string"&&(window.katex.render(B,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",B)),N}},{key:"value",value:function(B){return B.getAttribute("data-value")}}]),a}(b.default);u.blotName="formula",u.className="ql-formula",u.tagName="SPAN";var s=function(_){d(a,_),k(a,null,[{key:"register",value:function(){y.default.register(u,!0)}}]);function a(){m(this,a);var g=c(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return g}return a}(r.default);f.FormulaBlot=u,f.default=s},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.CodeToken=f.CodeBlock=void 0;var k=function(){function B(N,C){for(var q=0;q<C.length;q++){var A=C[q];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,C,q){return C&&B(N.prototype,C),q&&B(N,q),N}}(),x=function B(N,C,q){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,C);if(A===void 0){var w=Object.getPrototypeOf(N);return w===null?void 0:B(w,C,q)}else{if("value"in A)return A.value;var T=A.get;return T===void 0?void 0:T.call(q)}},E=p(0),b=c(E),O=p(5),y=c(O),l=p(9),r=c(l),o=p(13),m=c(o);function c(B){return B&&B.__esModule?B:{default:B}}function d(B,N){if(!(B instanceof N))throw new TypeError("Cannot call a class as a function")}function u(B,N){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:B}function s(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(B,N):B.__proto__=N)}var _=function(B){s(N,B);function N(){return d(this,N),u(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return k(N,[{key:"replaceWith",value:function(q){this.domNode.textContent=this.domNode.textContent,this.attach(),x(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,q)}},{key:"highlight",value:function(q){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=q(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),N}(m.default);_.className="ql-syntax";var a=new b.default.Attributor.Class("token","hljs",{scope:b.default.Scope.INLINE}),g=function(B){s(N,B),k(N,null,[{key:"register",value:function(){y.default.register(a,!0),y.default.register(_,!0)}}]);function N(C,q){d(this,N);var A=u(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,q));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var w=null;return A.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(w),w=setTimeout(function(){A.highlight(),w=null},A.options.interval)}),A.highlight(),A}return k(N,[{key:"highlight",value:function(){var q=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(w){w.highlight(q.options.highlight)}),this.quill.update(y.default.sources.SILENT),A!=null&&this.quill.setSelection(A,y.default.sources.SILENT)}}}]),N}(r.default);g.DEFAULTS={highlight:function(){return window.hljs==null?null:function(B){var N=window.hljs.highlightAuto(B);return N.value}}(),interval:1e3},f.CodeBlock=_,f.CodeToken=a,f.default=g},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(h,f){h.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(h,f){h.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(h,f){h.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(h,f){h.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(h,f){h.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(h,f,p){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BubbleTooltip=void 0;var k=function N(C,q,A){C===null&&(C=Function.prototype);var w=Object.getOwnPropertyDescriptor(C,q);if(w===void 0){var T=Object.getPrototypeOf(C);return T===null?void 0:N(T,q,A)}else{if("value"in w)return w.value;var R=w.get;return R===void 0?void 0:R.call(A)}},x=function(){function N(C,q){for(var A=0;A<q.length;A++){var w=q[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(C,w.key,w)}}return function(C,q,A){return q&&N(C.prototype,q),A&&N(C,A),C}}(),E=p(3),b=d(E),O=p(8),y=d(O),l=p(43),r=d(l),o=p(15),m=p(41),c=d(m);function d(N){return N&&N.__esModule?N:{default:N}}function u(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function s(N,C){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:N}function _(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(N,C):N.__proto__=C)}var a=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(N){_(C,N);function C(q,A){u(this,C),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=a);var w=s(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,q,A));return w.quill.container.classList.add("ql-bubble"),w}return x(C,[{key:"extendToolbar",value:function(A){this.tooltip=new B(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),c.default)}}]),C}(r.default);g.DEFAULTS=(0,b.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var B=function(N){_(C,N);function C(q,A){u(this,C);var w=s(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,q,A));return w.quill.on(y.default.events.EDITOR_CHANGE,function(T,R,j,H){if(T===y.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&H===y.default.sources.USER){w.show(),w.root.style.left="0px",w.root.style.width="",w.root.style.width=w.root.offsetWidth+"px";var V=w.quill.getLines(R.index,R.length);if(V.length===1)w.position(w.quill.getBounds(R));else{var Y=V[V.length-1],et=w.quill.getIndex(Y),G=Math.min(Y.length()-1,R.index+R.length-et),z=w.quill.getBounds(new o.Range(et,G));w.position(z)}}else document.activeElement!==w.textbox&&w.quill.hasFocus()&&w.hide()}),w}return x(C,[{key:"listen",value:function(){var A=this;k(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var w=A.quill.getSelection();w!=null&&A.position(A.quill.getBounds(w))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var w=k(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,A),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",w===0)return w;T.style.marginLeft=-1*w-T.offsetWidth/2+"px"}}]),C}(l.BaseTooltip);B.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),f.BubbleTooltip=B,f.default=g},function(h,f,p){h.exports=p(63)}]).default})})(mo);var Bd=mo.exports,Dd=Ft&&Ft.__extends||function(){var P=function(I,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var k in p)p.hasOwnProperty(k)&&(f[k]=p[k])},P(I,h)};return function(I,h){P(I,h);function f(){this.constructor=I}I.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),pn=Ft&&Ft.__assign||function(){return pn=Object.assign||function(P){for(var I,h=1,f=arguments.length;h<f;h++){I=arguments[h];for(var p in I)Object.prototype.hasOwnProperty.call(I,p)&&(P[p]=I[p])}return P},pn.apply(this,arguments)},qd=Ft&&Ft.__spreadArrays||function(){for(var P=0,I=0,h=arguments.length;I<h;I++)P+=arguments[I].length;for(var f=Array(P),p=0,I=0;I<h;I++)for(var k=arguments[I],x=0,E=k.length;x<E;x++,p++)f[p]=k[x];return f},En=Ft&&Ft.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},te=En(Et),jd=En(Kr),He=En(Rd),Ur=En(Bd),zd=function(P){Dd(I,P);function I(h){var f=P.call(this,h)||this;f.dirtyProps=["modules","formats","bounds","theme","children"],f.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],f.state={generation:0},f.selection=null,f.onEditorChange=function(k,x,E,b){var O,y,l,r;k==="text-change"?(y=(O=f).onEditorChangeText)===null||y===void 0||y.call(O,f.editor.root.innerHTML,x,b,f.unprivilegedEditor):k==="selection-change"&&((r=(l=f).onEditorChangeSelection)===null||r===void 0||r.call(l,x,b,f.unprivilegedEditor))};var p=f.isControlled()?h.value:h.defaultValue;return f.value=p??"",f}return I.prototype.validateProps=function(h){var f;if(te.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(te.default.Children.count(h.children)){var p=te.default.Children.only(h.children);if(((f=p)===null||f===void 0?void 0:f.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},I.prototype.shouldComponentUpdate=function(h,f){var p=this,k;if(this.validateProps(h),!this.editor||this.state.generation!==f.generation)return!0;if("value"in h){var x=this.getEditorContents(),E=(k=h.value,k??"");this.isEqualValue(E,x)||this.setEditorContents(this.editor,E)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),qd(this.cleanProps,this.dirtyProps).some(function(b){return!He.default(h[b],p.props[b])})},I.prototype.shouldComponentRegenerate=function(h){var f=this;return this.dirtyProps.some(function(p){return!He.default(h[p],f.props[p])})},I.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},I.prototype.componentWillUnmount=function(){this.destroyEditor()},I.prototype.componentDidUpdate=function(h,f){var p=this;if(this.editor&&this.shouldComponentRegenerate(h)){var k=this.editor.getContents(),x=this.editor.getSelection();this.regenerationSnapshot={delta:k,selection:x},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==f.generation){var E=this.regenerationSnapshot,k=E.delta,b=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var O=this.editor;O.setContents(k),$r(function(){return p.setEditorSelection(O,b)})}},I.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},I.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},I.prototype.isControlled=function(){return"value"in this.props},I.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},I.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},I.prototype.createEditor=function(h,f){var p=new Ur.default(h,f);return f.tabIndex!=null&&this.setEditorTabIndex(p,f.tabIndex),this.hookEditor(p),p},I.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},I.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},I.prototype.getEditorContents=function(){return this.value},I.prototype.getEditorSelection=function(){return this.selection},I.prototype.isDelta=function(h){return h&&h.ops},I.prototype.isEqualValue=function(h,f){return this.isDelta(h)&&this.isDelta(f)?He.default(h.ops,f.ops):He.default(h,f)},I.prototype.setEditorContents=function(h,f){var p=this;this.value=f;var k=this.getEditorSelection();typeof f=="string"?h.setContents(h.clipboard.convert(f)):h.setContents(f),$r(function(){return p.setEditorSelection(h,k)})},I.prototype.setEditorSelection=function(h,f){if(this.selection=f,f){var p=h.getLength();f.index=Math.max(0,Math.min(f.index,p-1)),f.length=Math.max(0,Math.min(f.length,p-1-f.index)),h.setSelection(f)}},I.prototype.setEditorTabIndex=function(h,f){var p,k;!((k=(p=h)===null||p===void 0?void 0:p.scroll)===null||k===void 0)&&k.domNode&&(h.scroll.domNode.tabIndex=f)},I.prototype.setEditorReadOnly=function(h,f){f?h.disable():h.enable()},I.prototype.makeUnprivilegedEditor=function(h){var f=h;return{getHTML:function(){return f.root.innerHTML},getLength:f.getLength.bind(f),getText:f.getText.bind(f),getContents:f.getContents.bind(f),getSelection:f.getSelection.bind(f),getBounds:f.getBounds.bind(f)}},I.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=jd.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},I.prototype.renderEditingArea=function(){var h=this,f=this.props,p=f.children,k=f.preserveWhitespace,x=this.state.generation,E={key:x,ref:function(b){h.editingArea=b}};return te.default.Children.count(p)?te.default.cloneElement(te.default.Children.only(p),E):k?te.default.createElement("pre",pn({},E)):te.default.createElement("div",pn({},E))},I.prototype.render=function(){var h;return te.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},I.prototype.onEditorChangeText=function(h,f,p,k){var x,E;if(this.editor){var b=this.isDelta(this.value)?k.getContents():k.getHTML();b!==this.getEditorContents()&&(this.lastDeltaChangeSet=f,this.value=b,(E=(x=this.props).onChange)===null||E===void 0||E.call(x,h,f,p,k))}},I.prototype.onEditorChangeSelection=function(h,f,p){var k,x,E,b,O,y;if(this.editor){var l=this.getEditorSelection(),r=!l&&h,o=l&&!h;He.default(h,l)||(this.selection=h,(x=(k=this.props).onChangeSelection)===null||x===void 0||x.call(k,h,f,p),r?(b=(E=this.props).onFocus)===null||b===void 0||b.call(E,h,f,p):o&&((y=(O=this.props).onBlur)===null||y===void 0||y.call(O,l,f,p)))}},I.prototype.focus=function(){this.editor&&this.editor.focus()},I.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},I.displayName="React Quill",I.Quill=Ur.default,I.defaultProps={theme:"snow",modules:{},readOnly:!1},I}(te.default.Component);function $r(P){Promise.resolve().then(P)}var Zd=zd;const Wr=Ba(Zd),Jd=({label:P,value:I,setData:h})=>{const[f,p]=Et.useState(!1),[k,x]=Et.useState(!1);return wt.jsx("div",{children:wt.jsxs(qa,{title:P,children:[wt.jsxs("div",{className:"px-4 py-1",children:[wt.jsx(mr,{children:"HR"}),wt.jsxs("label",{children:["Pretpregled",wt.jsx(_r,{className:"ml-2",checked:f,onChange:()=>p(E=>!E)})]}),wt.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[wt.jsx(Wr,{value:I.description.hr,onChange:E=>h("description",{...I.description,hr:E}),modules:{toolbar:[[{size:["small",!1,"large","huge"]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{color:[null,"#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff"]},{background:[null,"#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff"]}],[{align:[]}]]},placeholder:"..."}),f&&wt.jsxs("div",{style:{padding:"1rem",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9"},children:[wt.jsx("h3",{children:"Pretpregled:"}),wt.jsx("div",{dangerouslySetInnerHTML:{__html:I.description.hr}})]})]})]}),wt.jsxs("div",{className:"px-4 py-1",children:[wt.jsx(mr,{children:"EN"}),wt.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[wt.jsxs("label",{children:["Pretpregled",wt.jsx(_r,{className:"ml-2",checked:k,onChange:()=>x(E=>!E)})]}),wt.jsx(Wr,{value:I.description.en,onChange:E=>h("description",{...I.description,en:E}),modules:{toolbar:[[{size:["small",!1,"large","huge"]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{color:[null,"#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff"]},{background:[null,"#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff"]}],[{align:[]}]]},placeholder:"..."}),k&&wt.jsxs("div",{style:{padding:"1rem",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9"},children:[wt.jsx("h3",{children:"Pretpregled:"}),wt.jsx("div",{dangerouslySetInnerHTML:{__html:I.description.en}})]})]})]})]})})};export{Yd as I,Xd as M,Jd as T};
